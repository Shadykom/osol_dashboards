import{s as F,T as I,f as Z,r as y,j as s,R as ae,g as vd,a as jd,b as $e,N as bd}from"./index-BnNFJ9rs.js";import{c as Q,U as gt,C as vs,T as Ue,A as js,B as G,R as at,a as E,b as L,d as V,e as B,f as z,g as ie,P as ya,I as Ps,F as Gc,h as Re,D as wd,i as Sd,E as Nd,j as Cd,k as as,l as Ci,S as Td,X as Ad,m as Tn,p as Gr,n as va,r as zc,o as _d,q as Xc,s as ja,t as Zc,u as Md,v as Dd,w as Pd,x as Qc,y as kd,z as Jc,G as Rd,H as Od,J as Ed,K as Ld,L as ba,M as el,N as tl,O as nl,Q as Fd,V as Id,W as Vd,Y as Bd,Z as qd,_ as $d,$ as sl,a0 as Wd,a1 as Ud,a2 as Kd,a3 as Yd,a4 as Hd,a5 as Gd,a6 as zd,a7 as is,a8 as Xd,a9 as Zd,aa as Qd,ab as Ws,ac as oe,ad as Us,ae as Ti,af as Ai,ag as Jd,ah as eh,ai as th,aj as nh,ak as sh,al as rl,am as _i,an as rh,ao as Ke,ap as Vt,aq as Ve,ar as ah,as as Te,at as ye,au as ih,av as oh,aw as yt,ax as vt,ay as jt,az as bt,aA as de,aB as he,aC as ks,aD as Me,aE as In,aF as Vn,aG as Be,aH as Ye,aI as Jt,aJ as al,aK as il,aL as ol,aM as cl,aN as Ee,aO as wa,aP as Bn,aQ as qn,aR as $n,aS as ch,aT as Mi,aU as lh,aV as uh,aW as dh,aX as Rs,aY as wt,aZ as en,a_ as hh,a$ as mh,b0 as fh,b1 as ph,b2 as xh}from"./alert-D4PxffzT.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],yh=Q("arrow-down-left",gh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vh=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Os=Q("arrow-down-right",vh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],bh=Q("arrow-down",jh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],ll=Q("arrow-up-down",wh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],tn=Q("arrow-up-right",Sh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Ch=Q("arrow-up",Nh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Ah=Q("brain",Th);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Sa=Q("building-2",_h);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qt=Q("calendar",Mh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ph=Q("chevron-left",Dh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Es=Q("circle-alert",kh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tt=Q("circle-check-big",Rh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Di=Q("circle-x",Oh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Bt=Q("clock",Eh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lh=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fh=Q("database",Lh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ih=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],St=Q("dollar-sign",Ih);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],tt=Q("download",Vh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4.268 21a2 2 0 0 0 1.727 1H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"ms7g94"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}]],qh=Q("file-search",Bh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $h=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ot=Q("file-text",$h);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Pi=Q("mail",Wh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Kh=Q("maximize-2",Uh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],Hh=Q("minimize-2",Yh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],zh=Q("percent",Gh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],Zh=Q("piggy-bank",Xh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Jh=Q("printer",Qh);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ls=Q("search",em);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],nm=Q("server",tm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],bs=Q("shield",sm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],am=Q("target",rm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Wn=Q("trending-down",im);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qt=Q("triangle-alert",om);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],ul=Q("user-check",cm);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],dl=Q("zap",lm);class Dt{static async getExecutiveKPIs(){try{const{count:t,error:n}=await F.from(I.CUSTOMERS).select("*",{count:"exact",head:!0}),{count:r,error:a}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}),{data:i,error:o}=await F.from(I.ACCOUNTS).select("current_balance").eq("account_status","ACTIVE"),{data:c,error:l}=await F.from(I.LOAN_ACCOUNTS).select("outstanding_balance").in("loan_status",["ACTIVE","DISBURSED"]),d=new Date().toISOString().split("T")[0],{count:u,error:h}=await F.from(I.TRANSACTIONS).select("*",{count:"exact",head:!0}).gte("transaction_date",d);if(n||a||o||l||h)throw n||a||o||l||h;const m=(i==null?void 0:i.reduce((g,v)=>g+(parseFloat(v.current_balance)||0),0))||0,f=(c==null?void 0:c.reduce((g,v)=>g+(parseFloat(v.outstanding_balance)||0),0))||0,p=m*.02;return Z({total_customers:t||0,total_accounts:r||0,total_deposits:m,total_loans:f,daily_transactions:u||0,monthly_revenue:p})}catch(t){return Z(null,t)}}static async getMonthlyComparison(){var t,n,r;try{const a=new Date,i=a.getMonth(),o=a.getFullYear(),c=i===0?11:i-1,l=i===0?o-1:o,d=new Date(o,i,1).toISOString().split("T")[0],u=new Date(o,i+1,0).toISOString().split("T")[0],h=new Date(l,c,1).toISOString().split("T")[0],m=new Date(l,c+1,0).toISOString().split("T")[0],[f,p,x]=await Promise.all([F.from(I.CUSTOMERS).select("*",{count:"exact",head:!0}).gte("created_at",d).lte("created_at",u),F.from(I.TRANSACTIONS).select("transaction_amount",{count:"exact"}).gte("transaction_date",d).lte("transaction_date",u).eq("status","COMPLETED"),F.from(I.ACCOUNTS).select("current_balance").eq("account_status","ACTIVE")]),[g,v]=await Promise.all([F.from(I.CUSTOMERS).select("*",{count:"exact",head:!0}).gte("created_at",h).lte("created_at",m),F.from(I.TRANSACTIONS).select("transaction_amount",{count:"exact"}).gte("transaction_date",h).lte("transaction_date",m).eq("status","COMPLETED")]),T=((t=p.data)==null?void 0:t.reduce((R,j)=>R+(parseFloat(j.transaction_amount)||0),0))||0,b=((n=v.data)==null?void 0:n.reduce((R,j)=>R+(parseFloat(j.transaction_amount)||0),0))||0,_=((r=x.data)==null?void 0:r.reduce((R,j)=>R+(parseFloat(j.current_balance)||0),0))||0,k=[];for(let R=5;R>=0;R--){const j=new Date;j.setMonth(j.getMonth()-R);const N=j.toLocaleDateString("en-US",{month:"short"});k.push({month:N,revenue:Math.floor(Math.random()*1e7)+35e6,customers:Math.floor(Math.random()*1e3)+11e3})}const S={current_month:{revenue:T||452e5,customers:f.count||12847,transactions:p.count||185e3,deposits:_||24e8},previous_month:{revenue:b||421e5,customers:g.count||12650,transactions:v.count||178e3,deposits:_*.96||23e8},trends:k};return Z(S)}catch{return Z({current_month:{revenue:452e5,customers:12847,transactions:185e3,deposits:24e8},previous_month:{revenue:421e5,customers:12650,transactions:178e3,deposits:23e8},trends:[{month:"Jul",revenue:38e6,customers:11800},{month:"Aug",revenue:395e5,customers:12e3},{month:"Sep",revenue:41e6,customers:12200},{month:"Oct",revenue:405e5,customers:12400},{month:"Nov",revenue:421e5,customers:12650},{month:"Dec",revenue:452e5,customers:12847}]})}}static async getBranchComparison(){try{const{data:t,error:n}=await F.from(I.BRANCHES).select("*").order("branch_name");if(n)throw n;if(!t||t.length===0)return Z({branches:[{name:"Riyadh Main",customers:3500,revenue:125e5,transactions:45e3,efficiency:92},{name:"Jeddah Central",customers:2800,revenue:102e5,transactions:38e3,efficiency:88},{name:"Dammam Branch",customers:2100,revenue:78e5,transactions:28e3,efficiency:85},{name:"Mecca Branch",customers:1900,revenue:65e5,transactions:24e3,efficiency:90},{name:"Medina Branch",customers:1500,revenue:52e5,transactions:18e3,efficiency:87}]});const r=await Promise.all(t.map(async a=>{var l;const[i,o]=await Promise.all([F.from(I.CUSTOMERS).select("*",{count:"exact",head:!0}).eq("onboarding_branch",a.branch_id),F.from(I.TRANSACTIONS).select("transaction_amount",{count:"exact"}).eq("branch_id",a.branch_id).eq("status","COMPLETED")]),c=((l=o.data)==null?void 0:l.reduce((d,u)=>d+(parseFloat(u.transaction_amount)||0),0))||0;return{name:a.branch_name,customers:i.count||0,revenue:c,transactions:o.count||0,efficiency:Math.floor(Math.random()*15)+80}}));return Z({branches:r})}catch{return Z({branches:[{name:"Riyadh Main",customers:3500,revenue:125e5,transactions:45e3,efficiency:92},{name:"Jeddah Central",customers:2800,revenue:102e5,transactions:38e3,efficiency:88},{name:"Dammam Branch",customers:2100,revenue:78e5,transactions:28e3,efficiency:85},{name:"Mecca Branch",customers:1900,revenue:65e5,transactions:24e3,efficiency:90},{name:"Medina Branch",customers:1500,revenue:52e5,transactions:18e3,efficiency:87}]})}}static async getTransactionAnalytics(t={}){try{const{from_date:n=new Date(Date.now()-30*24*60*60*1e3).toISOString().split("T")[0],to_date:r=new Date().toISOString().split("T")[0]}=t,{data:a,error:i}=await F.from(I.TRANSACTIONS).select("channel, transaction_amount").gte("transaction_date",n).lte("transaction_date",r).eq("status","COMPLETED"),{data:o,error:c}=await F.from(I.TRANSACTIONS).select("status").gte("transaction_date",n).lte("transaction_date",r);if(i||c)throw i||c;const l=(a==null?void 0:a.reduce((p,x)=>{const g=x.channel;return p[g]||(p[g]={count:0,amount:0}),p[g].count+=1,p[g].amount+=parseFloat(x.transaction_amount)||0,p},{}))||{},d=Object.entries(l).map(([p,x])=>({channel:p,count:x.count,amount:x.amount})),u=(o==null?void 0:o.length)||0,h=(o==null?void 0:o.filter(p=>p.status==="COMPLETED").length)||0,m=u>0?(h/u*100).toFixed(1):0,f={by_channel:d,success_rate:parseFloat(m),total_transactions:u,completed_transactions:h};return Z(f)}catch(n){return Z(null,n)}}static async getLoanAnalytics(){try{const{data:t,error:n}=await F.from(I.LOAN_ACCOUNTS).select("*");if(n)throw n;if(!t||t.length===0)return Z({total_portfolio:0,disbursed_amount:0,outstanding_amount:0,by_status:[],default_rate:0});const r=t.reduce((h,m)=>h+(parseFloat(m.loan_amount)||0),0),a=t.reduce((h,m)=>h+(parseFloat(m.disbursed_amount)||0),0),i=t.reduce((h,m)=>h+(parseFloat(m.outstanding_balance)||0),0),o=t.reduce((h,m)=>{const f=m.loan_status;return h[f]||(h[f]={count:0,amount:0}),h[f].count+=1,h[f].amount+=parseFloat(m.outstanding_balance)||0,h},{}),c=Object.entries(o).map(([h,m])=>({status:h,count:m.count,amount:m.amount})),l=t.filter(h=>h.loan_status==="DEFAULTED").length,d=t.length>0?(l/t.length*100).toFixed(1):0,u={total_portfolio:r,disbursed_amount:a,outstanding_amount:i,by_status:c,default_rate:parseFloat(d)};return Z(u)}catch(t){return Z(null,t)}}static async getRealTimeMetrics(){try{const{count:t,error:n}=await F.from(I.TRANSACTIONS).select("*",{count:"exact",head:!0}).eq("status","PENDING"),r=new Date().toISOString().split("T")[0],{count:a,error:i}=await F.from(I.TRANSACTIONS).select("*",{count:"exact",head:!0}).eq("status","FAILED").gte("transaction_date",r);if(n||i)throw n||i;const o={active_sessions:Math.floor(Math.random()*50)+10,pending_transactions:t||0,failed_transactions_today:a||0,system_alerts:Math.floor(Math.random()*5)};return Z(o)}catch(t){return Z(null,t)}}static async getRecentTransactions(t=10){try{const{data:n,error:r}=await F.from(I.TRANSACTIONS).select("*").order("created_at",{ascending:!1}).limit(t);if(r)throw r;if(!n||n.length===0)return Z([]);const a=[...new Set(n.map(m=>m.account_id).filter(Boolean))];if(a.length===0){const m=n.map(f=>({id:f.transaction_ref,customer:"Unknown Customer",account:f.account_number,amount:`${f.currency_code} ${parseFloat(f.transaction_amount).toLocaleString()}`,type:f.debit_credit==="DEBIT"?"Withdrawal":"Deposit",status:f.status,time:this.formatTimeAgo(f.created_at)}));return Z(m)}const{data:i,error:o}=await F.from(I.ACCOUNTS).select("account_id, customer_id, account_number").in("account_id",a);o&&console.warn("Could not fetch accounts:",o);const c=[...new Set((i==null?void 0:i.map(m=>m.customer_id).filter(Boolean))||[])];let l=[];if(c.length>0){const{data:m,error:f}=await F.from(I.CUSTOMERS).select("customer_id, full_name").in("customer_id",c);f?console.warn("Could not fetch customers:",f):l=m||[]}const d=new Map((i==null?void 0:i.map(m=>[m.account_id,m]))||[]),u=new Map(l.map(m=>[m.customer_id,m])),h=n.map(m=>{const f=d.get(m.account_id),p=f?u.get(f.customer_id):null;return{id:m.transaction_ref,customer:(p==null?void 0:p.full_name)||"Unknown Customer",account:m.account_number,amount:`${m.currency_code} ${parseFloat(m.transaction_amount).toLocaleString()}`,type:m.debit_credit==="DEBIT"?"Withdrawal":"Deposit",status:m.status,time:this.formatTimeAgo(m.created_at)}});return Z(h)}catch(n){return Z(null,n)}}static formatTimeAgo(t){const n=new Date,r=new Date(t),a=Math.floor((n-r)/(1e3*60));if(a<1)return"Just now";if(a<60)return`${a} minute${a!==1?"s":""} ago`;const i=Math.floor(a/60);if(i<24)return`${i} hour${i!==1?"s":""} ago`;const o=Math.floor(i/24);return`${o} day${o!==1?"s":""} ago`}}class um{static async getCustomers(t={}){try{const{page:n=1,limit:r=50,search:a="",segment:i="",kyc_status:o="",risk_category:c=""}=t;let l=F.from(I.CUSTOMERS).select("*",{count:"exact"});a&&(l=l.or(`full_name.ilike.%${a}%,customer_id.ilike.%${a}%,first_name.ilike.%${a}%,last_name.ilike.%${a}%`)),i&&(l=l.eq("segment",i)),o&&(l=l.eq("kyc_status",o)),c&&(l=l.eq("risk_category",c));const d=(n-1)*r,u=d+r-1;l=l.range(d,u),l=l.order("created_at",{ascending:!1});const{data:h,error:m,count:f}=await l,p={page:n,limit:r,total:f||0,total_pages:Math.ceil((f||0)/r)};return Z(h,m,p)}catch(n){return Z(null,n)}}static async getCustomer(t){try{const{data:n,error:r}=await F.from(I.CUSTOMERS).select("*").eq("customer_id",t).single();return Z(n,r)}catch(n){return Z(null,n)}}static async createCustomer(t){try{if(!t.customer_id){const a=Date.now().toString().slice(-6);t.customer_id=`CUST${a}`}!t.full_name&&t.first_name&&t.last_name&&(t.full_name=`${t.first_name} ${t.middle_name||""} ${t.last_name}`.trim());const{data:n,error:r}=await F.from(I.CUSTOMERS).insert([t]).select().single();return Z(n,r)}catch(n){return Z(null,n)}}static async updateCustomer(t,n){try{if(n.first_name||n.last_name||n.middle_name){const{data:i}=await this.getCustomer(t);if(i){const o=n.first_name||i.first_name,c=n.middle_name||i.middle_name||"",l=n.last_name||i.last_name;n.full_name=`${o} ${c} ${l}`.trim()}}n.updated_at=new Date().toISOString();const{data:r,error:a}=await F.from(I.CUSTOMERS).update(n).eq("customer_id",t).select().single();return Z(r,a)}catch(r){return Z(null,r)}}static async getCustomerAccounts(t){try{const{data:n,error:r}=await F.from(I.ACCOUNTS).select(`
          *,
          account_types:account_type_id (
            type_name,
            description
          )
        `).eq("customer_id",t).order("created_at",{ascending:!1});return Z(n,r)}catch(n){return Z(null,n)}}static async getCustomerTransactions(t,n={}){var r;try{const{page:a=1,limit:i=50,from_date:o=null,to_date:c=null}=n,l=await this.getCustomerAccounts(t);if(!l.success||!((r=l.data)!=null&&r.length))return Z([],null,{page:a,limit:i,total:0,total_pages:0});const d=l.data.map(v=>v.account_number);let u=F.from(I.TRANSACTIONS).select(`
          *,
          transaction_types:transaction_type_id (
            type_name,
            description
          )
        `,{count:"exact"}).in("account_number",d);o&&(u=u.gte("transaction_date",o)),c&&(u=u.lte("transaction_date",c));const h=(a-1)*i,m=h+i-1;u=u.range(h,m),u=u.order("transaction_date",{ascending:!1});const{data:f,error:p,count:x}=await u,g={page:a,limit:i,total:x||0,total_pages:Math.ceil((x||0)/i)};return Z(f,p,g)}catch(a){return Z(null,a)}}static async getCustomerLoans(t){try{const{data:n,error:r}=await F.from(I.LOAN_ACCOUNTS).select("*").eq("customer_id",t).order("created_at",{ascending:!1});return Z(n,r)}catch(n){return Z(null,n)}}static async getCustomerAnalytics(){try{const{data:t,error:n}=await F.from(I.CUSTOMERS).select("segment").not("segment","is",null),{data:r,error:a}=await F.from(I.CUSTOMERS).select("kyc_status"),{data:i,error:o}=await F.from(I.CUSTOMERS).select("risk_category").not("risk_category","is",null);if(n||a||o)throw n||a||o;const c=t.reduce((x,g)=>(x[g.segment]=(x[g.segment]||0)+1,x),{}),l=t.length,d=Object.entries(c).map(([x,g])=>({segment:x,count:g,percentage:(g/l*100).toFixed(1)})),u=r.reduce((x,g)=>(x[g.kyc_status]=(x[g.kyc_status]||0)+1,x),{}),h=Object.entries(u).map(([x,g])=>({status:x,count:g,percentage:(g/r.length*100).toFixed(1)})),m=i.reduce((x,g)=>(x[g.risk_category]=(x[g.risk_category]||0)+1,x),{}),f=Object.entries(m).map(([x,g])=>({category:x,count:g,percentage:(g/i.length*100).toFixed(1)}));return Z({by_segment:d,kyc_status:h,by_risk_category:f,total_customers:l})}catch(t){return Z(null,t)}}}function dm(e=!1,t=3e4){const[n,r]=y.useState({kpis:null,recentTransactions:[],transactionAnalytics:null,customerAnalytics:null,loanAnalytics:null,monthlyComparison:null,branchComparison:null,realTimeMetrics:null}),[a,i]=y.useState(!0),[o,c]=y.useState(null),[l,d]=y.useState(null),u=y.useCallback(async()=>{var p;i(!0),c(null);try{const[x,g,v,T,b,_,k,S]=await Promise.all([Dt.getExecutiveKPIs(),Dt.getRecentTransactions(10),Dt.getTransactionAnalytics(),um.getCustomerAnalytics(),Dt.getLoanAnalytics(),Dt.getMonthlyComparison(),Dt.getBranchComparison(),Dt.getRealTimeMetrics()]),R=[x,g,v,T,b,_,k,S];if(R.some(N=>!N.success)){const N=R.find(M=>!M.success);throw new Error(((p=N==null?void 0:N.error)==null?void 0:p.error)||"Failed to load dashboard data")}r({kpis:x.data,recentTransactions:g.data,transactionAnalytics:v.data,customerAnalytics:T.data,loanAnalytics:b.data,monthlyComparison:_.data,branchComparison:k.data,realTimeMetrics:S.data}),d(new Date)}catch(x){console.error("Dashboard data loading error:",x),c(x.message||"Failed to load dashboard data"),r({kpis:{total_customers:0,total_accounts:0,total_deposits:0,total_loans:0,daily_transactions:0,monthly_revenue:0},recentTransactions:[],transactionAnalytics:{by_channel:[],success_rate:0,total_transactions:0,completed_transactions:0},customerAnalytics:{by_segment:[],kyc_status:[],by_risk_category:[],total_customers:0},loanAnalytics:{total_portfolio:0,disbursed_amount:0,outstanding_amount:0,by_status:[],default_rate:0},monthlyComparison:{current_month:{revenue:0,customers:0,transactions:0,deposits:0},previous_month:{revenue:0,customers:0,transactions:0,deposits:0},trends:[]},branchComparison:{branches:[]},realTimeMetrics:{active_sessions:0,pending_transactions:0,failed_transactions_today:0,system_alerts:0}})}finally{i(!1)}},[]);y.useEffect(()=>{u()},[u]),y.useEffect(()=>{if(e&&t>0){const p=setInterval(()=>{u()},t);return()=>clearInterval(p)}},[e,t,u]);const h=y.useCallback(()=>{u()},[u]),m=y.useCallback((p,x)=>{if(p===x)return{change:"0%",trend:"neutral"};const g=((p-x)/x*100).toFixed(1),v=p>x?"up":"down";return{change:`${v==="up"?"+":""}${g}%`,trend:v}},[]),f=y.useCallback(p=>{var g;const x=((g=n.kpis)==null?void 0:g[p])||0;if(p==="total_customers"&&n.monthlyComparison){const v=m(n.monthlyComparison.current_month.customers,n.monthlyComparison.previous_month.customers);return{value:x,...v}}if(p==="monthly_revenue"&&n.monthlyComparison){const v=m(n.monthlyComparison.current_month.revenue,n.monthlyComparison.previous_month.revenue);return{value:x,...v}}return{value:x,change:"+12.5%",trend:"up"}},[n,m]);return{kpis:n.kpis,recentTransactions:n.recentTransactions,transactionAnalytics:n.transactionAnalytics,customerAnalytics:n.customerAnalytics,loanAnalytics:n.loanAnalytics,monthlyComparison:n.monthlyComparison,branchComparison:n.branchComparison,realTimeMetrics:n.realTimeMetrics,loading:a,error:o,lastUpdated:l,refreshData:h,getKPIWithTrend:f}}const hm={total_customers:12847,total_accounts:18293,total_deposits:24e8,total_loans:18e8,daily_transactions:8547,monthly_revenue:452e5},mm=[{id:"TRN20250124_001",customer:"Ahmed Al-Rashid",account:"1234567890",amount:"SAR 15,000",type:"Transfer",status:"Completed",time:"2 minutes ago"},{id:"TRN20250124_002",customer:"Fatima Al-Zahra",account:"1234567891",amount:"SAR 5,500",type:"Deposit",status:"Pending",time:"5 minutes ago"},{id:"TRN20250124_003",customer:"Mohammed Al-Saud",account:"1234567892",amount:"SAR 25,000",type:"Withdrawal",status:"Completed",time:"8 minutes ago"},{id:"TRN20250124_004",customer:"Aisha Al-Mansouri",account:"1234567893",amount:"SAR 3,200",type:"Transfer",status:"Failed",time:"12 minutes ago"}];function Ks(e,t="SAR"){return e>=1e9?`${t} ${(e/1e9).toFixed(1)}B`:e>=1e6?`${t} ${(e/1e6).toFixed(1)}M`:e>=1e3?`${t} ${(e/1e3).toFixed(1)}K`:`${t} ${e.toLocaleString()}`}function fm({title:e,value:t,change:n,trend:r,icon:a,description:i,isLoading:o}){return o?s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:e}),s.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold animate-pulse bg-muted h-8 w-24 rounded"}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground mt-2",children:[s.jsx("span",{children:i}),s.jsx("div",{className:"animate-pulse bg-muted h-4 w-12 rounded"})]})]})]}):s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:e}),s.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:i}),s.jsxs("div",{className:"flex items-center",children:[r==="up"?s.jsx(tn,{className:"h-3 w-3 text-green-500"}):s.jsx(Os,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:r==="up"?"text-green-500":"text-red-500",children:n})]})]})]})]})}function pm(e){const t={Completed:"default",COMPLETED:"default",Pending:"secondary",PENDING:"secondary",Failed:"destructive",FAILED:"destructive"};return s.jsx(ie,{variant:t[e]||"default",children:e})}function xm(){var l,d,u;const{kpis:e,recentTransactions:t,loading:n,error:r,refreshData:a}=dm(),i=e||hm,o=(t==null?void 0:t.length)>0?t:mm,c=[{title:"Total Customers",value:((l=i.total_customers)==null?void 0:l.toLocaleString())||"0",change:"+12.5%",trend:"up",icon:gt,description:"Active customers"},{title:"Total Accounts",value:((d=i.total_accounts)==null?void 0:d.toLocaleString())||"0",change:"+8.2%",trend:"up",icon:vs,description:"All account types"},{title:"Total Deposits",value:Ks(i.total_deposits||0),change:"+15.3%",trend:"up",icon:St,description:"Customer deposits"},{title:"Loan Portfolio",value:Ks(i.total_loans||0),change:"+22.1%",trend:"up",icon:Ue,description:"Outstanding loans"},{title:"Daily Transactions",value:((u=i.daily_transactions)==null?void 0:u.toLocaleString())||"0",change:"-2.4%",trend:"down",icon:js,description:"Today's transactions"},{title:"Monthly Revenue",value:Ks(i.monthly_revenue||0),change:"+18.7%",trend:"up",icon:St,description:"This month's revenue"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Welcome back! Here's what's happening with your banking operations today."})]}),s.jsxs(G,{onClick:a,variant:"outline",size:"sm",children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),r&&s.jsx(E,{className:"border-destructive",children:s.jsx(L,{className:"pt-6",children:s.jsx("div",{className:"flex items-center space-x-2 text-destructive",children:s.jsx("span",{className:"text-sm",children:"⚠️ Database connection error. Showing demo data."})})})}),s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:c.map((h,m)=>s.jsx(fm,{...h,isLoading:n},m))}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[s.jsxs(E,{className:"col-span-4",children:[s.jsxs(V,{children:[s.jsx(B,{children:"Recent Transactions"}),s.jsx(z,{children:"Latest transactions across all channels"})]}),s.jsx(L,{children:n?s.jsx("div",{className:"space-y-4",children:[...Array(4)].map((h,m)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"animate-pulse bg-muted h-4 w-32 rounded"}),s.jsx("div",{className:"animate-pulse bg-muted h-3 w-48 rounded"})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("div",{className:"animate-pulse bg-muted h-4 w-20 rounded"}),s.jsx("div",{className:"animate-pulse bg-muted h-3 w-16 rounded"})]})]},m))}):s.jsx("div",{className:"space-y-4",children:o.map(h=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none",children:h.customer}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[h.account," • ",h.type]})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("p",{className:"text-sm font-medium",children:h.amount}),s.jsxs("div",{className:"flex items-center space-x-2",children:[pm(h.status),s.jsx("span",{className:"text-xs text-muted-foreground",children:h.time})]})]})]},h.id))})})]}),s.jsxs(E,{className:"col-span-3",children:[s.jsxs(V,{children:[s.jsx(B,{children:"Quick Actions"}),s.jsx(z,{children:"Frequently used operations"})]}),s.jsx(L,{className:"space-y-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsxs("button",{className:"flex items-center justify-between rounded-lg border p-3 text-left text-sm hover:bg-accent",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Add New Customer"}),s.jsx("p",{className:"text-muted-foreground",children:"Register a new customer"})]}),s.jsx(gt,{className:"h-4 w-4"})]}),s.jsxs("button",{className:"flex items-center justify-between rounded-lg border p-3 text-left text-sm hover:bg-accent",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Open Account"}),s.jsx("p",{className:"text-muted-foreground",children:"Create new account"})]}),s.jsx(vs,{className:"h-4 w-4"})]}),s.jsxs("button",{className:"flex items-center justify-between rounded-lg border p-3 text-left text-sm hover:bg-accent",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Process Transaction"}),s.jsx("p",{className:"text-muted-foreground",children:"Manual transaction entry"})]}),s.jsx(js,{className:"h-4 w-4"})]}),s.jsxs("button",{className:"flex items-center justify-between rounded-lg border p-3 text-left text-sm hover:bg-accent",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"font-medium",children:"Generate Report"}),s.jsx("p",{className:"text-muted-foreground",children:"Create custom report"})]}),s.jsx(Ue,{className:"h-4 w-4"})]})]})})]})]})]})}const ki=[{id:"CUST001",name:"Ahmed Al-Rashid",email:"ahmed.rashid@email.com",phone:"+966 50 123 4567",segment:"PREMIUM",kyc_status:"APPROVED",accounts:3,total_balance:"SAR 125,000"},{id:"CUST002",name:"Fatima Al-Zahra",email:"fatima.zahra@email.com",phone:"+966 55 987 6543",segment:"RETAIL",kyc_status:"PENDING",accounts:1,total_balance:"SAR 15,500"},{id:"CUST003",name:"Mohammed Al-Saud",email:"mohammed.saud@email.com",phone:"+966 50 555 1234",segment:"HNI",kyc_status:"APPROVED",accounts:5,total_balance:"SAR 850,000"}];function gm(e){const t={RETAIL:"default",PREMIUM:"secondary",HNI:"destructive",CORPORATE:"outline"};return s.jsx(ie,{variant:t[e]||"default",children:e})}function ym(e){const t={APPROVED:"default",PENDING:"secondary",REJECTED:"destructive"};return s.jsx(ie,{variant:t[e]||"default",children:e})}function vm(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Customers"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage customer information and relationships"})]}),s.jsxs(G,{children:[s.jsx(ya,{className:"mr-2 h-4 w-4"}),"Add Customer"]})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Search Customers"}),s.jsx(z,{children:"Find customers by name, ID, email, or phone number"})]}),s.jsx(L,{children:s.jsxs("div",{className:"flex space-x-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),s.jsx(Ps,{placeholder:"Search customers...",className:"pl-10"})]})}),s.jsxs(G,{variant:"outline",children:[s.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Filters"]})]})})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Customer List"}),s.jsxs(z,{children:[ki.length," customers found"]})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:ki.map(e=>s.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"font-medium",children:e.name}),gm(e.segment),ym(e.kyc_status)]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.id," • ",e.email]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.phone})]}),s.jsxs("div",{className:"text-right space-y-1",children:[s.jsx("p",{className:"font-medium",children:e.total_balance}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.accounts," account",e.accounts!==1?"s":""]}),s.jsx(G,{variant:"outline",size:"sm",children:"View Details"})]})]},e.id))})})]})]})}const Na=y.createContext({});function Ca(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ta=typeof window<"u",hl=Ta?y.useLayoutEffect:y.useEffect,Fs=y.createContext(null);function Aa(e,t){e.indexOf(t)===-1&&e.push(t)}function _a(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ot=(e,t,n)=>n>t?t:n<e?e:n;let Ma=()=>{};const ct={},ml=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function fl(e){return typeof e=="object"&&e!==null}const pl=e=>/^0[^.\s]+$/u.test(e);function Da(e){let t;return()=>(t===void 0&&(t=e()),t)}const qe=e=>e,jm=(e,t)=>n=>t(e(n)),Un=(...e)=>e.reduce(jm),An=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class Pa{constructor(){this.subscriptions=[]}add(t){return Aa(this.subscriptions,t),()=>_a(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ze=e=>e*1e3,Qe=e=>e/1e3;function xl(e,t){return t?e*(1e3/t):0}const gl=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bm=1e-7,wm=12;function Sm(e,t,n,r,a){let i,o,c=0;do o=t+(n-t)/2,i=gl(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>bm&&++c<wm);return o}function Kn(e,t,n,r){if(e===t&&n===r)return qe;const a=i=>Sm(i,0,1,e,n);return i=>i===0||i===1?i:gl(a(i),t,r)}const yl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,vl=e=>t=>1-e(1-t),jl=Kn(.33,1.53,.69,.99),ka=vl(jl),bl=yl(ka),wl=e=>(e*=2)<1?.5*ka(e):.5*(2-Math.pow(2,-10*(e-1))),Ra=e=>1-Math.sin(Math.acos(e)),Sl=vl(Ra),Nl=yl(Ra),Nm=Kn(.42,0,1,1),Cm=Kn(0,0,.58,1),Cl=Kn(.42,0,.58,1),Tm=e=>Array.isArray(e)&&typeof e[0]!="number",Tl=e=>Array.isArray(e)&&typeof e[0]=="number",Am={linear:qe,easeIn:Nm,easeInOut:Cl,easeOut:Cm,circIn:Ra,circInOut:Nl,circOut:Sl,backIn:ka,backInOut:bl,backOut:jl,anticipate:wl},_m=e=>typeof e=="string",Ri=e=>{if(Tl(e)){Ma(e.length===4);const[t,n,r,a]=e;return Kn(t,n,r,a)}else if(_m(e))return Am[e];return e},os=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Oi={value:null};function Mm(e,t){let n=new Set,r=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},l=0;function d(h){o.has(h)&&(u.schedule(h),e()),l++,h(c)}const u={schedule:(h,m=!1,f=!1)=>{const x=f&&a?n:r;return m&&o.add(h),x.has(h)||x.add(h),h},cancel:h=>{r.delete(h),o.delete(h)},process:h=>{if(c=h,a){i=!0;return}a=!0,[n,r]=[r,n],n.forEach(d),t&&Oi.value&&Oi.value.frameloop[t].push(l),l=0,n.clear(),a=!1,i&&(i=!1,u.process(h))}};return u}const Dm=40;function Al(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=os.reduce((b,_)=>(b[_]=Mm(i,t?_:void 0),b),{}),{setup:c,read:l,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:f,postRender:p}=o,x=()=>{const b=ct.useManualTiming?a.timestamp:performance.now();n=!1,ct.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(b-a.timestamp,Dm),1)),a.timestamp=b,a.isProcessing=!0,c.process(a),l.process(a),d.process(a),u.process(a),h.process(a),m.process(a),f.process(a),p.process(a),a.isProcessing=!1,n&&t&&(r=!1,e(x))},g=()=>{n=!0,r=!0,a.isProcessing||e(x)};return{schedule:os.reduce((b,_)=>{const k=o[_];return b[_]=(S,R=!1,j=!1)=>(n||g(),k.schedule(S,R,j)),b},{}),cancel:b=>{for(let _=0;_<os.length;_++)o[os[_]].cancel(b)},state:a,steps:o}}const{schedule:fe,cancel:Nt,state:be,steps:Ys}=Al(typeof requestAnimationFrame<"u"?requestAnimationFrame:qe,!0);let fs;function Pm(){fs=void 0}const Pe={now:()=>(fs===void 0&&Pe.set(be.isProcessing||ct.useManualTiming?be.timestamp:performance.now()),fs),set:e=>{fs=e,queueMicrotask(Pm)}},_l=e=>t=>typeof t=="string"&&t.startsWith(e),Oa=_l("--"),km=_l("var(--"),Ea=e=>km(e)?Rm.test(e.split("/*")[0].trim()):!1,Rm=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,un={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},_n={...un,transform:e=>ot(0,1,e)},cs={...un,default:1},bn=e=>Math.round(e*1e5)/1e5,La=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Om(e){return e==null}const Em=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fa=(e,t)=>n=>!!(typeof n=="string"&&Em.test(n)&&n.startsWith(e)||t&&!Om(n)&&Object.prototype.hasOwnProperty.call(n,t)),Ml=(e,t,n)=>r=>{if(typeof r!="string")return r;const[a,i,o,c]=r.match(La);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Lm=e=>ot(0,255,e),Hs={...un,transform:e=>Math.round(Lm(e))},Et={test:Fa("rgb","red"),parse:Ml("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Hs.transform(e)+", "+Hs.transform(t)+", "+Hs.transform(n)+", "+bn(_n.transform(r))+")"};function Fm(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const zr={test:Fa("#"),parse:Fm,transform:Et.transform},Yn=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),xt=Yn("deg"),Je=Yn("%"),U=Yn("px"),Im=Yn("vh"),Vm=Yn("vw"),Ei={...Je,parse:e=>Je.parse(e)/100,transform:e=>Je.transform(e*100)},Ht={test:Fa("hsl","hue"),parse:Ml("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Je.transform(bn(t))+", "+Je.transform(bn(n))+", "+bn(_n.transform(r))+")"},Ne={test:e=>Et.test(e)||zr.test(e)||Ht.test(e),parse:e=>Et.test(e)?Et.parse(e):Ht.test(e)?Ht.parse(e):zr.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Et.transform(e):Ht.transform(e)},Bm=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function qm(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(La))==null?void 0:t.length)||0)+(((n=e.match(Bm))==null?void 0:n.length)||0)>0}const Dl="number",Pl="color",$m="var",Wm="var(",Li="${}",Um=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Mn(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},a=[];let i=0;const c=t.replace(Um,l=>(Ne.test(l)?(r.color.push(i),a.push(Pl),n.push(Ne.parse(l))):l.startsWith(Wm)?(r.var.push(i),a.push($m),n.push(l)):(r.number.push(i),a.push(Dl),n.push(parseFloat(l))),++i,Li)).split(Li);return{values:n,split:c,indexes:r,types:a}}function kl(e){return Mn(e).values}function Rl(e){const{split:t,types:n}=Mn(e),r=t.length;return a=>{let i="";for(let o=0;o<r;o++)if(i+=t[o],a[o]!==void 0){const c=n[o];c===Dl?i+=bn(a[o]):c===Pl?i+=Ne.transform(a[o]):i+=a[o]}return i}}const Km=e=>typeof e=="number"?0:e;function Ym(e){const t=kl(e);return Rl(e)(t.map(Km))}const Ct={test:qm,parse:kl,createTransformer:Rl,getAnimatableNone:Ym};function Gs(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Hm({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const c=n<.5?n*(1+t):n+t-n*t,l=2*n-c;a=Gs(l,c,e+1/3),i=Gs(l,c,e),o=Gs(l,c,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function ws(e,t){return n=>n>0?t:e}const me=(e,t,n)=>e+(t-e)*n,zs=(e,t,n)=>{const r=e*e,a=n*(t*t-r)+r;return a<0?0:Math.sqrt(a)},Gm=[zr,Et,Ht],zm=e=>Gm.find(t=>t.test(e));function Fi(e){const t=zm(e);if(!t)return!1;let n=t.parse(e);return t===Ht&&(n=Hm(n)),n}const Ii=(e,t)=>{const n=Fi(e),r=Fi(t);if(!n||!r)return ws(e,t);const a={...n};return i=>(a.red=zs(n.red,r.red,i),a.green=zs(n.green,r.green,i),a.blue=zs(n.blue,r.blue,i),a.alpha=me(n.alpha,r.alpha,i),Et.transform(a))},Xr=new Set(["none","hidden"]);function Xm(e,t){return Xr.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Zm(e,t){return n=>me(e,t,n)}function Ia(e){return typeof e=="number"?Zm:typeof e=="string"?Ea(e)?ws:Ne.test(e)?Ii:ef:Array.isArray(e)?Ol:typeof e=="object"?Ne.test(e)?Ii:Qm:ws}function Ol(e,t){const n=[...e],r=n.length,a=e.map((i,o)=>Ia(i)(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}}function Qm(e,t){const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=Ia(e[a])(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}}function Jm(e,t){const n=[],r={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],o=e.indexes[i][r[i]],c=e.values[o]??0;n[a]=c,r[i]++}return n}const ef=(e,t)=>{const n=Ct.createTransformer(t),r=Mn(e),a=Mn(t);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Xr.has(e)&&!a.values.length||Xr.has(t)&&!r.values.length?Xm(e,t):Un(Ol(Jm(r,a),a.values),n):ws(e,t)};function El(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?me(e,t,n):Ia(e)(e,t)}const tf=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>fe.update(t,n),stop:()=>Nt(t),now:()=>be.isProcessing?be.timestamp:Pe.now()}},Ll=(e,t,n=10)=>{let r="";const a=Math.max(Math.round(t/n),2);for(let i=0;i<a;i++)r+=e(i/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Ss=2e4;function Va(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Ss;)t+=n,r=e.next(t);return t>=Ss?1/0:t}function nf(e,t=100,n){const r=n({...e,keyframes:[0,t]}),a=Math.min(Va(r),Ss);return{type:"keyframes",ease:i=>r.next(a*i).value/t,duration:Qe(a)}}const sf=5;function Fl(e,t,n){const r=Math.max(t-sf,0);return xl(n-e(r),t-r)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Vi=.001;function rf({duration:e=pe.duration,bounce:t=pe.bounce,velocity:n=pe.velocity,mass:r=pe.mass}){let a,i,o=1-t;o=ot(pe.minDamping,pe.maxDamping,o),e=ot(pe.minDuration,pe.maxDuration,Qe(e)),o<1?(a=d=>{const u=d*o,h=u*e,m=u-n,f=Zr(d,o),p=Math.exp(-h);return Vi-m/f*p},i=d=>{const h=d*o*e,m=h*n+n,f=Math.pow(o,2)*Math.pow(d,2)*e,p=Math.exp(-h),x=Zr(Math.pow(d,2),o);return(-a(d)+Vi>0?-1:1)*((m-f)*p)/x}):(a=d=>{const u=Math.exp(-d*e),h=(d-n)*e+1;return-.001+u*h},i=d=>{const u=Math.exp(-d*e),h=(n-d)*(e*e);return u*h});const c=5/e,l=of(a,i,c);if(e=Ze(e),isNaN(l))return{stiffness:pe.stiffness,damping:pe.damping,duration:e};{const d=Math.pow(l,2)*r;return{stiffness:d,damping:o*2*Math.sqrt(r*d),duration:e}}}const af=12;function of(e,t,n){let r=n;for(let a=1;a<af;a++)r=r-e(r)/t(r);return r}function Zr(e,t){return e*Math.sqrt(1-t*t)}const cf=["duration","bounce"],lf=["stiffness","damping","mass"];function Bi(e,t){return t.some(n=>e[n]!==void 0)}function uf(e){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...e};if(!Bi(e,lf)&&Bi(e,cf))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,i=2*ot(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:pe.mass,stiffness:a,damping:i}}else{const n=rf(e);t={...t,...n,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function Ns(e=pe.visualDuration,t=pe.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:a}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],c={done:!1,value:i},{stiffness:l,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:f}=uf({...n,velocity:-Qe(n.velocity||0)}),p=m||0,x=d/(2*Math.sqrt(l*u)),g=o-i,v=Qe(Math.sqrt(l/u)),T=Math.abs(g)<5;r||(r=T?pe.restSpeed.granular:pe.restSpeed.default),a||(a=T?pe.restDelta.granular:pe.restDelta.default);let b;if(x<1){const k=Zr(v,x);b=S=>{const R=Math.exp(-x*v*S);return o-R*((p+x*v*g)/k*Math.sin(k*S)+g*Math.cos(k*S))}}else if(x===1)b=k=>o-Math.exp(-v*k)*(g+(p+v*g)*k);else{const k=v*Math.sqrt(x*x-1);b=S=>{const R=Math.exp(-x*v*S),j=Math.min(k*S,300);return o-R*((p+x*v*g)*Math.sinh(j)+k*g*Math.cosh(j))/k}}const _={calculatedDuration:f&&h||null,next:k=>{const S=b(k);if(f)c.done=k>=h;else{let R=k===0?p:0;x<1&&(R=k===0?Ze(p):Fl(b,k,S));const j=Math.abs(R)<=r,N=Math.abs(o-S)<=a;c.done=j&&N}return c.value=c.done?o:S,c},toString:()=>{const k=Math.min(Va(_),Ss),S=Ll(R=>_.next(k*R).value,k,30);return k+"ms "+S},toTransition:()=>{}};return _}Ns.applyToOptions=e=>{const t=nf(e,100,Ns);return e.ease=t.ease,e.duration=Ze(t.duration),e.type="keyframes",e};function Qr({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:l,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},f=j=>c!==void 0&&j<c||l!==void 0&&j>l,p=j=>c===void 0?l:l===void 0||Math.abs(c-j)<Math.abs(l-j)?c:l;let x=n*t;const g=h+x,v=o===void 0?g:o(g);v!==g&&(x=v-h);const T=j=>-x*Math.exp(-j/r),b=j=>v+T(j),_=j=>{const N=T(j),M=b(j);m.done=Math.abs(N)<=d,m.value=m.done?v:M};let k,S;const R=j=>{f(m.value)&&(k=j,S=Ns({keyframes:[m.value,p(m.value)],velocity:Fl(b,j,m.value),damping:a,stiffness:i,restDelta:d,restSpeed:u}))};return R(0),{calculatedDuration:null,next:j=>{let N=!1;return!S&&k===void 0&&(N=!0,_(j),R(j)),k!==void 0&&j>=k?S.next(j-k):(!N&&_(j),m)}}}function df(e,t,n){const r=[],a=n||ct.mix||El,i=e.length-1;for(let o=0;o<i;o++){let c=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||qe:t;c=Un(l,c)}r.push(c)}return r}function hf(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(Ma(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=df(t,r,a),l=c.length,d=u=>{if(o&&u<e[0])return t[0];let h=0;if(l>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=An(e[h],e[h+1],u);return c[h](m)};return n?u=>d(ot(e[0],e[i-1],u)):d}function mf(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=An(0,t,r);e.push(me(n,1,a))}}function ff(e){const t=[0];return mf(t,e.length-1),t}function pf(e,t){return e.map(n=>n*t)}function xf(e,t){return e.map(()=>t||Cl).splice(0,e.length-1)}function wn({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=Tm(r)?r.map(Ri):Ri(r),i={done:!1,value:t[0]},o=pf(n&&n.length===t.length?n:ff(t),e),c=hf(o,t,{ease:Array.isArray(a)?a:xf(t,a)});return{calculatedDuration:e,next:l=>(i.value=c(l),i.done=l>=e,i)}}const gf=e=>e!==null;function Ba(e,{repeat:t,repeatType:n="loop"},r,a=1){const i=e.filter(gf),c=a<0||t&&n!=="loop"&&t%2===1?0:i.length-1;return!c||r===void 0?i[c]:r}const yf={decay:Qr,inertia:Qr,tween:wn,keyframes:wn,spring:Ns};function Il(e){typeof e.type=="string"&&(e.type=yf[e.type])}class qa{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const vf=e=>e/100;class $a extends qa{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Pe.now()&&this.tick(Pe.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;Il(t);const{type:n=wn,repeat:r=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=t;let{keyframes:c}=t;const l=n||wn;l!==wn&&typeof c[0]!="number"&&(this.mixKeyframes=Un(vf,El(c[0],c[1])),c=[0,100]);const d=l({...t,keyframes:c});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...c].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Va(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:f,type:p,onUpdate:x,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const v=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?v<0:v>a;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let b=this.currentTime,_=r;if(h){const j=Math.min(this.currentTime,a)/c;let N=Math.floor(j),M=j%1;!M&&j>=1&&(M=1),M===1&&N--,N=Math.min(N,h+1),!!(N%2)&&(m==="reverse"?(M=1-M,f&&(M-=f/c)):m==="mirror"&&(_=o)),b=ot(0,1,M)*c}const k=T?{done:!1,value:u[0]}:_.next(b);i&&(k.value=i(k.value));let{done:S}=k;!T&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return R&&p!==Qr&&(k.value=Ba(u,this.options,g,this.speed)),x&&x(k.value),R&&this.finish(),k}then(t,n){return this.finished.then(t,n)}get duration(){return Qe(this.calculatedDuration)}get time(){return Qe(this.currentTime)}set time(t){var n;t=Ze(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Pe.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Qe(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=tf,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(i=(a=this.options).onPlay)==null||i.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pe.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function jf(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Lt=e=>e*180/Math.PI,Jr=e=>{const t=Lt(Math.atan2(e[1],e[0]));return ea(t)},bf={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Jr,rotateZ:Jr,skewX:e=>Lt(Math.atan(e[1])),skewY:e=>Lt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ea=e=>(e=e%360,e<0&&(e+=360),e),qi=Jr,$i=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Wi=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),wf={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$i,scaleY:Wi,scale:e=>($i(e)+Wi(e))/2,rotateX:e=>ea(Lt(Math.atan2(e[6],e[5]))),rotateY:e=>ea(Lt(Math.atan2(-e[2],e[0]))),rotateZ:qi,rotate:qi,skewX:e=>Lt(Math.atan(e[4])),skewY:e=>Lt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function ta(e){return e.includes("scale")?1:0}function na(e,t){if(!e||e==="none")return ta(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=wf,a=n;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bf,a=c}if(!a)return ta(t);const i=r[t],o=a[1].split(",").map(Nf);return typeof i=="function"?i(o):o[i]}const Sf=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return na(n,t)};function Nf(e){return parseFloat(e.trim())}const dn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],hn=new Set(dn),Ui=e=>e===un||e===U,Cf=new Set(["x","y","z"]),Tf=dn.filter(e=>!Cf.has(e));function Af(e){const t=[];return Tf.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Ft={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>na(t,"x"),y:(e,{transform:t})=>na(t,"y")};Ft.translateX=Ft.x;Ft.translateY=Ft.y;const It=new Set;let sa=!1,ra=!1,aa=!1;function Vl(){if(ra){const e=Array.from(It).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const a=Af(r);a.length&&(n.set(r,a),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([i,o])=>{var c;(c=r.getValue(i))==null||c.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ra=!1,sa=!1,It.forEach(e=>e.complete(aa)),It.clear()}function Bl(){It.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ra=!0)})}function _f(){aa=!0,Bl(),Vl(),aa=!1}class Wa{constructor(t,n,r,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(It.add(this),sa||(sa=!0,fe.read(Bl),fe.resolveKeyframes(Vl))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),o=t[t.length-1];if(i!==void 0)t[0]=i;else if(r&&n){const c=r.readValue(n,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),a&&i===void 0&&a.set(t[0])}jf(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),It.delete(this)}cancel(){this.state==="scheduled"&&(It.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mf=e=>e.startsWith("--");function Df(e,t,n){Mf(t)?e.style.setProperty(t,n):e.style[t]=n}const Pf=Da(()=>window.ScrollTimeline!==void 0),kf={};function Rf(e,t){const n=Da(e);return()=>kf[t]??n()}const ql=Rf(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vn=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,Ki={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vn([0,.65,.55,1]),circOut:vn([.55,0,1,.45]),backIn:vn([.31,.01,.66,-.59]),backOut:vn([.33,1.53,.69,.99])};function $l(e,t){if(e)return typeof e=="function"?ql()?Ll(e,t):"ease-out":Tl(e)?vn(e):Array.isArray(e)?e.map(n=>$l(n,t)||Ki.easeOut):Ki[e]}function Of(e,t,n,{delay:r=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:l}={},d=void 0){const u={[t]:n};l&&(u.offset=l);const h=$l(c,a);Array.isArray(h)&&(u.easing=h);const m={delay:r,duration:a,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function Wl(e){return typeof e=="function"&&"applyToOptions"in e}function Ef({type:e,...t}){return Wl(e)&&ql()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Lf extends qa{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=t,Ma(typeof t.type!="string");const d=Ef(t);this.animation=Of(n,r,a,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=Ba(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(u):Df(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Qe(Number(t))}get time(){return Qe(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ze(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Pf()?(this.animation.timeline=t,qe):n(this)}}const Ul={anticipate:wl,backInOut:bl,circInOut:Nl};function Ff(e){return e in Ul}function If(e){typeof e.ease=="string"&&Ff(e.ease)&&(e.ease=Ul[e.ease])}const Yi=10;class Vf extends Lf{constructor(t){If(t),Il(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:a,element:i,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const c=new $a({...o,autoplay:!1}),l=Ze(this.finishedTime??this.time);n.setWithVelocity(c.sample(l-Yi).value,c.sample(l).value,Yi),c.stop()}}const Hi=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ct.test(e)||e==="0")&&!e.startsWith("url("));function Bf(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function qf(e,t,n,r){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],o=Hi(a,t),c=Hi(i,t);return!o||!c?!1:Bf(e)||(n==="spring"||Wl(n))&&r}function Ua(e){return fl(e)&&"offsetHeight"in e}const $f=new Set(["opacity","clipPath","filter","transform"]),Wf=Da(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Uf(e){var d;const{motionValue:t,name:n,repeatDelay:r,repeatType:a,damping:i,type:o}=e;if(!Ua((d=t==null?void 0:t.owner)==null?void 0:d.current))return!1;const{onUpdate:c,transformTemplate:l}=t.owner.getProps();return Wf()&&n&&$f.has(n)&&(n!=="transform"||!l)&&!c&&!r&&a!=="mirror"&&i!==0&&o!=="inertia"}const Kf=40;class Yf extends qa{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:l,motionValue:d,element:u,...h}){var p;super(),this.stop=()=>{var x,g;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Pe.now();const m={autoplay:t,delay:n,type:r,repeat:a,repeatDelay:i,repeatType:o,name:l,motionValue:d,element:u,...h},f=(u==null?void 0:u.KeyframeResolver)||Wa;this.keyframeResolver=new f(c,(x,g,v)=>this.onKeyframesResolved(x,g,m,!v),l,d,u),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,n,r,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:l,isHandoff:d,onUpdate:u}=r;this.resolvedAt=Pe.now(),qf(t,i,o,c)||((ct.instantAnimations||!l)&&(u==null||u(Ba(t,r,n))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const m={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Kf?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},f=!d&&Uf(m)?new Vf({...m,element:m.motionValue.owner.current}):new $a(m);f.finished.then(()=>this.notifyFinished()).catch(qe),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_f()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const Hf=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Gf(e){const t=Hf.exec(e);if(!t)return[,];const[,n,r,a]=t;return[`--${n??r}`,a]}function Kl(e,t,n=1){const[r,a]=Gf(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return ml(o)?parseFloat(o):o}return Ea(a)?Kl(a,t,n+1):a}function Ka(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Yl=new Set(["width","height","top","left","right","bottom",...dn]),zf={test:e=>e==="auto",parse:e=>e},Hl=e=>t=>t.test(e),Gl=[un,U,Je,xt,Vm,Im,zf],Gi=e=>Gl.find(Hl(e));function Xf(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||pl(e):!0}const Zf=new Set(["brightness","contrast","saturate","opacity"]);function Qf(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(La)||[];if(!r)return e;const a=n.replace(r,"");let i=Zf.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const Jf=/\b([a-z-]*)\(.*?\)/gu,ia={...Ct,getAnimatableNone:e=>{const t=e.match(Jf);return t?t.map(Qf).join(" "):e}},zi={...un,transform:Math.round},ep={rotate:xt,rotateX:xt,rotateY:xt,rotateZ:xt,scale:cs,scaleX:cs,scaleY:cs,scaleZ:cs,skew:xt,skewX:xt,skewY:xt,distance:U,translateX:U,translateY:U,translateZ:U,x:U,y:U,z:U,perspective:U,transformPerspective:U,opacity:_n,originX:Ei,originY:Ei,originZ:U},Ya={borderWidth:U,borderTopWidth:U,borderRightWidth:U,borderBottomWidth:U,borderLeftWidth:U,borderRadius:U,radius:U,borderTopLeftRadius:U,borderTopRightRadius:U,borderBottomRightRadius:U,borderBottomLeftRadius:U,width:U,maxWidth:U,height:U,maxHeight:U,top:U,right:U,bottom:U,left:U,padding:U,paddingTop:U,paddingRight:U,paddingBottom:U,paddingLeft:U,margin:U,marginTop:U,marginRight:U,marginBottom:U,marginLeft:U,backgroundPositionX:U,backgroundPositionY:U,...ep,zIndex:zi,fillOpacity:_n,strokeOpacity:_n,numOctaves:zi},tp={...Ya,color:Ne,backgroundColor:Ne,outlineColor:Ne,fill:Ne,stroke:Ne,borderColor:Ne,borderTopColor:Ne,borderRightColor:Ne,borderBottomColor:Ne,borderLeftColor:Ne,filter:ia,WebkitFilter:ia},zl=e=>tp[e];function Xl(e,t){let n=zl(e);return n!==ia&&(n=Ct),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const np=new Set(["auto","none","0"]);function sp(e,t,n){let r=0,a;for(;r<e.length&&!a;){const i=e[r];typeof i=="string"&&!np.has(i)&&Mn(i).values.length&&(a=e[r]),r++}if(a&&n)for(const i of t)e[i]=Xl(n,a)}class rp extends Wa{constructor(t,n,r,a,i){super(t,n,r,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let d=t[l];if(typeof d=="string"&&(d=d.trim(),Ea(d))){const u=Kl(d,n.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Yl.has(r)||t.length!==2)return;const[a,i]=t,o=Gi(a),c=Gi(i);if(o!==c)if(Ui(o)&&Ui(c))for(let l=0;l<t.length;l++){const d=t[l];typeof d=="string"&&(t[l]=parseFloat(d))}else Ft[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let a=0;a<t.length;a++)(t[a]===null||Xf(t[a]))&&r.push(a);r.length&&sp(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ft[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&t.getValue(r,a).jump(a,!1)}measureEndState(){var c;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const a=t.getValue(n);a&&a.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Ft[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([l,d])=>{t.getValue(l).set(d)}),this.resolveNoneKeyframes()}}function ap(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const a=(n==null?void 0:n[e])??r.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const Zl=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Xi=30,ip=e=>!isNaN(parseFloat(e));class op{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var o,c;const i=Pe.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Pe.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=ip(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Pa);const r=this.events[t].add(n);return t==="change"?()=>{r(),fe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Pe.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Xi)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xi);return xl(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nn(e,t){return new op(e,t)}const{schedule:Ha}=Al(queueMicrotask,!1),We={x:!1,y:!1};function Ql(){return We.x||We.y}function cp(e){return e==="x"||e==="y"?We[e]?null:(We[e]=!0,()=>{We[e]=!1}):We.x||We.y?null:(We.x=We.y=!0,()=>{We.x=We.y=!1})}function Jl(e,t){const n=ap(e),r=new AbortController,a={passive:!0,...t,signal:r.signal};return[n,a,()=>r.abort()]}function Zi(e){return!(e.pointerType==="touch"||Ql())}function lp(e,t,n={}){const[r,a,i]=Jl(e,n),o=c=>{if(!Zi(c))return;const{target:l}=c,d=t(l,c);if(typeof d!="function"||!l)return;const u=h=>{Zi(h)&&(d(h),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return r.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const eu=(e,t)=>t?e===t?!0:eu(e,t.parentElement):!1,Ga=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,up=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function dp(e){return up.has(e.tagName)||e.tabIndex!==-1}const ps=new WeakSet;function Qi(e){return t=>{t.key==="Enter"&&e(t)}}function Xs(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const hp=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=Qi(()=>{if(ps.has(n))return;Xs(n,"down");const a=Qi(()=>{Xs(n,"up")}),i=()=>Xs(n,"cancel");n.addEventListener("keyup",a,t),n.addEventListener("blur",i,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function Ji(e){return Ga(e)&&!Ql()}function mp(e,t,n={}){const[r,a,i]=Jl(e,n),o=c=>{const l=c.currentTarget;if(!Ji(c))return;ps.add(l);const d=t(l,c),u=(f,p)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),ps.has(l)&&ps.delete(l),Ji(f)&&typeof d=="function"&&d(f,{success:p})},h=f=>{u(f,l===window||l===document||n.useGlobalTarget||eu(l,f.target))},m=f=>{u(f,!1)};window.addEventListener("pointerup",h,a),window.addEventListener("pointercancel",m,a)};return r.forEach(c=>{(n.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),Ua(c)&&(c.addEventListener("focus",d=>hp(d,a)),!dp(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function tu(e){return fl(e)&&"ownerSVGElement"in e}function fp(e){return tu(e)&&e.tagName==="svg"}const Ce=e=>!!(e&&e.getVelocity),pp=[...Gl,Ne,Ct],xp=e=>pp.find(Hl(e)),za=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class gp extends y.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=Ua(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function yp({children:e,isPresent:t,anchorX:n}){const r=y.useId(),a=y.useRef(null),i=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=y.useContext(za);return y.useInsertionEffect(()=>{const{width:c,height:l,top:d,left:u,right:h}=i.current;if(t||!a.current||!c||!l)return;const m=n==="left"?`left: ${u}`:`right: ${h}`;a.current.dataset.motionPopId=r;const f=document.createElement("style");return o&&(f.nonce=o),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${l}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{document.head.contains(f)&&document.head.removeChild(f)}},[t]),s.jsx(gp,{isPresent:t,childRef:a,sizeRef:i,children:y.cloneElement(e,{ref:a})})}const vp=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c})=>{const l=Ca(jp),d=y.useId();let u=!0,h=y.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:n,custom:a,onExitComplete:m=>{l.set(m,!0);for(const f of l.values())if(!f)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[n,l,r]);return i&&u&&(h={...h}),y.useMemo(()=>{l.forEach((m,f)=>l.set(f,!1))},[n]),y.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(e=s.jsx(yp,{isPresent:n,anchorX:c,children:e})),s.jsx(Fs.Provider,{value:h,children:e})};function jp(){return new Map}function nu(e=!0){const t=y.useContext(Fs);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=t,i=y.useId();y.useEffect(()=>{if(e)return a(i)},[e]);const o=y.useCallback(()=>e&&r&&r(i),[i,r,e]);return!n&&r?[!1,o]:[!0]}const ls=e=>e.key||"";function eo(e){const t=[];return y.Children.forEach(e,n=>{y.isValidElement(n)&&t.push(n)}),t}const bp=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left"})=>{const[l,d]=nu(o),u=y.useMemo(()=>eo(e),[e]),h=o&&!l?[]:u.map(ls),m=y.useRef(!0),f=y.useRef(u),p=Ca(()=>new Map),[x,g]=y.useState(u),[v,T]=y.useState(u);hl(()=>{m.current=!1,f.current=u;for(let k=0;k<v.length;k++){const S=ls(v[k]);h.includes(S)?p.delete(S):p.get(S)!==!0&&p.set(S,!1)}},[v,h.length,h.join("-")]);const b=[];if(u!==x){let k=[...u];for(let S=0;S<v.length;S++){const R=v[S],j=ls(R);h.includes(j)||(k.splice(S,0,R),b.push(R))}return i==="wait"&&b.length&&(k=b),T(eo(k)),g(u),null}const{forceRender:_}=y.useContext(Na);return s.jsx(s.Fragment,{children:v.map(k=>{const S=ls(k),R=o&&!l?!1:u===v||h.includes(S),j=()=>{if(p.has(S))p.set(S,!0);else return;let N=!0;p.forEach(M=>{M||(N=!1)}),N&&(_==null||_(),T(f.current),o&&(d==null||d()),r&&r())};return s.jsx(vp,{isPresent:R,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:R?void 0:j,anchorX:c,children:k},S)})})},su=y.createContext({strict:!1}),to={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sn={};for(const e in to)sn[e]={isEnabled:t=>to[e].some(n=>!!t[n])};function wp(e){for(const t in e)sn[t]={...sn[t],...e[t]}}const Sp=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Cs(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sp.has(e)}let ru=e=>!Cs(e);function Np(e){e&&(ru=t=>t.startsWith("on")?!Cs(t):e(t))}try{Np(require("@emotion/is-prop-valid").default)}catch{}function Cp(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(ru(a)||n===!0&&Cs(a)||!t&&!Cs(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function Tp(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const Is=y.createContext({});function Vs(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Dn(e){return typeof e=="string"||Array.isArray(e)}const Xa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Za=["initial",...Xa];function Bs(e){return Vs(e.animate)||Za.some(t=>Dn(e[t]))}function au(e){return!!(Bs(e)||e.variants)}function Ap(e,t){if(Bs(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Dn(n)?n:void 0,animate:Dn(r)?r:void 0}}return e.inherit!==!1?t:{}}function _p(e){const{initial:t,animate:n}=Ap(e,y.useContext(Is));return y.useMemo(()=>({initial:t,animate:n}),[no(t),no(n)])}function no(e){return Array.isArray(e)?e.join(" "):e}const Mp=Symbol.for("motionComponentSymbol");function Gt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Dp(e,t,n){return y.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Gt(n)&&(n.current=r))},[t])}const Qa=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pp="framerAppearId",iu="data-"+Qa(Pp),ou=y.createContext({});function kp(e,t,n,r,a){var x,g;const{visualElement:i}=y.useContext(Is),o=y.useContext(su),c=y.useContext(Fs),l=y.useContext(za).reducedMotion,d=y.useRef(null);r=r||o.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:l}));const u=d.current,h=y.useContext(ou);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Rp(d.current,n,a,h);const m=y.useRef(!1);y.useInsertionEffect(()=>{u&&m.current&&u.update(n,c)});const f=n[iu],p=y.useRef(!!f&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,f))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,f)));return hl(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),Ha.render(u.render),p.current&&u.animationState&&u.animationState.animateChanges())}),y.useEffect(()=>{u&&(!p.current&&u.animationState&&u.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,f)}),p.current=!1))}),u}function Rp(e,t,n,r){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:l,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:cu(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&Gt(c),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:d})}function cu(e){if(e)return e.options.allowProjection!==!1?e.projection:cu(e.parent)}function Op({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&wp(e);function i(c,l){let d;const u={...y.useContext(za),...c,layoutId:Ep(c)},{isStatic:h}=u,m=_p(c),f=r(c,h);if(!h&&Ta){Lp();const p=Fp(u);d=p.MeasureLayout,m.visualElement=kp(a,f,u,t,p.ProjectionNode)}return s.jsxs(Is.Provider,{value:m,children:[d&&m.visualElement?s.jsx(d,{visualElement:m.visualElement,...u}):null,n(a,c,Dp(f,m.visualElement,l),f,h,m.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const o=y.forwardRef(i);return o[Mp]=a,o}function Ep({layoutId:e}){const t=y.useContext(Na).id;return t&&e!==void 0?t+"-"+e:e}function Lp(e,t){y.useContext(su).strict}function Fp(e){const{drag:t,layout:n}=sn;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Pn={};function Ip(e){for(const t in e)Pn[t]=e[t],Oa(t)&&(Pn[t].isCSSVariable=!0)}function lu(e,{layout:t,layoutId:n}){return hn.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!Pn[e]||e==="opacity")}const Vp={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bp=dn.length;function qp(e,t,n){let r="",a=!0;for(let i=0;i<Bp;i++){const o=dn[i],c=e[o];if(c===void 0)continue;let l=!0;if(typeof c=="number"?l=c===(o.startsWith("scale")?1:0):l=parseFloat(c)===0,!l||n){const d=Zl(c,Ya[o]);if(!l){a=!1;const u=Vp[o]||o;r+=`${u}(${d}) `}n&&(t[o]=d)}}return r=r.trim(),n?r=n(t,a?"":r):a&&(r="none"),r}function Ja(e,t,n){const{style:r,vars:a,transformOrigin:i}=e;let o=!1,c=!1;for(const l in t){const d=t[l];if(hn.has(l)){o=!0;continue}else if(Oa(l)){a[l]=d;continue}else{const u=Zl(d,Ya[l]);l.startsWith("origin")?(c=!0,i[l]=u):r[l]=u}}if(t.transform||(o||n?r.transform=qp(t,e.transform,n):r.transform&&(r.transform="none")),c){const{originX:l="50%",originY:d="50%",originZ:u=0}=i;r.transformOrigin=`${l} ${d} ${u}`}}const ei=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function uu(e,t,n){for(const r in t)!Ce(t[r])&&!lu(r,n)&&(e[r]=t[r])}function $p({transformTemplate:e},t){return y.useMemo(()=>{const n=ei();return Ja(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Wp(e,t){const n=e.style||{},r={};return uu(r,n,e),Object.assign(r,$p(e,t)),r}function Up(e,t){const n={},r=Wp(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const Kp={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yp={offset:"strokeDashoffset",array:"strokeDasharray"};function Hp(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?Kp:Yp;e[i.offset]=U.transform(-r);const o=U.transform(t),c=U.transform(n);e[i.array]=`${o} ${c}`}function du(e,{attrX:t,attrY:n,attrScale:r,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},l,d,u){if(Ja(e,c,d),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&Hp(h,a,i,o,!1)}const hu=()=>({...ei(),attrs:{}}),mu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Gp(e,t,n,r){const a=y.useMemo(()=>{const i=hu();return du(i,t,mu(r),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};uu(i,e.style,e),a.style={...i,...a.style}}return a}const zp=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ti(e){return typeof e!="string"||e.includes("-")?!1:!!(zp.indexOf(e)>-1||/[A-Z]/u.test(e))}function Xp(e=!1){return(n,r,a,{latestValues:i},o)=>{const l=(ti(n)?Gp:Up)(r,i,o,n),d=Cp(r,typeof n=="string",e),u=n!==y.Fragment?{...d,...l,ref:a}:{},{children:h}=r,m=y.useMemo(()=>Ce(h)?h.get():h,[h]);return y.createElement(n,{...u,children:m})}}function so(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function ni(e,t,n,r){if(typeof t=="function"){const[a,i]=so(r);t=t(n!==void 0?n:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=so(r);t=t(n!==void 0?n:e.custom,a,i)}return t}function xs(e){return Ce(e)?e.get():e}function Zp({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,a){return{latestValues:Qp(n,r,a,e),renderState:t()}}const fu=e=>(t,n)=>{const r=y.useContext(Is),a=y.useContext(Fs),i=()=>Zp(e,t,r,a);return n?i():Ca(i)};function Qp(e,t,n,r){const a={},i=r(e,{});for(const m in i)a[m]=xs(i[m]);let{initial:o,animate:c}=e;const l=Bs(e),d=au(e);t&&d&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const h=u?c:o;if(h&&typeof h!="boolean"&&!Vs(h)){const m=Array.isArray(h)?h:[h];for(let f=0;f<m.length;f++){const p=ni(e,m[f]);if(p){const{transitionEnd:x,transition:g,...v}=p;for(const T in v){let b=v[T];if(Array.isArray(b)){const _=u?b.length-1:0;b=b[_]}b!==null&&(a[T]=b)}for(const T in x)a[T]=x[T]}}}return a}function si(e,t,n){var i;const{style:r}=e,a={};for(const o in r)(Ce(r[o])||t.style&&Ce(t.style[o])||lu(o,e)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(a[o]=r[o]);return a}const Jp={useVisualState:fu({scrapeMotionValuesFromProps:si,createRenderState:ei})};function pu(e,t,n){const r=si(e,t,n);for(const a in e)if(Ce(e[a])||Ce(t[a])){const i=dn.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[i]=e[a]}return r}const ex={useVisualState:fu({scrapeMotionValuesFromProps:pu,createRenderState:hu})};function tx(e,t){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const o={...ti(r)?ex:Jp,preloadedFeatures:e,useRender:Xp(a),createVisualElement:t,Component:r};return Op(o)}}function kn(e,t,n){const r=e.getProps();return ni(r,t,n!==void 0?n:r.custom,e)}const oa=e=>Array.isArray(e);function nx(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,nn(n))}function sx(e){return oa(e)?e[e.length-1]||0:e}function rx(e,t){const n=kn(e,t);let{transitionEnd:r={},transition:a={},...i}=n||{};i={...i,...r};for(const o in i){const c=sx(i[o]);nx(e,o,c)}}function ax(e){return!!(Ce(e)&&e.add)}function ca(e,t){const n=e.getValue("willChange");if(ax(n))return n.add(t);if(!n&&ct.WillChange){const r=new ct.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function xu(e){return e.props[iu]}const ix=e=>e!==null;function ox(e,{repeat:t,repeatType:n="loop"},r){const a=e.filter(ix),i=t&&n!=="loop"&&t%2===1?0:a.length-1;return a[i]}const cx={type:"spring",stiffness:500,damping:25,restSpeed:10},lx=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ux={type:"keyframes",duration:.8},dx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hx=(e,{keyframes:t})=>t.length>2?ux:hn.has(e)?e.startsWith("scale")?lx(t[1]):cx:dx;function mx({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:l,elapsed:d,...u}){return!!Object.keys(u).length}const ri=(e,t,n,r={},a,i)=>o=>{const c=Ka(r,e)||{},l=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-Ze(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:m=>{t.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:i?void 0:a};mx(c)||Object.assign(u,hx(e,u)),u.duration&&(u.duration=Ze(u.duration)),u.repeatDelay&&(u.repeatDelay=Ze(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(h=!0)),(ct.instantAnimations||ct.skipAnimations)&&(h=!0,u.duration=0,u.delay=0),u.allowFlatten=!c.type&&!c.ease,h&&!i&&t.get()!==void 0){const m=ox(u.keyframes,c);if(m!==void 0){fe.update(()=>{u.onUpdate(m),u.onComplete()});return}}return c.isSync?new $a(u):new Yf(u)};function fx({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function gu(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(i=r);const l=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const u in c){const h=e.getValue(u,e.latestValues[u]??null),m=c[u];if(m===void 0||d&&fx(d,u))continue;const f={delay:n,...Ka(i||{},u)},p=h.get();if(p!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===p&&!f.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const v=xu(e);if(v){const T=window.MotionHandoffAnimation(v,u,fe);T!==null&&(f.startTime=T,x=!0)}}ca(e,u),h.start(ri(u,h,m,e.shouldReduceMotion&&Yl.has(u)?{type:!1}:f,e,x));const g=h.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{fe.update(()=>{o&&rx(e,o)})}),l}function la(e,t,n={}){var l;const r=kn(e,t,n.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(gu(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=a;return px(e,t,u+d,h,m,n)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,u]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function px(e,t,n=0,r=0,a=1,i){const o=[],c=(e.variantChildren.size-1)*r,l=a===1?(d=0)=>d*r:(d=0)=>c-d*r;return Array.from(e.variantChildren).sort(xx).forEach((d,u)=>{d.notify("AnimationStart",t),o.push(la(d,t,{...i,delay:n+l(u)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(o)}function xx(e,t){return e.sortNodePosition(t)}function gx(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>la(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=la(e,t,n);else{const a=typeof t=="function"?kn(e,t,n.custom):t;r=Promise.all(gu(e,a,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function yu(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const yx=Za.length;function vu(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?vu(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<yx;n++){const r=Za[n],a=e.props[r];(Dn(a)||a===!1)&&(t[r]=a)}return t}const vx=[...Xa].reverse(),jx=Xa.length;function bx(e){return t=>Promise.all(t.map(({animation:n,options:r})=>gx(e,n,r)))}function wx(e){let t=bx(e),n=ro(),r=!0;const a=l=>(d,u)=>{var m;const h=kn(e,u,l==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:f,transitionEnd:p,...x}=h;d={...d,...x,...p}}return d};function i(l){t=l(e)}function o(l){const{props:d}=e,u=vu(e.parent)||{},h=[],m=new Set;let f={},p=1/0;for(let g=0;g<jx;g++){const v=vx[g],T=n[v],b=d[v]!==void 0?d[v]:u[v],_=Dn(b),k=v===l?T.isActive:null;k===!1&&(p=g);let S=b===u[v]&&b!==d[v]&&_;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),T.protectedKeys={...f},!T.isActive&&k===null||!b&&!T.prevProp||Vs(b)||typeof b=="boolean")continue;const R=Sx(T.prevProp,b);let j=R||v===l&&T.isActive&&!S&&_||g>p&&_,N=!1;const M=Array.isArray(b)?b:[b];let w=M.reduce(a(v),{});k===!1&&(w={});const{prevResolvedValues:A={}}=T,O={...A,...w},W=C=>{j=!0,m.has(C)&&(N=!0,m.delete(C)),T.needsAnimating[C]=!0;const D=e.getValue(C);D&&(D.liveStyle=!1)};for(const C in O){const D=w[C],te=A[C];if(f.hasOwnProperty(C))continue;let X=!1;oa(D)&&oa(te)?X=!yu(D,te):X=D!==te,X?D!=null?W(C):m.add(C):D!==void 0&&m.has(C)?W(C):T.protectedKeys[C]=!0}T.prevProp=b,T.prevResolvedValues=w,T.isActive&&(f={...f,...w}),r&&e.blockInitialAnimation&&(j=!1),j&&(!(S&&R)||N)&&h.push(...M.map(C=>({animation:C,options:{type:v}})))}if(m.size){const g={};if(typeof d.initial!="boolean"){const v=kn(e,Array.isArray(d.initial)?d.initial[0]:d.initial);v&&v.transition&&(g.transition=v.transition)}m.forEach(v=>{const T=e.getBaseTarget(v),b=e.getValue(v);b&&(b.liveStyle=!0),g[v]=T??null}),h.push({animation:g})}let x=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(h):Promise.resolve()}function c(l,d){var h;if(n[l].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var f;return(f=m.animationState)==null?void 0:f.setActive(l,d)}),n[l].isActive=d;const u=o(l);for(const m in n)n[m].protectedKeys={};return u}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>n,reset:()=>{n=ro(),r=!0}}}function Sx(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!yu(t,e):!1}function Pt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ro(){return{animate:Pt(!0),whileInView:Pt(),whileHover:Pt(),whileTap:Pt(),whileDrag:Pt(),whileFocus:Pt(),exit:Pt()}}class At{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Nx extends At{constructor(t){super(t),t.animationState||(t.animationState=wx(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vs(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Cx=0;class Tx extends At{constructor(){super(...arguments),this.id=Cx++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const a=this.node.animationState.setActive("exit",!t);n&&!t&&a.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ax={animation:{Feature:Nx},exit:{Feature:Tx}};function Rn(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Hn(e){return{point:{x:e.pageX,y:e.pageY}}}const _x=e=>t=>Ga(t)&&e(t,Hn(t));function Sn(e,t,n,r){return Rn(e,t,_x(n),r)}function ju({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Mx({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Dx(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const bu=1e-4,Px=1-bu,kx=1+bu,wu=.01,Rx=0-wu,Ox=0+wu;function _e(e){return e.max-e.min}function Ex(e,t,n){return Math.abs(e-t)<=n}function ao(e,t,n,r=.5){e.origin=r,e.originPoint=me(t.min,t.max,e.origin),e.scale=_e(n)/_e(t),e.translate=me(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Px&&e.scale<=kx||isNaN(e.scale))&&(e.scale=1),(e.translate>=Rx&&e.translate<=Ox||isNaN(e.translate))&&(e.translate=0)}function Nn(e,t,n,r){ao(e.x,t.x,n.x,r?r.originX:void 0),ao(e.y,t.y,n.y,r?r.originY:void 0)}function io(e,t,n){e.min=n.min+t.min,e.max=e.min+_e(t)}function Lx(e,t,n){io(e.x,t.x,n.x),io(e.y,t.y,n.y)}function oo(e,t,n){e.min=t.min-n.min,e.max=e.min+_e(t)}function Cn(e,t,n){oo(e.x,t.x,n.x),oo(e.y,t.y,n.y)}const co=()=>({translate:0,scale:1,origin:0,originPoint:0}),zt=()=>({x:co(),y:co()}),lo=()=>({min:0,max:0}),xe=()=>({x:lo(),y:lo()});function Ie(e){return[e("x"),e("y")]}function Zs(e){return e===void 0||e===1}function ua({scale:e,scaleX:t,scaleY:n}){return!Zs(e)||!Zs(t)||!Zs(n)}function kt(e){return ua(e)||Su(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Su(e){return uo(e.x)||uo(e.y)}function uo(e){return e&&e!=="0%"}function Ts(e,t,n){const r=e-n,a=t*r;return n+a}function ho(e,t,n,r,a){return a!==void 0&&(e=Ts(e,a,r)),Ts(e,n,r)+t}function da(e,t=0,n=1,r,a){e.min=ho(e.min,t,n,r,a),e.max=ho(e.max,t,n,r,a)}function Nu(e,{x:t,y:n}){da(e.x,t.translate,t.scale,t.originPoint),da(e.y,n.translate,n.scale,n.originPoint)}const mo=.999999999999,fo=1.0000000000001;function Fx(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let c=0;c<a;c++){i=n[c],o=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Zt(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Nu(e,o)),r&&kt(i.latestValues)&&Zt(e,i.latestValues))}t.x<fo&&t.x>mo&&(t.x=1),t.y<fo&&t.y>mo&&(t.y=1)}function Xt(e,t){e.min=e.min+t,e.max=e.max+t}function po(e,t,n,r,a=.5){const i=me(e.min,e.max,a);da(e,t,n,i,r)}function Zt(e,t){po(e.x,t.x,t.scaleX,t.scale,t.originX),po(e.y,t.y,t.scaleY,t.scale,t.originY)}function Cu(e,t){return ju(Dx(e.getBoundingClientRect(),t))}function Ix(e,t,n){const r=Cu(e,n),{scroll:a}=t;return a&&(Xt(r.x,a.offset.x),Xt(r.y,a.offset.y)),r}const Tu=({current:e})=>e?e.ownerDocument.defaultView:null,xo=(e,t)=>Math.abs(e-t);function Vx(e,t){const n=xo(e.x,t.x),r=xo(e.y,t.y);return Math.sqrt(n**2+r**2)}class Au{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Js(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,f=Vx(h.offset,{x:0,y:0})>=3;if(!m&&!f)return;const{point:p}=h,{timestamp:x}=be;this.history.push({...p,timestamp:x});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Qs(m,this.transformPagePoint),fe.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:f,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Js(h.type==="pointercancel"?this.lastMoveEventInfo:Qs(m,this.transformPagePoint),this.history);this.startEvent&&f&&f(h,g),p&&p(h,g)},!Ga(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=Hn(t),c=Qs(o,this.transformPagePoint),{point:l}=c,{timestamp:d}=be;this.history=[{...l,timestamp:d}];const{onSessionStart:u}=n;u&&u(t,Js(c,this.history)),this.removeListeners=Un(Sn(this.contextWindow,"pointermove",this.handlePointerMove),Sn(this.contextWindow,"pointerup",this.handlePointerUp),Sn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Nt(this.updatePoint)}}function Qs(e,t){return t?{point:t(e.point)}:e}function go(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Js({point:e},t){return{point:e,delta:go(e,_u(t)),offset:go(e,Bx(t)),velocity:qx(t,.1)}}function Bx(e){return e[0]}function _u(e){return e[e.length-1]}function qx(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=_u(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Ze(t)));)n--;if(!r)return{x:0,y:0};const i=Qe(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function $x(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?me(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?me(n,e,r.max):Math.min(e,n)),e}function yo(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Wx(e,{top:t,left:n,bottom:r,right:a}){return{x:yo(e.x,n,a),y:yo(e.y,t,r)}}function vo(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Ux(e,t){return{x:vo(e.x,t.x),y:vo(e.y,t.y)}}function Kx(e,t){let n=.5;const r=_e(e),a=_e(t);return a>r?n=An(t.min,t.max-r,e.min):r>a&&(n=An(e.min,e.max-a,t.min)),ot(0,1,n)}function Yx(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const ha=.35;function Hx(e=ha){return e===!1?e=0:e===!0&&(e=ha),{x:jo(e,"left","right"),y:jo(e,"top","bottom")}}function jo(e,t,n){return{min:bo(e,t),max:bo(e,n)}}function bo(e,t){return typeof e=="number"?e:e[t]||0}const Gx=new WeakMap;class zx{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xe(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Hn(u).point)},i=(u,h)=>{const{drag:m,dragPropagation:f,onDragStart:p}=this.getProps();if(m&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=cp(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ie(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Je.test(v)){const{projection:T}=this.visualElement;if(T&&T.layout){const b=T.layout.layoutBox[g];b&&(v=_e(b)*(parseFloat(v)/100))}}this.originPoint[g]=v}),p&&fe.postRender(()=>p(u,h)),ca(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(u,h)=>{const{dragPropagation:m,dragDirectionLock:f,onDirectionLock:p,onDrag:x}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(f&&this.currentDirection===null){this.currentDirection=Xx(g),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),x&&x(u,h)},c=(u,h)=>this.stop(u,h),l=()=>Ie(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Au(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:c,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:Tu(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&fe.postRender(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!us(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=$x(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&Gt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=Wx(r.layoutBox,t):this.constraints=!1,this.elastic=Hx(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ie(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Yx(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Gt(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Ix(r,a.root,this.visualElement.getTransformPagePoint());let o=Ux(a.layout.layoutBox,i);if(n){const c=n(Mx(o));this.hasMutatedConstraints=!!c,c&&(o=ju(c))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),l=this.constraints||{},d=Ie(u=>{if(!us(u,n,this.currentDirection))return;let h=l&&l[u]||{};o&&(h={min:0,max:0});const m=a?200:1e6,f=a?40:1e7,p={type:"inertia",velocity:r?t[u]:0,bounceStiffness:m,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(u,p)});return Promise.all(d).then(c)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ca(this.visualElement,t),r.start(ri(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ie(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ie(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ie(n=>{const{drag:r}=this.getProps();if(!us(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[n];i.set(t[n]-me(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Gt(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ie(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const l=c.get();a[o]=Kx({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ie(o=>{if(!us(o,t,null))return;const c=this.getAxisMotionValue(o),{min:l,max:d}=this.constraints[o];c.set(me(l,d,a[o]))})}addListeners(){if(!this.visualElement.current)return;Gx.set(this.visualElement,this);const t=this.visualElement.current,n=Sn(t,"pointerdown",l=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Gt(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),fe.read(r);const o=Rn(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d})=>{this.isDragging&&d&&(Ie(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=l[u].translate,h.set(h.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=ha,dragMomentum:c=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function us(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Xx(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Zx extends At{constructor(t){super(t),this.removeGroupControls=qe,this.removeListeners=qe,this.controls=new zx(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qe}unmount(){this.removeGroupControls(),this.removeListeners()}}const wo=e=>(t,n)=>{e&&fe.postRender(()=>e(t,n))};class Qx extends At{constructor(){super(...arguments),this.removePointerDownListener=qe}onPointerDown(t){this.session=new Au(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tu(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:wo(t),onStart:wo(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&fe.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Sn(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function So(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xn={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(U.test(e))e=parseFloat(e);else return e;const n=So(e,t.target.x),r=So(e,t.target.y);return`${n}% ${r}%`}},Jx={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Ct.parse(e);if(a.length>5)return r;const i=Ct.createTransformer(e),o=typeof a[0]!="number"?1:0,c=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=c,a[1+o]/=l;const d=me(c,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=d),typeof a[3+o]=="number"&&(a[3+o]/=d),i(a)}};class eg extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;Ip(tg),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gs.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0||t.isPresent!==i?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||fe.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Ha.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Mu(e){const[t,n]=nu(),r=y.useContext(Na);return s.jsx(eg,{...e,layoutGroup:r,switchLayoutGroup:y.useContext(ou),isPresent:t,safeToRemove:n})}const tg={borderRadius:{...xn,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xn,borderTopRightRadius:xn,borderBottomLeftRadius:xn,borderBottomRightRadius:xn,boxShadow:Jx};function ng(e,t,n){const r=Ce(e)?e:nn(e);return r.start(ri("",r,t,n)),r.animation}const sg=(e,t)=>e.depth-t.depth;class rg{constructor(){this.children=[],this.isDirty=!1}add(t){Aa(this.children,t),this.isDirty=!0}remove(t){_a(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sg),this.isDirty=!1,this.children.forEach(t)}}function ag(e,t){const n=Pe.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Nt(r),e(i-t))};return fe.setup(r,!0),()=>Nt(r)}const Du=["TopLeft","TopRight","BottomLeft","BottomRight"],ig=Du.length,No=e=>typeof e=="string"?parseFloat(e):e,Co=e=>typeof e=="number"||U.test(e);function og(e,t,n,r,a,i){a?(e.opacity=me(0,n.opacity??1,cg(r)),e.opacityExit=me(t.opacity??1,0,lg(r))):i&&(e.opacity=me(t.opacity??1,n.opacity??1,r));for(let o=0;o<ig;o++){const c=`border${Du[o]}Radius`;let l=To(t,c),d=To(n,c);if(l===void 0&&d===void 0)continue;l||(l=0),d||(d=0),l===0||d===0||Co(l)===Co(d)?(e[c]=Math.max(me(No(l),No(d),r),0),(Je.test(d)||Je.test(l))&&(e[c]+="%")):e[c]=d}(t.rotate||n.rotate)&&(e.rotate=me(t.rotate||0,n.rotate||0,r))}function To(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cg=Pu(0,.5,Sl),lg=Pu(.5,.95,qe);function Pu(e,t,n){return r=>r<e?0:r>t?1:n(An(e,t,r))}function Ao(e,t){e.min=t.min,e.max=t.max}function Le(e,t){Ao(e.x,t.x),Ao(e.y,t.y)}function _o(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Mo(e,t,n,r,a){return e-=t,e=Ts(e,1/n,r),a!==void 0&&(e=Ts(e,1/a,r)),e}function ug(e,t=0,n=1,r=.5,a,i=e,o=e){if(Je.test(t)&&(t=parseFloat(t),t=me(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=me(i.min,i.max,r);e===i&&(c-=t),e.min=Mo(e.min,t,n,c,a),e.max=Mo(e.max,t,n,c,a)}function Do(e,t,[n,r,a],i,o){ug(e,t[n],t[r],t[a],t.scale,i,o)}const dg=["x","scaleX","originX"],hg=["y","scaleY","originY"];function Po(e,t,n,r){Do(e.x,t,dg,n?n.x:void 0,r?r.x:void 0),Do(e.y,t,hg,n?n.y:void 0,r?r.y:void 0)}function ko(e){return e.translate===0&&e.scale===1}function ku(e){return ko(e.x)&&ko(e.y)}function Ro(e,t){return e.min===t.min&&e.max===t.max}function mg(e,t){return Ro(e.x,t.x)&&Ro(e.y,t.y)}function Oo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Ru(e,t){return Oo(e.x,t.x)&&Oo(e.y,t.y)}function Eo(e){return _e(e.x)/_e(e.y)}function Lo(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class fg{constructor(){this.members=[]}add(t){Aa(this.members,t),t.scheduleRender()}remove(t){if(_a(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function pg(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((a||i||o)&&(r=`translate3d(${a}px, ${i}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:f,skewY:p}=n;d&&(r=`perspective(${d}px) ${r}`),u&&(r+=`rotate(${u}deg) `),h&&(r+=`rotateX(${h}deg) `),m&&(r+=`rotateY(${m}deg) `),f&&(r+=`skewX(${f}deg) `),p&&(r+=`skewY(${p}deg) `)}const c=e.x.scale*t.x,l=e.y.scale*t.y;return(c!==1||l!==1)&&(r+=`scale(${c}, ${l})`),r||"none"}const er=["","X","Y","Z"],xg={visibility:"hidden"},gg=1e3;let yg=0;function tr(e,t,n,r){const{latestValues:a}=t;a[e]&&(n[e]=a[e],t.setStaticValue(e,0),r&&(r[e]=0))}function Ou(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=xu(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",fe,!(a||i))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&Ou(r)}function Eu({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(o={},c=t==null?void 0:t()){this.id=yg++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bg),this.nodes.forEach(Tg),this.nodes.forEach(Ag),this.nodes.forEach(wg)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new rg)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Pa),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const l=this.eventHandlers.get(o);l&&l.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=tu(o)&&!fp(o),this.instance=o;const{layoutId:c,layout:l,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||c)&&(this.isLayoutDirty=!0),e){let u;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=ag(h,250),gs.hasAnimatedSinceResize&&(gs.hasAnimatedSinceResize=!1,this.nodes.forEach(Io))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||d.getDefaultTransition()||kg,{onLayoutAnimationStart:x,onLayoutAnimationComplete:g}=d.getProps(),v=!this.targetLayout||!Ru(this.targetLayout,f),T=!h&&m;if(this.options.layoutRoot||this.resumeFrom||T||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Ka(p,"layout"),onPlay:x,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(u,T)}else h||Io(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Nt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_g),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ou(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:c,layout:l}=this.options;if(c===void 0&&!l)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Fo);return}this.isUpdating||this.nodes.forEach(Ng),this.isUpdating=!1,this.nodes.forEach(Cg),this.nodes.forEach(vg),this.nodes.forEach(jg),this.clearAllSnapshots();const c=Pe.now();be.delta=ot(0,1e3/60,c-be.timestamp),be.timestamp=c,be.isProcessing=!0,Ys.update.process(be),Ys.preRender.process(be),Ys.render.process(be),be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ha.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Sg),this.sharedNodes.forEach(Mg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_e(this.snapshot.measuredBox.x)&&!_e(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!ku(this.projectionDelta),l=this.getTransformTemplate(),d=l?l(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;o&&this.instance&&(c||kt(this.latestValues)||u)&&(a(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let l=this.removeElementScroll(c);return o&&(l=this.removeTransform(l)),Rg(l),{animationId:this.root.animationId,measuredBox:c,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return xe();const c=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Og))){const{scroll:u}=this.root;u&&(Xt(c.x,u.offset.x),Xt(c.y,u.offset.y))}return c}removeElementScroll(o){var l;const c=xe();if(Le(c,o),(l=this.scroll)!=null&&l.wasRoot)return c;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&Le(c,o),Xt(c.x,h.offset.x),Xt(c.y,h.offset.y))}return c}applyTransform(o,c=!1){const l=xe();Le(l,o);for(let d=0;d<this.path.length;d++){const u=this.path[d];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Zt(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),kt(u.latestValues)&&Zt(l,u.latestValues)}return kt(this.latestValues)&&Zt(l,this.latestValues),l}removeTransform(o){const c=xe();Le(c,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];if(!d.instance||!kt(d.latestValues))continue;ua(d.latestValues)&&d.updateSnapshot();const u=xe(),h=d.measurePageBox();Le(u,h),Po(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return kt(this.latestValues)&&Po(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=be.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Cn(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Le(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xe(),this.targetWithTransforms=xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Lx(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Le(this.target,this.layout.layoutBox),Nu(this.target,this.targetDelta)):Le(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Cn(this.relativeTargetOrigin,this.target,f.target),Le(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ua(this.parent.latestValues)||Su(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===be.timestamp&&(l=!1),l)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;Le(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Fx(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xe());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_o(this.prevProjectionDelta.x,this.projectionDelta.x),_o(this.prevProjectionDelta.y,this.projectionDelta.y)),Nn(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!Lo(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=zt(),this.projectionDelta=zt(),this.projectionDeltaWithTransform=zt()}setAnimationOrigin(o,c=!1){const l=this.snapshot,d=l?l.latestValues:{},u={...this.latestValues},h=zt();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=xe(),f=l?l.source:void 0,p=this.layout?this.layout.source:void 0,x=f!==p,g=this.getStack(),v=!g||g.members.length<=1,T=!!(x&&!v&&this.options.crossfade===!0&&!this.path.some(Pg));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const k=_/1e3;Vo(h.x,o.x,k),Vo(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Cn(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dg(this.relativeTarget,this.relativeTargetOrigin,m,k),b&&mg(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=xe()),Le(b,this.relativeTarget)),x&&(this.animationValues=u,og(u,d,this.latestValues,k,T,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,l,d;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(d=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Nt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fe.update(()=>{gs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nn(0)),this.currentAnimation=ng(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(gg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:l,layout:d,latestValues:u}=o;if(!(!c||!l||!d)){if(this!==o&&this.layout&&d&&Lu(this.options.animationType,this.layout.layoutBox,d.layoutBox)){l=this.target||xe();const h=_e(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+h;const m=_e(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Le(c,l),Zt(c,u),Nn(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new fg),this.sharedNodes.get(o).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:l}={}){const d=this.getStack();d&&d.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(c=!0),!c)return;const d={};l.z&&tr("z",o,d,this.animationValues);for(let u=0;u<er.length;u++)tr(`rotate${er[u]}`,o,d,this.animationValues),tr(`skew${er[u]}`,o,d,this.animationValues);o.render();for(const u in d)o.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return xg;const c={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=xs(o==null?void 0:o.pointerEvents)||"",c.transform=l?l(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=xs(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!kt(this.latestValues)&&(f.transform=l?l({},""):"none",this.hasProjected=!1),f}const u=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=pg(this.projectionDeltaWithTransform,this.treeScale,u),l&&(c.transform=l(u,c.transform));const{x:h,y:m}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:c.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const f in Pn){if(u[f]===void 0)continue;const{correct:p,applyTo:x,isCSSVariable:g}=Pn[f],v=c.transform==="none"?u[f]:p(u[f],d);if(x){const T=x.length;for(let b=0;b<T;b++)c[x[b]]=v}else g?this.options.visualElement.renderState.vars[f]=v:c[f]=v}return this.options.layoutId&&(c.pointerEvents=d===this?xs(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Fo),this.root.sharedNodes.clear()}}}function vg(e){e.updateLayout()}function jg(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ie(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=_e(m);m.min=r[h].min,m.max=m.min+f}):Lu(i,t.layoutBox,r)&&Ie(h=>{const m=o?t.measuredBox[h]:t.layoutBox[h],f=_e(r[h]);m.max=m.min+f,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+f)});const c=zt();Nn(c,r,t.layoutBox);const l=zt();o?Nn(l,e.applyTransform(a,!0),t.measuredBox):Nn(l,r,t.layoutBox);const d=!ku(c);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:f}=h;if(m&&f){const p=xe();Cn(p,t.layoutBox,m.layoutBox);const x=xe();Cn(x,r,f.layoutBox),Ru(p,x)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:l,layoutDelta:c,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function bg(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function wg(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Sg(e){e.clearSnapshot()}function Fo(e){e.clearMeasurements()}function Ng(e){e.isLayoutDirty=!1}function Cg(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Io(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Tg(e){e.resolveTargetDelta()}function Ag(e){e.calcProjection()}function _g(e){e.resetSkewAndRotation()}function Mg(e){e.removeLeadSnapshot()}function Vo(e,t,n){e.translate=me(t.translate,0,n),e.scale=me(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Bo(e,t,n,r){e.min=me(t.min,n.min,r),e.max=me(t.max,n.max,r)}function Dg(e,t,n,r){Bo(e.x,t.x,n.x,r),Bo(e.y,t.y,n.y,r)}function Pg(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kg={duration:.45,ease:[.4,0,.1,1]},qo=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),$o=qo("applewebkit/")&&!qo("chrome/")?Math.round:qe;function Wo(e){e.min=$o(e.min),e.max=$o(e.max)}function Rg(e){Wo(e.x),Wo(e.y)}function Lu(e,t,n){return e==="position"||e==="preserve-aspect"&&!Ex(Eo(t),Eo(n),.2)}function Og(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Eg=Eu({attachResizeListener:(e,t)=>Rn(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),nr={current:void 0},Fu=Eu({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!nr.current){const e=new Eg({});e.mount(window),e.setOptions({layoutScroll:!0}),nr.current=e}return nr.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Lg={pan:{Feature:Qx},drag:{Feature:Zx,ProjectionNode:Fu,MeasureLayout:Mu}};function Uo(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,i=r[a];i&&fe.postRender(()=>i(t,Hn(t)))}class Fg extends At{mount(){const{current:t}=this.node;t&&(this.unmount=lp(t,(n,r)=>(Uo(this.node,r,"Start"),a=>Uo(this.node,a,"End"))))}unmount(){}}class Ig extends At{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Un(Rn(this.node.current,"focus",()=>this.onFocus()),Rn(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ko(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),i=r[a];i&&fe.postRender(()=>i(t,Hn(t)))}class Vg extends At{mount(){const{current:t}=this.node;t&&(this.unmount=mp(t,(n,r)=>(Ko(this.node,r,"Start"),(a,{success:i})=>Ko(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const ma=new WeakMap,sr=new WeakMap,Bg=e=>{const t=ma.get(e.target);t&&t(e)},qg=e=>{e.forEach(Bg)};function $g({root:e,...t}){const n=e||document;sr.has(n)||sr.set(n,{});const r=sr.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(qg,{root:e,...t})),r[a]}function Wg(e,t,n){const r=$g(t);return ma.set(e,n),r.observe(e),()=>{ma.delete(e),r.unobserve(e)}}const Ug={some:0,all:1};class Kg extends At{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Ug[a]},c=l=>{const{isIntersecting:d}=l;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(l)};return Wg(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Yg(t,n))&&this.startObserver()}unmount(){}}function Yg({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Hg={inView:{Feature:Kg},tap:{Feature:Vg},focus:{Feature:Ig},hover:{Feature:Fg}},Gg={layout:{ProjectionNode:Fu,MeasureLayout:Mu}},fa={current:null},Iu={current:!1};function zg(){if(Iu.current=!0,!!Ta)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>fa.current=e.matches;e.addListener(t),t()}else fa.current=!1}const Xg=new WeakMap;function Zg(e,t,n){for(const r in t){const a=t[r],i=n[r];if(Ce(a))e.addValue(r,a);else if(Ce(i))e.addValue(r,nn(a,{owner:e}));else if(i!==a)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=e.getStaticValue(r);e.addValue(r,nn(o!==void 0?o:a,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Yo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Qg{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wa,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Pe.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,fe.render(this.render,!1,!0))};const{latestValues:l,renderState:d}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=Bs(n),this.isVariantNode=au(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const m in h){const f=h[m];l[m]!==void 0&&Ce(f)&&f.set(l[m],!1)}}mount(t){this.current=t,Xg.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),Iu.current||zg(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fa.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Nt(this.notifyUpdate),Nt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=hn.has(t);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&fe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{a(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in sn){const n=sn[t];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[t]&&a&&r(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Yo.length;r++){const a=Yo[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=t[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Zg(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=nn(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(ml(r)||pl(r))?r=parseFloat(r):!xp(r)&&Ct.test(n)&&(r=Xl(t,n)),this.setBaseTarget(t,Ce(r)?r.get():r)),Ce(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=ni(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ce(a)?a:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Pa),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Vu extends Qg{constructor(){super(...arguments),this.KeyframeResolver=rp}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ce(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Bu(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}function Jg(e){return window.getComputedStyle(e)}class ey extends Vu{constructor(){super(...arguments),this.type="html",this.renderInstance=Bu}readValueFromInstance(t,n){var r;if(hn.has(n))return(r=this.projection)!=null&&r.isProjecting?ta(n):Sf(t,n);{const a=Jg(t),i=(Oa(n)?a.getPropertyValue(n):a[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Cu(t,n)}build(t,n,r){Ja(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return si(t,n,r)}}const qu=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ty(e,t,n,r){Bu(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(qu.has(a)?a:Qa(a),t.attrs[a])}class ny extends Vu{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xe}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(hn.has(n)){const r=zl(n);return r&&r.default||0}return n=qu.has(n)?n:Qa(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pu(t,n,r)}build(t,n,r){du(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,a){ty(t,n,r,a)}mount(t){this.isSVGTag=mu(t.tagName),super.mount(t)}}const sy=(e,t)=>ti(e)?new ny(t):new ey(t,{allowProjection:e!==y.Fragment}),ry=tx({...Ax,...Hg,...Lg,...Gg},sy),$=Tp(ry);function ay({id:e,title:t,description:n,children:r,className:a,isLoading:i=!1,error:o=null,onRefresh:c,onConfigure:l,onRemove:d,onExpand:u,isExpanded:h=!1,showActions:m=!0,...f}){const p=()=>{c&&c(e)},x=()=>{l&&l(e)},g=()=>{d&&d(e)},v=()=>{u&&u(e,!h)},T=()=>{console.log("Export widget:",e)};return s.jsxs(E,{className:Re("relative transition-all duration-200 hover:shadow-md",h&&"fixed inset-4 z-50 shadow-2xl",a),...f,children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(B,{className:"text-base font-medium",children:t}),n&&s.jsx(z,{className:"text-sm",children:n})]}),m&&s.jsxs("div",{className:"flex items-center space-x-1",children:[c&&s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:p,disabled:i,children:s.jsx(at,{className:Re("h-4 w-4",i&&"animate-spin")})}),s.jsxs(wd,{children:[s.jsx(Sd,{asChild:!0,children:s.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",children:s.jsx(Nd,{className:"h-4 w-4"})})}),s.jsxs(Cd,{align:"end",children:[u&&s.jsx(as,{onClick:v,children:h?s.jsxs(s.Fragment,{children:[s.jsx(Hh,{className:"mr-2 h-4 w-4"}),"Minimize"]}):s.jsxs(s.Fragment,{children:[s.jsx(Kh,{className:"mr-2 h-4 w-4"}),"Expand"]})}),s.jsxs(as,{onClick:T,children:[s.jsx(tt,{className:"mr-2 h-4 w-4"}),"Export"]}),l&&s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsxs(as,{onClick:x,children:[s.jsx(Td,{className:"mr-2 h-4 w-4"}),"Configure"]})]}),d&&s.jsxs(s.Fragment,{children:[s.jsx(Ci,{}),s.jsxs(as,{onClick:g,className:"text-destructive focus:text-destructive",children:[s.jsx(Ad,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]})]}),s.jsx(L,{className:Re("pt-0",h&&"h-full overflow-auto"),children:o?s.jsx("div",{className:"flex items-center justify-center h-32 text-center",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-destructive",children:"⚠️ Error loading widget"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:o}),c&&s.jsxs(G,{variant:"outline",size:"sm",onClick:p,children:[s.jsx(at,{className:"mr-2 h-3 w-3"}),"Retry"]})]})}):i?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsxs("div",{className:"space-y-2 text-center",children:[s.jsx(at,{className:"h-6 w-6 animate-spin mx-auto text-muted-foreground"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading..."})]})}):r})]})}var iy=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function On(e){"@babel/helpers - typeof";return On=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},On(e)}function oy(e,t){if(e==null)return{};var n=cy(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cy(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function lt(){return lt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lt.apply(this,arguments)}function Ho(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function En(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ho(Object(n),!0).forEach(function(r){ly(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ho(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ly(e,t,n){return t=uy(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uy(e){var t=dy(e,"string");return On(t)=="symbol"?t:t+""}function dy(e,t){if(On(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(On(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hy=function(t,n,r,a){var i="";return a.forEach(function(o,c){var l=Gr(n,r,t,o);c?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},my=function(t){var n=t.cx,r=t.cy,a=t.innerRadius,i=t.outerRadius,o=t.polarAngles,c=t.radialLines;if(!o||!o.length||!c)return null;var l=En({stroke:"#ccc"},Tn(t,!1));return ae.createElement("g",{className:"recharts-polar-grid-angle"},o.map(function(d){var u=Gr(n,r,a,d),h=Gr(n,r,i,d);return ae.createElement("line",lt({},l,{key:"line-".concat(d),x1:u.x,y1:u.y,x2:h.x,y2:h.y}))}))},fy=function(t){var n=t.cx,r=t.cy,a=t.radius,i=t.index,o=En(En({stroke:"#ccc"},Tn(t,!1)),{},{fill:"none"});return ae.createElement("circle",lt({},o,{className:va("recharts-polar-grid-concentric-circle",t.className),key:"circle-".concat(i),cx:n,cy:r,r:a}))},py=function(t){var n=t.radius,r=t.index,a=En(En({stroke:"#ccc"},Tn(t,!1)),{},{fill:"none"});return ae.createElement("path",lt({},a,{className:va("recharts-polar-grid-concentric-polygon",t.className),key:"path-".concat(r),d:hy(n,t.cx,t.cy,t.polarAngles)}))},xy=function(t){var n=t.polarRadius,r=t.gridType;return!n||!n.length?null:ae.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(a,i){var o=i;return r==="circle"?ae.createElement(fy,lt({key:o},t,{radius:a,index:i})):ae.createElement(py,lt({key:o},t,{radius:a,index:i}))}))},ai=function(t){var n=t.cx,r=n===void 0?0:n,a=t.cy,i=a===void 0?0:a,o=t.innerRadius,c=o===void 0?0:o,l=t.outerRadius,d=l===void 0?0:l,u=t.gridType,h=u===void 0?"polygon":u,m=t.radialLines,f=m===void 0?!0:m,p=oy(t,iy);return d<=0?null:ae.createElement("g",{className:"recharts-polar-grid"},ae.createElement(my,lt({cx:r,cy:i,innerRadius:c,outerRadius:d,gridType:h,radialLines:f},p)),ae.createElement(xy,lt({cx:r,cy:i,innerRadius:c,outerRadius:d,gridType:h,radialLines:f},p)))};ai.displayName="PolarGrid";var rr,Go;function gy(){if(Go)return rr;Go=1;function e(t,n){for(var r=-1,a=t==null?0:t.length;++r<a&&n(t[r],r,t)!==!1;);return t}return rr=e,rr}var ar,zo;function $u(){if(zo)return ar;zo=1;var e=zc(),t=_d(),n=Object.prototype,r=n.hasOwnProperty;function a(i,o,c){var l=i[o];(!(r.call(i,o)&&t(l,c))||c===void 0&&!(o in i))&&e(i,o,c)}return ar=a,ar}var ir,Xo;function Gn(){if(Xo)return ir;Xo=1;var e=$u(),t=zc();function n(r,a,i,o){var c=!i;i||(i={});for(var l=-1,d=a.length;++l<d;){var u=a[l],h=o?o(i[u],r[u],u,i,r):void 0;h===void 0&&(h=r[u]),c?t(i,u,h):e(i,u,h)}return i}return ir=n,ir}var or,Zo;function yy(){if(Zo)return or;Zo=1;var e=Gn(),t=Xc();function n(r,a){return r&&e(a,t(a),r)}return or=n,or}var cr,Qo;function vy(){if(Qo)return cr;Qo=1;function e(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}return cr=e,cr}var lr,Jo;function jy(){if(Jo)return lr;Jo=1;var e=ja(),t=Zc(),n=vy(),r=Object.prototype,a=r.hasOwnProperty;function i(o){if(!e(o))return n(o);var c=t(o),l=[];for(var d in o)d=="constructor"&&(c||!a.call(o,d))||l.push(d);return l}return lr=i,lr}var ur,ec;function ii(){if(ec)return ur;ec=1;var e=Md(),t=jy(),n=Dd();function r(a){return n(a)?e(a,!0):t(a)}return ur=r,ur}var dr,tc;function by(){if(tc)return dr;tc=1;var e=Gn(),t=ii();function n(r,a){return r&&e(a,t(a),r)}return dr=n,dr}var jn={exports:{}};jn.exports;var nc;function wy(){return nc||(nc=1,function(e,t){var n=Pd(),r=t&&!t.nodeType&&t,a=r&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===r,o=i?n.Buffer:void 0,c=o?o.allocUnsafe:void 0;function l(d,u){if(u)return d.slice();var h=d.length,m=c?c(h):new d.constructor(h);return d.copy(m),m}e.exports=l}(jn,jn.exports)),jn.exports}var hr,sc;function Sy(){if(sc)return hr;sc=1;function e(t,n){var r=-1,a=t.length;for(n||(n=Array(a));++r<a;)n[r]=t[r];return n}return hr=e,hr}var mr,rc;function Ny(){if(rc)return mr;rc=1;var e=Gn(),t=Qc();function n(r,a){return e(r,t(r),a)}return mr=n,mr}var fr,ac;function Wu(){if(ac)return fr;ac=1;var e=kd(),t=Jc(),n=Qc(),r=Rd(),a=Object.getOwnPropertySymbols,i=a?function(o){for(var c=[];o;)e(c,n(o)),o=t(o);return c}:r;return fr=i,fr}var pr,ic;function Cy(){if(ic)return pr;ic=1;var e=Gn(),t=Wu();function n(r,a){return e(r,t(r),a)}return pr=n,pr}var xr,oc;function Uu(){if(oc)return xr;oc=1;var e=Od(),t=Wu(),n=ii();function r(a){return e(a,n,t)}return xr=r,xr}var gr,cc;function Ty(){if(cc)return gr;cc=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var a=r.length,i=new r.constructor(a);return a&&typeof r[0]=="string"&&t.call(r,"index")&&(i.index=r.index,i.input=r.input),i}return gr=n,gr}var yr,lc;function oi(){if(lc)return yr;lc=1;var e=Ed();function t(n){var r=new n.constructor(n.byteLength);return new e(r).set(new e(n)),r}return yr=t,yr}var vr,uc;function Ay(){if(uc)return vr;uc=1;var e=oi();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.byteLength)}return vr=t,vr}var jr,dc;function _y(){if(dc)return jr;dc=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return jr=t,jr}var br,hc;function My(){if(hc)return br;hc=1;var e=Ld(),t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(a){return n?Object(n.call(a)):{}}return br=r,br}var wr,mc;function Dy(){if(mc)return wr;mc=1;var e=oi();function t(n,r){var a=r?e(n.buffer):n.buffer;return new n.constructor(a,n.byteOffset,n.length)}return wr=t,wr}var Sr,fc;function Py(){if(fc)return Sr;fc=1;var e=oi(),t=Ay(),n=_y(),r=My(),a=Dy(),i="[object Boolean]",o="[object Date]",c="[object Map]",l="[object Number]",d="[object RegExp]",u="[object Set]",h="[object String]",m="[object Symbol]",f="[object ArrayBuffer]",p="[object DataView]",x="[object Float32Array]",g="[object Float64Array]",v="[object Int8Array]",T="[object Int16Array]",b="[object Int32Array]",_="[object Uint8Array]",k="[object Uint8ClampedArray]",S="[object Uint16Array]",R="[object Uint32Array]";function j(N,M,w){var A=N.constructor;switch(M){case f:return e(N);case i:case o:return new A(+N);case p:return t(N,w);case x:case g:case v:case T:case b:case _:case k:case S:case R:return a(N,w);case c:return new A;case l:case h:return new A(N);case d:return n(N);case u:return new A;case m:return r(N)}}return Sr=j,Sr}var Nr,pc;function ky(){if(pc)return Nr;pc=1;var e=ja(),t=Object.create,n=function(){function r(){}return function(a){if(!e(a))return{};if(t)return t(a);r.prototype=a;var i=new r;return r.prototype=void 0,i}}();return Nr=n,Nr}var Cr,xc;function Ry(){if(xc)return Cr;xc=1;var e=ky(),t=Jc(),n=Zc();function r(a){return typeof a.constructor=="function"&&!n(a)?e(t(a)):{}}return Cr=r,Cr}var Tr,gc;function Oy(){if(gc)return Tr;gc=1;var e=ba(),t=el(),n="[object Map]";function r(a){return t(a)&&e(a)==n}return Tr=r,Tr}var Ar,yc;function Ey(){if(yc)return Ar;yc=1;var e=Oy(),t=tl(),n=nl(),r=n&&n.isMap,a=r?t(r):e;return Ar=a,Ar}var _r,vc;function Ly(){if(vc)return _r;vc=1;var e=ba(),t=el(),n="[object Set]";function r(a){return t(a)&&e(a)==n}return _r=r,_r}var Mr,jc;function Fy(){if(jc)return Mr;jc=1;var e=Ly(),t=tl(),n=nl(),r=n&&n.isSet,a=r?t(r):e;return Mr=a,Mr}var Dr,bc;function Iy(){if(bc)return Dr;bc=1;var e=Fd(),t=gy(),n=$u(),r=yy(),a=by(),i=wy(),o=Sy(),c=Ny(),l=Cy(),d=Id(),u=Uu(),h=ba(),m=Ty(),f=Py(),p=Ry(),x=Vd(),g=Bd(),v=Ey(),T=ja(),b=Fy(),_=Xc(),k=ii(),S=1,R=2,j=4,N="[object Arguments]",M="[object Array]",w="[object Boolean]",A="[object Date]",O="[object Error]",W="[object Function]",P="[object GeneratorFunction]",q="[object Map]",C="[object Number]",D="[object Object]",te="[object RegExp]",X="[object Set]",ee="[object String]",Se="[object Symbol]",ze="[object WeakMap]",_t="[object ArrayBuffer]",st="[object DataView]",fn="[object Float32Array]",pn="[object Float64Array]",ve="[object Int8Array]",J="[object Int16Array]",ge="[object Int32Array]",Jn="[object Uint8Array]",es="[object Uint8ClampedArray]",fd="[object Uint16Array]",pd="[object Uint32Array]",ce={};ce[N]=ce[M]=ce[_t]=ce[st]=ce[w]=ce[A]=ce[fn]=ce[pn]=ce[ve]=ce[J]=ce[ge]=ce[q]=ce[C]=ce[D]=ce[te]=ce[X]=ce[ee]=ce[Se]=ce[Jn]=ce[es]=ce[fd]=ce[pd]=!0,ce[O]=ce[W]=ce[ze]=!1;function ts(ne,Wt,Ut,xd,ns,ut){var De,ss=Wt&S,rs=Wt&R,gd=Wt&j;if(Ut&&(De=ns?Ut(ne,xd,ns,ut):Ut(ne)),De!==void 0)return De;if(!T(ne))return ne;var bi=x(ne);if(bi){if(De=m(ne),!ss)return o(ne,De)}else{var Kt=h(ne),wi=Kt==W||Kt==P;if(g(ne))return i(ne,ss);if(Kt==D||Kt==N||wi&&!ns){if(De=rs||wi?{}:p(ne),!ss)return rs?l(ne,a(De,ne)):c(ne,r(De,ne))}else{if(!ce[Kt])return ns?ne:{};De=f(ne,Kt,ss)}}ut||(ut=new e);var Si=ut.get(ne);if(Si)return Si;ut.set(ne,De),b(ne)?ne.forEach(function(dt){De.add(ts(dt,Wt,Ut,dt,ne,ut))}):v(ne)&&ne.forEach(function(dt,Mt){De.set(Mt,ts(dt,Wt,Ut,Mt,ne,ut))});var yd=gd?rs?u:d:rs?k:_,Ni=bi?void 0:yd(ne);return t(Ni||ne,function(dt,Mt){Ni&&(Mt=dt,dt=ne[Mt]),n(De,Mt,ts(dt,Wt,Ut,Mt,ne,ut))}),De}return Dr=ts,Dr}var Pr,wc;function Vy(){if(wc)return Pr;wc=1;var e=qd(),t=$d();function n(r,a){return a.length<2?r:e(r,t(a,0,-1))}return Pr=n,Pr}var kr,Sc;function By(){if(Sc)return kr;Sc=1;var e=sl(),t=Wd(),n=Vy(),r=Ud();function a(i,o){return o=e(o,i),i=n(i,o),i==null||delete i[r(t(o))]}return kr=a,kr}var Rr,Nc;function qy(){if(Nc)return Rr;Nc=1;var e=Kd();function t(n){return e(n)?void 0:n}return Rr=t,Rr}var Or,Cc;function $y(){if(Cc)return Or;Cc=1;var e=Yd();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Or=t,Or}var Er,Tc;function Wy(){if(Tc)return Er;Tc=1;var e=$y(),t=Hd(),n=Gd();function r(a){return n(t(a,void 0,e),a+"")}return Er=r,Er}var Lr,Ac;function Uy(){if(Ac)return Lr;Ac=1;var e=zd(),t=Iy(),n=By(),r=sl(),a=Gn(),i=qy(),o=Wy(),c=Uu(),l=1,d=2,u=4,h=o(function(m,f){var p={};if(m==null)return p;var x=!1;f=e(f,function(v){return v=r(v,m),x||(x=v.length>1),v}),a(m,c(m),p),x&&(p=t(p,l|d|u,i));for(var g=f.length;g--;)n(p,f[g]);return p});return Lr=h,Lr}var Ky=Uy();const Yy=vd(Ky);var Hy=["#1890FF","#66B5FF","#41D9C7","#2FC25B","#6EDB8F","#9AE65C","#FACC14","#E6965C","#57AD71","#223273","#738AE6","#7564CC","#8543E0","#A877ED","#5C8EE6","#13C2C2","#70E0E0","#5CA3E6","#3436C7","#8082FF","#DD81E6","#F04864","#FA7D92","#D598D9"],Gy=["width","height","className","style","children","type"];function rn(e){"@babel/helpers - typeof";return rn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rn(e)}function As(){return As=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}function zy(e,t){if(e==null)return{};var n=Xy(e,t),r,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Xy(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Zy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yu(r.key),r)}}function Qy(e,t,n){return t&&_c(e.prototype,t),n&&_c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jy(e,t,n){return t=_s(t),ev(e,Ku()?Reflect.construct(t,n||[],_s(e).constructor):t.apply(e,n))}function ev(e,t){if(t&&(rn(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tv(e)}function tv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ku(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ku=function(){return!!e})()}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_s(e)}function nv(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pa(e,t)}function pa(e,t){return pa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},pa(e,t)}function Mc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mc(Object(n),!0).forEach(function(r){it(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function it(e,t,n){return t=Yu(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yu(e){var t=sv(e,"string");return rn(t)=="symbol"?t:t+""}function sv(e,t){if(rn(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ln="value",Fr=function e(t){var n=t.depth,r=t.node,a=t.index,i=t.valueKey,o=r.children,c=n+1,l=o&&o.length?o.map(function(u,h){return e({depth:c,node:u,index:h,valueKey:i})}):null,d;return o&&o.length?d=l.reduce(function(u,h){return u+h[Ln]},0):d=rl(r[i])||r[i]<=0?0:r[i],le(le({},r),{},it(it(it({children:l},Ln,d),"depth",n),"index",a))},rv=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height}},av=function(t,n){var r=n<0?0:n;return t.map(function(a){var i=a[Ln]*r;return le(le({},a),{},{area:rl(i)||i<=0?0:i})})},iv=function(t,n,r){var a=n*n,i=t.area*t.area,o=t.reduce(function(d,u){return{min:Math.min(d.min,u.area),max:Math.max(d.max,u.area)}},{min:1/0,max:0}),c=o.min,l=o.max;return i?Math.max(a*l*r/i,i/(a*c*r)):1/0},ov=function(t,n,r,a){var i=n?Math.round(t.area/n):0;(a||i>r.height)&&(i=r.height);for(var o=r.x,c,l=0,d=t.length;l<d;l++)c=t[l],c.x=o,c.y=r.y,c.height=i,c.width=Math.min(i?Math.round(c.area/i):0,r.x+r.width-o),o+=c.width;return c.width+=r.x+r.width-o,le(le({},r),{},{y:r.y+i,height:r.height-i})},cv=function(t,n,r,a){var i=n?Math.round(t.area/n):0;(a||i>r.width)&&(i=r.width);for(var o=r.y,c,l=0,d=t.length;l<d;l++)c=t[l],c.x=r.x,c.y=o,c.width=i,c.height=Math.min(i?Math.round(c.area/i):0,r.y+r.height-o),o+=c.height;return c&&(c.height+=r.y+r.height-o),le(le({},r),{},{x:r.x+i,width:r.width-i})},Dc=function(t,n,r,a){return n===r.width?ov(t,n,r,a):cv(t,n,r,a)},Ir=function e(t,n){var r=t.children;if(r&&r.length){var a=rv(t),i=[],o=1/0,c,l,d=Math.min(a.width,a.height),u=av(r,a.width*a.height/t[Ln]),h=u.slice();for(i.area=0;h.length>0;)i.push(c=h[0]),i.area+=c.area,l=iv(i,d,n),l<=o?(h.shift(),o=l):(i.area-=i.pop().area,a=Dc(i,d,a,!1),d=Math.min(a.width,a.height),i.length=i.area=0,o=1/0);return i.length&&(a=Dc(i,d,a,!0),i.length=i.area=0),le(le({},t),{},{children:u.map(function(m){return e(m,n)})})}return t},lv={isTooltipActive:!1,isAnimationFinished:!1,activeNode:null,formatRoot:null,currentRoot:null,nestIndex:[]},ci=function(e){function t(){var n;Zy(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=Jy(this,t,[].concat(a)),it(n,"state",le({},lv)),it(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),is(o)&&o()}),it(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),is(o)&&o()}),n}return nv(t,e),Qy(t,[{key:"handleMouseEnter",value:function(r,a){a.persist();var i=this.props,o=i.onMouseEnter,c=i.children,l=Ws(c,oe);l?this.setState({isTooltipActive:!0,activeNode:r},function(){o&&o(r,a)}):o&&o(r,a)}},{key:"handleMouseLeave",value:function(r,a){a.persist();var i=this.props,o=i.onMouseLeave,c=i.children,l=Ws(c,oe);l?this.setState({isTooltipActive:!1,activeNode:null},function(){o&&o(r,a)}):o&&o(r,a)}},{key:"handleClick",value:function(r){var a=this.props,i=a.onClick,o=a.type;if(o==="nest"&&r.children){var c=this.props,l=c.width,d=c.height,u=c.dataKey,h=c.aspectRatio,m=Fr({depth:0,node:le(le({},r),{},{x:0,y:0,width:l,height:d}),index:0,valueKey:u}),f=Ir(m,h),p=this.state.nestIndex;p.push(r),this.setState({formatRoot:f,currentRoot:m,nestIndex:p})}i&&i(r)}},{key:"handleNestIndex",value:function(r,a){var i=this.state.nestIndex,o=this.props,c=o.width,l=o.height,d=o.dataKey,u=o.aspectRatio,h=Fr({depth:0,node:le(le({},r),{},{x:0,y:0,width:c,height:l}),index:0,valueKey:d}),m=Ir(h,u);i=i.slice(0,a+1),this.setState({formatRoot:m,currentRoot:r,nestIndex:i})}},{key:"renderItem",value:function(r,a,i){var o=this,c=this.props,l=c.isAnimationActive,d=c.animationBegin,u=c.animationDuration,h=c.animationEasing,m=c.isUpdateAnimationActive,f=c.type,p=c.animationId,x=c.colorPanel,g=this.state.isAnimationFinished,v=a.width,T=a.height,b=a.x,_=a.y,k=a.depth,S=parseInt("".concat((Math.random()*2-1)*v),10),R={};return(i||f==="nest")&&(R={onMouseEnter:this.handleMouseEnter.bind(this,a),onMouseLeave:this.handleMouseLeave.bind(this,a),onClick:this.handleClick.bind(this,a)}),l?ae.createElement(Ti,{begin:d,duration:u,isActive:l,easing:h,key:"treemap-".concat(p),from:{x:b,y:_,width:v,height:T},to:{x:b,y:_,width:v,height:T},onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(j){var N=j.x,M=j.y,w=j.width,A=j.height;return ae.createElement(Ti,{from:"translate(".concat(S,"px, ").concat(S,"px)"),to:"translate(0, 0)",attributeName:"transform",begin:d,easing:h,isActive:l,duration:u},ae.createElement(Us,R,function(){return k>2&&!g?null:o.constructor.renderContentItem(r,le(le({},a),{},{isAnimationActive:l,isUpdateAnimationActive:!m,width:w,height:A,x:N,y:M}),f,x)}()))}):ae.createElement(Us,R,this.constructor.renderContentItem(r,le(le({},a),{},{isAnimationActive:!1,isUpdateAnimationActive:!1,width:v,height:T,x:b,y:_}),f,x))}},{key:"renderNode",value:function(r,a){var i=this,o=this.props,c=o.content,l=o.type,d=le(le(le({},Tn(this.props,!1)),a),{},{root:r}),u=!a.children||!a.children.length,h=this.state.currentRoot,m=(h.children||[]).filter(function(f){return f.depth===a.depth&&f.name===a.name});return!m.length&&r.depth&&l==="nest"?null:ae.createElement(Us,{key:"recharts-treemap-node-".concat(d.x,"-").concat(d.y,"-").concat(d.name),className:"recharts-treemap-depth-".concat(a.depth)},this.renderItem(c,d,u),a.children&&a.children.length?a.children.map(function(f){return i.renderNode(a,f)}):null)}},{key:"renderAllNodes",value:function(){var r=this.state.formatRoot;return r?this.renderNode(r,r):null}},{key:"renderTooltip",value:function(){var r=this.props,a=r.children,i=r.nameKey,o=Ws(a,oe);if(!o)return null;var c=this.props,l=c.width,d=c.height,u=this.state,h=u.isTooltipActive,m=u.activeNode,f={x:0,y:0,width:l,height:d},p=m?{x:m.x+m.width/2,y:m.y+m.height/2}:null,x=h&&m?[{payload:m,name:Ai(m,i,""),value:Ai(m,Ln)}]:[];return ae.cloneElement(o,{viewBox:f,active:h,coordinate:p,label:"",payload:x})}},{key:"renderNestIndex",value:function(){var r=this,a=this.props,i=a.nameKey,o=a.nestIndexContent,c=this.state.nestIndex;return ae.createElement("div",{className:"recharts-treemap-nest-index-wrapper",style:{marginTop:"8px",textAlign:"center"}},c.map(function(l,d){var u=Jd(l,i,"root"),h=null;return ae.isValidElement(o)&&(h=ae.cloneElement(o,l,d)),is(o)?h=o(l,d):h=u,ae.createElement("div",{onClick:r.handleNestIndex.bind(r,l,d),key:"nest-index-".concat(eh()),className:"recharts-treemap-nest-index-box",style:{cursor:"pointer",display:"inline-block",padding:"0 7px",background:"#000",color:"#fff",marginRight:"3px"}},h)}))}},{key:"render",value:function(){if(!th(this))return null;var r=this.props,a=r.width,i=r.height,o=r.className,c=r.style,l=r.children,d=r.type,u=zy(r,Gy),h=Tn(u,!1);return ae.createElement("div",{className:va("recharts-wrapper",o),style:le(le({},c),{},{position:"relative",cursor:"default",width:a,height:i}),role:"region"},ae.createElement(nh,As({},h,{width:a,height:d==="nest"?i-30:i}),this.renderAllNodes(),sh(l)),this.renderTooltip(),d==="nest"&&this.renderNestIndex())}}],[{key:"getDerivedStateFromProps",value:function(r,a){if(r.data!==a.prevData||r.type!==a.prevType||r.width!==a.prevWidth||r.height!==a.prevHeight||r.dataKey!==a.prevDataKey||r.aspectRatio!==a.prevAspectRatio){var i=Fr({depth:0,node:{children:r.data,x:0,y:0,width:r.width,height:r.height},index:0,valueKey:r.dataKey}),o=Ir(i,r.aspectRatio);return le(le({},a),{},{formatRoot:o,currentRoot:i,nestIndex:[i],prevAspectRatio:r.aspectRatio,prevData:r.data,prevWidth:r.width,prevHeight:r.height,prevDataKey:r.dataKey,prevType:r.type})}return null}},{key:"renderContentItem",value:function(r,a,i,o){if(ae.isValidElement(r))return ae.cloneElement(r,a);if(is(r))return r(a);var c=a.x,l=a.y,d=a.width,u=a.height,h=a.index,m=null;d>10&&u>10&&a.children&&i==="nest"&&(m=ae.createElement(Qd,{points:[{x:c+2,y:l+u/2},{x:c+6,y:l+u/2+3},{x:c+2,y:l+u/2+6}]}));var f=null,p=Xd(a.name);d>20&&u>20&&p.width<d&&p.height<u&&(f=ae.createElement("text",{x:c+8,y:l+u/2+7,fontSize:14},a.name));var x=o||Hy;return ae.createElement("g",null,ae.createElement(Zd,As({fill:a.depth<2?x[h%x.length]:"rgba(255,255,255,0)",stroke:"#fff"},Yy(a,"children"),{role:"img"})),m,f)}}])}(y.PureComponent);it(ci,"displayName","Treemap");it(ci,"defaultProps",{aspectRatio:.5*(1+Math.sqrt(5)),dataKey:"value",type:"flat",isAnimationActive:!_i.isSsr,isUpdateAnimationActive:!_i.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"linear"});var uv=rh({chartName:"ComposedChart",GraphicalChild:[Ke,Vt,Ve,ah],axisComponents:[{axisType:"xAxis",AxisComp:Te},{axisType:"yAxis",AxisComp:ye},{axisType:"zAxis",AxisComp:ih}],formatAxisMap:oh});function qs({id:e,title:t,description:n,comparisonType:r="month",data:a={},isLoading:i=!1,error:o=null,onRefresh:c,onConfigure:l,onRemove:d,...u}){const[h,m]=y.useState("current"),[f,p]=y.useState("revenue"),x=y.useMemo(()=>{if(!a||!a.monthlyComparison)return null;const b=a.monthlyComparison.current_month,_=a.monthlyComparison.previous_month;return{revenue:{current:b.revenue,previous:_.revenue,change:((b.revenue-_.revenue)/_.revenue*100).toFixed(1),trend:b.revenue>_.revenue?"up":"down"},customers:{current:b.customers,previous:_.customers,change:((b.customers-_.customers)/_.customers*100).toFixed(1),trend:b.customers>_.customers?"up":"down"},transactions:{current:b.transactions,previous:_.transactions,change:((b.transactions-_.transactions)/_.transactions*100).toFixed(1),trend:b.transactions>_.transactions?"up":"down"},deposits:{current:b.deposits,previous:_.deposits,change:((b.deposits-_.deposits)/_.deposits*100).toFixed(1),trend:b.deposits>_.deposits?"up":"down"}}},[a]),g=()=>{var _;if(!x)return s.jsx("p",{className:"text-muted-foreground",children:"No data available"});const b=((_=a.monthlyComparison)==null?void 0:_.trends)||[];return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs(yt,{value:f,onValueChange:p,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(de,{value:"revenue",children:"Revenue"}),s.jsx(de,{value:"customers",children:"Customers"}),s.jsx(de,{value:"transactions",children:"Transactions"}),s.jsx(de,{value:"deposits",children:"Deposits"})]})]})}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(E,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Current Month"}),s.jsxs("p",{className:"text-2xl font-bold",children:[f==="revenue"&&`SAR ${(x.revenue.current/1e6).toFixed(1)}M`,f==="customers"&&x.customers.current.toLocaleString(),f==="transactions"&&x.transactions.current.toLocaleString(),f==="deposits"&&`SAR ${(x.deposits.current/1e9).toFixed(1)}B`]}),s.jsxs("div",{className:"flex items-center gap-2",children:[x[f].trend==="up"?s.jsx(tn,{className:"h-4 w-4 text-green-500"}):s.jsx(Os,{className:"h-4 w-4 text-red-500"}),s.jsxs("span",{className:x[f].trend==="up"?"text-green-500":"text-red-500",children:[x[f].change,"%"]})]})]})})}),s.jsx(E,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Previous Month"}),s.jsxs("p",{className:"text-2xl font-bold",children:[f==="revenue"&&`SAR ${(x.revenue.previous/1e6).toFixed(1)}M`,f==="customers"&&x.customers.previous.toLocaleString(),f==="transactions"&&x.transactions.previous.toLocaleString(),f==="deposits"&&`SAR ${(x.deposits.previous/1e9).toFixed(1)}B`]})]})})})]}),s.jsx("div",{className:"h-[200px]",children:s.jsx(he,{width:"100%",height:"100%",children:s.jsxs(ks,{data:b,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"month"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Ke,{type:"monotone",dataKey:f,stroke:"#E6B800",strokeWidth:2,dot:{fill:"#E6B800"}})]})})})]})},v=()=>{var _;const b=((_=a.branchComparison)==null?void 0:_.branches)||[];return s.jsx("div",{className:"space-y-4",children:s.jsxs(In,{defaultValue:"revenue",className:"w-full",children:[s.jsxs(Vn,{className:"grid w-full grid-cols-3",children:[s.jsx(Be,{value:"revenue",children:"Revenue"}),s.jsx(Be,{value:"customers",children:"Customers"}),s.jsx(Be,{value:"efficiency",children:"Efficiency"})]}),s.jsxs(Ye,{value:"revenue",className:"space-y-4",children:[s.jsx("div",{className:"h-[250px]",children:s.jsx(he,{width:"100%",height:"100%",children:s.jsxs(Jt,{data:b,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Ve,{dataKey:"revenue",fill:"#E6B800"})]})})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Top Performers"}),b.slice(0,3).map((k,S)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ie,{variant:"outline",children:S+1}),s.jsx("span",{className:"text-sm",children:k.name})]}),s.jsxs("span",{className:"text-sm font-medium",children:["SAR ",(k.revenue/1e6).toFixed(1),"M"]})]},k.name))]})]}),s.jsx(Ye,{value:"customers",className:"space-y-4",children:s.jsx("div",{className:"h-[250px]",children:s.jsx(he,{width:"100%",height:"100%",children:s.jsxs(Jt,{data:b,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Ve,{dataKey:"customers",fill:"#4A5568"})]})})})}),s.jsx(Ye,{value:"efficiency",className:"space-y-4",children:s.jsx("div",{className:"h-[250px]",children:s.jsx(he,{width:"100%",height:"100%",children:s.jsxs(al,{data:b,children:[s.jsx(ai,{}),s.jsx(il,{dataKey:"name"}),s.jsx(ol,{angle:90,domain:[0,100]}),s.jsx(cl,{name:"Efficiency",dataKey:"efficiency",stroke:"#68D391",fill:"#68D391",fillOpacity:.6}),s.jsx(oe,{})]})})})})]})})},T=()=>{const b=[{metric:"Revenue",current:542.4,previous:456.8,change:18.7},{metric:"Customers",current:12847,previous:10250,change:25.3},{metric:"Accounts",current:18293,previous:15600,change:17.3},{metric:"Loans",current:1800,previous:1420,change:26.8},{metric:"Deposits",current:2400,previous:1980,change:21.2}];return s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"grid gap-3",children:b.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:_.metric}),s.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[s.jsxs("span",{className:"text-sm text-muted-foreground",children:["2024: ",_.metric==="Revenue"?`SAR ${_.previous}M`:_.previous.toLocaleString()]}),s.jsxs("span",{className:"text-sm font-medium",children:["2025: ",_.metric==="Revenue"?`SAR ${_.current}M`:_.current.toLocaleString()]})]})]}),s.jsxs(ie,{variant:_.change>0?"default":"destructive",children:[s.jsx(Ue,{className:"h-3 w-3 mr-1"}),_.change>0?"+":"",_.change,"%"]})]},_.metric))})})};return s.jsx(ay,{id:e,title:t,description:n,isLoading:i,error:o,onRefresh:c,onConfigure:l,onRemove:d,...u,children:s.jsxs("div",{className:"w-full",children:[r==="month"&&g(),r==="branch"&&v(),r==="year"&&T()]})})}function an({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:Re("w-full caption-bottom text-sm",e),...t})})}function on({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:Re("[&_tr]:border-b",e),...t})}function cn({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:Re("[&_tr:last-child]:border-0",e),...t})}function we({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:Re("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function H({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:Re("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Y({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:Re("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const Pc=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"];function dv(){const[e,t]=y.useState([]),[n,r]=y.useState({totalAccounts:0,activeAccounts:0,totalBalance:0,blockedAccounts:0,dormantAccounts:0,newAccountsThisMonth:0}),[a,i]=y.useState(!0),[o,c]=y.useState(""),[l,d]=y.useState("all"),[u,h]=y.useState("all"),[m,f]=y.useState(null),[p,x]=y.useState([]),[g,v]=y.useState([]);y.useEffect(()=>{T(),b(),_()},[l,u]);const T=async()=>{try{i(!0);let N=F.from(I.ACCOUNTS).select(`
          *,
          customers (
            customer_id,
            first_name,
            last_name,
            email,
            phone_number
          )
        `).order("created_at",{ascending:!1});l!=="all"&&(N=N.eq("account_status",l.toUpperCase())),u!=="all"&&(N=N.eq("account_type",u.toUpperCase()));const{data:M,error:w}=await N;if(w)throw w;t(M||[])}catch(N){console.error("Error fetching accounts:",N),Ee.error("Failed to load accounts")}finally{i(!1)}},b=async()=>{try{const{count:N}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}),{count:M}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}).eq("account_status","ACTIVE"),{count:w}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}).eq("account_status","BLOCKED"),{count:A}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}).eq("account_status","DORMANT"),{data:O}=await F.from(I.ACCOUNTS).select("current_balance").eq("account_status","ACTIVE"),W=(O==null?void 0:O.reduce((X,ee)=>X+parseFloat(ee.current_balance||0),0))||0,P=new Date;P.setDate(1),P.setHours(0,0,0,0);const{count:q}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}).gte("created_at",P.toISOString()),{data:C}=await F.from(I.ACCOUNTS).select("account_type").eq("account_status","ACTIVE"),D=C==null?void 0:C.reduce((X,ee)=>(X[ee.account_type]=(X[ee.account_type]||0)+1,X),{}),te=Object.entries(D||{}).map(([X,ee])=>({name:X.replace("_"," "),value:ee}));v(te),r({totalAccounts:N||0,activeAccounts:M||0,totalBalance:W,blockedAccounts:w||0,dormantAccounts:A||0,newAccountsThisMonth:q||0})}catch(N){console.error("Error fetching account stats:",N),Ee.error("Failed to load account statistics")}},_=async()=>{try{const N=[],M=new Date;for(let w=5;w>=0;w--){const A=new Date(M.getFullYear(),M.getMonth()-w,1),O=new Date(M.getFullYear(),M.getMonth()-w+1,1),{count:W}=await F.from(I.ACCOUNTS).select("*",{count:"exact",head:!0}).gte("created_at",A.toISOString()).lt("created_at",O.toISOString());N.push({month:A.toLocaleDateString("en-US",{month:"short"}),accounts:W||0})}x(N)}catch(N){console.error("Error fetching account trends:",N)}},k=e.filter(N=>{var A,O,W,P;const M=N.customers,w=o.toLowerCase();return((A=N.account_number)==null?void 0:A.toLowerCase().includes(w))||((O=M==null?void 0:M.first_name)==null?void 0:O.toLowerCase().includes(w))||((W=M==null?void 0:M.last_name)==null?void 0:W.toLowerCase().includes(w))||((P=M==null?void 0:M.email)==null?void 0:P.toLowerCase().includes(w))}),S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},R={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},j=({title:N,value:M,icon:w,trend:A,color:O})=>s.jsx($.div,{variants:R,children:s.jsxs(E,{className:"relative overflow-hidden",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:N}),s.jsx(w,{className:`h-4 w-4 ${O}`})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:M}),A&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{className:A>0?"text-green-500":"text-red-500",children:[A>0?s.jsx(Ue,{className:"inline h-3 w-3"}):s.jsx(Wn,{className:"inline h-3 w-3"}),Math.abs(A),"%"]})," ","from last month"]})]}),s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${O} opacity-10 rounded-full -mr-16 -mt-16`})]})});return s.jsxs($.div,{variants:S,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Accounts Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Manage and monitor all bank accounts"})]}),s.jsxs(G,{className:"gap-2",children:[s.jsx(ya,{className:"h-4 w-4"}),"Open New Account"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(j,{title:"Total Accounts",value:n.totalAccounts.toLocaleString(),icon:vs,color:"text-blue-500",trend:12}),s.jsx(j,{title:"Active Accounts",value:n.activeAccounts.toLocaleString(),icon:js,color:"text-green-500",trend:8}),s.jsx(j,{title:"Total Balance",value:`SAR ${(n.totalBalance/1e6).toFixed(1)}M`,icon:St,color:"text-purple-500",trend:15}),s.jsx(j,{title:"Blocked Accounts",value:n.blockedAccounts.toLocaleString(),icon:wa,color:"text-red-500",trend:-5})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Account Growth Trend"}),s.jsx(z,{children:"New accounts opened over the last 6 months"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(ks,{data:p,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"month"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Ke,{type:"monotone",dataKey:"accounts",stroke:"#8884d8",strokeWidth:2,dot:{fill:"#8884d8"}})]})})})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Account Type Distribution"}),s.jsx(z,{children:"Distribution of active accounts by type"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Bn,{children:[s.jsx(qn,{data:g,cx:"50%",cy:"50%",labelLine:!1,label:({name:N,percent:M})=>`${N} ${(M*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:g.map((N,M)=>s.jsx($n,{fill:Pc[M%Pc.length]},`cell-${M}`))}),s.jsx(oe,{})]})})})]})})]}),s.jsx($.div,{variants:R,children:s.jsx(qs,{title:"Monthly Account Comparison",data:{monthlyComparison:{current_month:n,previous_month:n}},comparisonType:"month"})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(B,{children:"All Accounts"}),s.jsx(z,{children:"Complete list of bank accounts"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(G,{variant:"outline",size:"sm",children:[s.jsx(tt,{className:"h-4 w-4 mr-2"}),"Export"]})})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ps,{placeholder:"Search by account number, name, or email...",value:o,onChange:N=>c(N.target.value),className:"pl-10"})]})}),s.jsxs(yt,{value:l,onValueChange:d,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Filter by status"})}),s.jsxs(bt,{children:[s.jsx(de,{value:"all",children:"All Status"}),s.jsx(de,{value:"active",children:"Active"}),s.jsx(de,{value:"blocked",children:"Blocked"}),s.jsx(de,{value:"dormant",children:"Dormant"}),s.jsx(de,{value:"closed",children:"Closed"})]})]}),s.jsxs(yt,{value:u,onValueChange:h,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Filter by type"})}),s.jsxs(bt,{children:[s.jsx(de,{value:"all",children:"All Types"}),s.jsx(de,{value:"savings",children:"Savings"}),s.jsx(de,{value:"current",children:"Current"}),s.jsx(de,{value:"fixed_deposit",children:"Fixed Deposit"})]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsxs(we,{children:[s.jsx(H,{children:"Account Number"}),s.jsx(H,{children:"Customer Name"}),s.jsx(H,{children:"Type"}),s.jsx(H,{children:"Balance"}),s.jsx(H,{children:"Status"}),s.jsx(H,{children:"Created"}),s.jsx(H,{className:"text-right",children:"Actions"})]})}),s.jsx(cn,{children:a?s.jsx(we,{children:s.jsx(Y,{colSpan:7,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Loading accounts..."]})})}):k.length===0?s.jsx(we,{children:s.jsx(Y,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No accounts found"})}):k.map(N=>{var M;return s.jsxs(we,{className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(Y,{className:"font-medium",children:N.account_number}),s.jsx(Y,{children:N.customers?`${N.customers.first_name} ${N.customers.last_name}`:"N/A"}),s.jsx(Y,{children:s.jsx(ie,{variant:"outline",children:(M=N.account_type)==null?void 0:M.replace("_"," ")})}),s.jsxs(Y,{children:["SAR ",parseFloat(N.current_balance).toLocaleString()]}),s.jsx(Y,{children:s.jsx(ie,{variant:N.account_status==="ACTIVE"?"success":N.account_status==="BLOCKED"?"destructive":"secondary",children:N.account_status})}),s.jsx(Y,{children:new Date(N.created_at).toLocaleDateString()}),s.jsx(Y,{className:"text-right",children:s.jsx(G,{variant:"ghost",size:"sm",children:"View Details"})})]},N.account_id)})})]})})]})]})})]})}const li=6048e5,hv=864e5,kc=Symbol.for("constructDateFrom");function je(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&kc in e?e[kc](t):e instanceof Date?new e.constructor(t):new Date(t)}function re(e,t){return je(t||e,e)}function Ae(e,t,n){const r=re(e,n==null?void 0:n.in);return isNaN(t)?je((n==null?void 0:n.in)||e,NaN):(t&&r.setDate(r.getDate()+t),r)}function He(e,t,n){const r=re(e,n==null?void 0:n.in);if(isNaN(t))return je((n==null?void 0:n.in)||e,NaN);if(!t)return r;const a=r.getDate(),i=je((n==null?void 0:n.in)||e,r.getTime());i.setMonth(r.getMonth()+t+1,0);const o=i.getDate();return a>=o?i:(r.setFullYear(i.getFullYear(),i.getMonth(),a),r)}let mv={};function zn(){return mv}function nt(e,t){var c,l,d,u;const n=zn(),r=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=re(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?7:0)+i-r;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function $t(e,t){return nt(e,{...t,weekStartsOn:1})}function Hu(e,t){const n=re(e,t==null?void 0:t.in),r=n.getFullYear(),a=je(n,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const i=$t(a),o=je(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const c=$t(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Ms(e){const t=re(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function mn(e,...t){const n=je.bind(null,e||t.find(r=>typeof r=="object"));return t.map(n)}function ln(e,t){const n=re(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function Xe(e,t,n){const[r,a]=mn(n==null?void 0:n.in,e,t),i=ln(r),o=ln(a),c=+i-Ms(i),l=+o-Ms(o);return Math.round((c-l)/hv)}function fv(e,t){const n=Hu(e,t),r=je(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),$t(r)}function xa(e,t,n){return Ae(e,t*7,n)}function pv(e,t,n){return He(e,t*12,n)}function xv(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=je.bind(null,a));const i=re(a,r);(!n||n<i||isNaN(+i))&&(n=i)}),je(r,n||NaN)}function gv(e,t){let n,r=t==null?void 0:t.in;return e.forEach(a=>{!r&&typeof a=="object"&&(r=je.bind(null,a));const i=re(a,r);(!n||n>i||isNaN(+i))&&(n=i)}),je(r,n||NaN)}function ke(e,t,n){const[r,a]=mn(n==null?void 0:n.in,e,t);return+ln(r)==+ln(a)}function ui(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yv(e){return!(!ui(e)&&typeof e!="number"||isNaN(+re(e)))}function Fn(e,t,n){const[r,a]=mn(n==null?void 0:n.in,e,t),i=r.getFullYear()-a.getFullYear(),o=r.getMonth()-a.getMonth();return i*12+o}function vv(e,t,n){const[r,a]=mn(n==null?void 0:n.in,e,t),i=nt(r,n),o=nt(a,n),c=+i-Ms(i),l=+o-Ms(o);return Math.round((c-l)/li)}function di(e,t){const n=re(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function Oe(e,t){const n=re(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function Gu(e,t){const n=re(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hi(e,t){var c,l,d,u;const n=zn(),r=(t==null?void 0:t.weekStartsOn)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,a=re(e,t==null?void 0:t.in),i=a.getDay(),o=(i<r?-7:0)+6-(i-r);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function zu(e,t){return hi(e,{...t,weekStartsOn:1})}const jv={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bv=(e,t,n)=>{let r;const a=jv[e];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Vr(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const wv={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sv={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nv={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Cv={date:Vr({formats:wv,defaultWidth:"full"}),time:Vr({formats:Sv,defaultWidth:"full"}),dateTime:Vr({formats:Nv,defaultWidth:"full"})},Tv={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Av=(e,t,n,r)=>Tv[e];function gn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let a;if(r==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,c=n!=null&&n.width?String(n.width):o;a=e.formattingValues[c]||e.formattingValues[o]}else{const o=e.defaultWidth,c=n!=null&&n.width?String(n.width):e.defaultWidth;a=e.values[c]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return a[i]}}const _v={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mv={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dv={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Pv={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rv={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ov=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ev={ordinalNumber:Ov,era:gn({values:_v,defaultWidth:"wide"}),quarter:gn({values:Mv,defaultWidth:"wide",argumentCallback:e=>e-1}),month:gn({values:Dv,defaultWidth:"wide"}),day:gn({values:Pv,defaultWidth:"wide"}),dayPeriod:gn({values:kv,defaultWidth:"wide",formattingValues:Rv,defaultFormattingWidth:"wide"})};function yn(e){return(t,n={})=>{const r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;const o=i[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?Fv(c,h=>h.test(o)):Lv(c,h=>h.test(o));let d;d=e.valueCallback?e.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;const u=t.slice(o.length);return{value:d,rest:u}}}function Lv(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Fv(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Iv(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const a=r[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const c=t.slice(a.length);return{value:o,rest:c}}}const Vv=/^(\d+)(th|st|nd|rd)?/i,Bv=/\d+/i,qv={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$v={any:[/^b/i,/^(a|c)/i]},Wv={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Uv={any:[/1/i,/2/i,/3/i,/4/i]},Kv={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Yv={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Hv={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gv={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zv={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Xv={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Zv={ordinalNumber:Iv({matchPattern:Vv,parsePattern:Bv,valueCallback:e=>parseInt(e,10)}),era:yn({matchPatterns:qv,defaultMatchWidth:"wide",parsePatterns:$v,defaultParseWidth:"any"}),quarter:yn({matchPatterns:Wv,defaultMatchWidth:"wide",parsePatterns:Uv,defaultParseWidth:"any",valueCallback:e=>e+1}),month:yn({matchPatterns:Kv,defaultMatchWidth:"wide",parsePatterns:Yv,defaultParseWidth:"any"}),day:yn({matchPatterns:Hv,defaultMatchWidth:"wide",parsePatterns:Gv,defaultParseWidth:"any"}),dayPeriod:yn({matchPatterns:zv,defaultMatchWidth:"any",parsePatterns:Xv,defaultParseWidth:"any"})},Xu={code:"en-US",formatDistance:bv,formatLong:Cv,formatRelative:Av,localize:Ev,match:Zv,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qv(e,t){const n=re(e,t==null?void 0:t.in);return Xe(n,Gu(n))+1}function Zu(e,t){const n=re(e,t==null?void 0:t.in),r=+$t(n)-+fv(n);return Math.round(r/li)+1}function Qu(e,t){var u,h,m,f;const n=re(e,t==null?void 0:t.in),r=n.getFullYear(),a=zn(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(u=t==null?void 0:t.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??a.firstWeekContainsDate??((f=(m=a.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=je((t==null?void 0:t.in)||e,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const c=nt(o,t),l=je((t==null?void 0:t.in)||e,0);l.setFullYear(r,0,i),l.setHours(0,0,0,0);const d=nt(l,t);return+n>=+c?r+1:+n>=+d?r:r-1}function Jv(e,t){var c,l,d,u;const n=zn(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,a=Qu(e,t),i=je((t==null?void 0:t.in)||e,0);return i.setFullYear(a,0,r),i.setHours(0,0,0,0),nt(i,t)}function Ju(e,t){const n=re(e,t==null?void 0:t.in),r=+nt(n,t)-+Jv(n,t);return Math.round(r/li)+1}function se(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ht={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return se(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):se(n+1,2)},d(e,t){return se(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return se(e.getHours()%12||12,t.length)},H(e,t){return se(e.getHours(),t.length)},m(e,t){return se(e.getMinutes(),t.length)},s(e,t){return se(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),a=Math.trunc(r*Math.pow(10,n-3));return se(a,t.length)}},Yt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Rc={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),a=r>0?r:1-r;return n.ordinalNumber(a,{unit:"year"})}return ht.y(e,t)},Y:function(e,t,n,r){const a=Qu(e,r),i=a>0?a:1-a;if(t==="YY"){const o=i%100;return se(o,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):se(i,t.length)},R:function(e,t){const n=Hu(e);return se(n,t.length)},u:function(e,t){const n=e.getFullYear();return se(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return se(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return se(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ht.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return se(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const a=Ju(e,r);return t==="wo"?n.ordinalNumber(a,{unit:"week"}):se(a,t.length)},I:function(e,t,n){const r=Zu(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):se(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ht.d(e,t)},D:function(e,t,n){const r=Qv(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):se(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return se(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const a=e.getDay(),i=(a-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return se(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),a=r===0?7:r;switch(t){case"i":return String(a);case"ii":return se(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let a;switch(r===12?a=Yt.noon:r===0?a=Yt.midnight:a=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let a;switch(r>=17?a=Yt.evening:r>=12?a=Yt.afternoon:r>=4?a=Yt.morning:a=Yt.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ht.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ht.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):se(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):se(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ht.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ht.s(e,t)},S:function(e,t){return ht.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Ec(r);case"XXXX":case"XX":return Rt(r);case"XXXXX":case"XXX":default:return Rt(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Ec(r);case"xxxx":case"xx":return Rt(r);case"xxxxx":case"xxx":default:return Rt(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Oc(r,":");case"OOOO":default:return"GMT"+Rt(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Oc(r,":");case"zzzz":default:return"GMT"+Rt(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return se(r,t.length)},T:function(e,t,n){return se(+e,t.length)}};function Oc(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=Math.trunc(r/60),i=r%60;return i===0?n+String(a):n+String(a)+t+se(i,2)}function Ec(e,t){return e%60===0?(e>0?"-":"+")+se(Math.abs(e)/60,2):Rt(e,t)}function Rt(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),a=se(Math.trunc(r/60),2),i=se(r%60,2);return n+a+t+i}const Lc=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},ed=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},e0=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],a=n[2];if(!a)return Lc(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",Lc(r,t)).replace("{{time}}",ed(a,t))},t0={p:ed,P:e0},n0=/^D+$/,s0=/^Y+$/,r0=["D","DD","YY","YYYY"];function a0(e){return n0.test(e)}function i0(e){return s0.test(e)}function o0(e,t,n){const r=c0(e,t,n);if(console.warn(r),r0.includes(e))throw new RangeError(r)}function c0(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l0=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,u0=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,d0=/^'([^]*?)'?$/,h0=/''/g,m0=/[a-zA-Z]/;function et(e,t,n){var u,h,m,f,p,x,g,v;const r=zn(),a=(n==null?void 0:n.locale)??r.locale??Xu,i=(n==null?void 0:n.firstWeekContainsDate)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(m=r.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((v=(g=r.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,c=re(e,n==null?void 0:n.in);if(!yv(c))throw new RangeError("Invalid time value");let l=t.match(u0).map(T=>{const b=T[0];if(b==="p"||b==="P"){const _=t0[b];return _(T,a.formatLong)}return T}).join("").match(l0).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const b=T[0];if(b==="'")return{isToken:!1,value:f0(T)};if(Rc[b])return{isToken:!0,value:T};if(b.match(m0))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:T}});a.localize.preprocessor&&(l=a.localize.preprocessor(c,l));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return l.map(T=>{if(!T.isToken)return T.value;const b=T.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&i0(b)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&a0(b))&&o0(b,t,String(e));const _=Rc[b[0]];return _(c,b,a.localize,d)}).join("")}function f0(e){const t=e.match(d0);return t?t[1].replace(h0,"'"):e}function p0(e,t){const n=re(e,t==null?void 0:t.in),r=n.getFullYear(),a=n.getMonth(),i=je(n,0);return i.setFullYear(r,a+1,0),i.setHours(0,0,0,0),i.getDate()}function x0(e){return Math.trunc(+re(e)/1e3)}function g0(e,t){const n=re(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(0,0,0,0),re(n,t==null?void 0:t.in)}function y0(e,t){const n=re(e,t==null?void 0:t.in);return vv(g0(n,t),Oe(n,t),t)+1}function ga(e,t){return+re(e)>+re(t)}function td(e,t){return+re(e)<+re(t)}function mi(e,t,n){const[r,a]=mn(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()&&r.getMonth()===a.getMonth()}function v0(e,t,n){const[r,a]=mn(n==null?void 0:n.in,e,t);return r.getFullYear()===a.getFullYear()}function Br(e,t,n){return Ae(e,-t,n)}function qr(e,t,n){const r=re(e,n==null?void 0:n.in),a=r.getFullYear(),i=r.getDate(),o=je(e,0);o.setFullYear(a,t,15),o.setHours(0,0,0,0);const c=p0(o);return r.setMonth(t,Math.min(i,c)),r}function Fc(e,t,n){const r=re(e,n==null?void 0:n.in);return isNaN(+r)?je(e,NaN):(r.setFullYear(t),r)}var K=function(){return K=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},K.apply(this,arguments)};function j0(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function nd(e,t,n){for(var r=0,a=t.length,i;r<a;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function Xn(e){return e.mode==="multiple"}function Zn(e){return e.mode==="range"}function $s(e){return e.mode==="single"}var b0={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function w0(e,t){return et(e,"LLLL y",t)}function S0(e,t){return et(e,"d",t)}function N0(e,t){return et(e,"LLLL",t)}function C0(e){return"".concat(e)}function T0(e,t){return et(e,"cccccc",t)}function A0(e,t){return et(e,"yyyy",t)}var _0=Object.freeze({__proto__:null,formatCaption:w0,formatDay:S0,formatMonthCaption:N0,formatWeekNumber:C0,formatWeekdayName:T0,formatYearCaption:A0}),M0=function(e,t,n){return et(e,"do MMMM (EEEE)",n)},D0=function(){return"Month: "},P0=function(){return"Go to next month"},k0=function(){return"Go to previous month"},R0=function(e,t){return et(e,"cccc",t)},O0=function(e){return"Week n. ".concat(e)},E0=function(){return"Year: "},L0=Object.freeze({__proto__:null,labelDay:M0,labelMonthDropdown:D0,labelNext:P0,labelPrevious:k0,labelWeekNumber:O0,labelWeekday:R0,labelYearDropdown:E0});function F0(){var e="buttons",t=b0,n=Xu,r={},a={},i=1,o={},c=new Date;return{captionLayout:e,classNames:t,formatters:_0,labels:L0,locale:n,modifiersClassNames:r,modifiers:a,numberOfMonths:i,styles:o,today:c,mode:"default"}}function I0(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,a=e.toMonth,i=e.fromDate,o=e.toDate;return r?i=Oe(r):t&&(i=new Date(t,0,1)),a?o=di(a):n&&(o=new Date(n,11,31)),{fromDate:i?ln(i):void 0,toDate:o?ln(o):void 0}}var sd=y.createContext(void 0);function V0(e){var t,n=e.initialProps,r=F0(),a=I0(n),i=a.fromDate,o=a.toDate,c=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;c!=="buttons"&&(!i||!o)&&(c="buttons");var l;($s(n)||Xn(n)||Zn(n))&&(l=n.onSelect);var d=K(K(K({},r),n),{captionLayout:c,classNames:K(K({},r.classNames),n.classNames),components:K({},n.components),formatters:K(K({},r.formatters),n.formatters),fromDate:i,labels:K(K({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:K(K({},r.modifiers),n.modifiers),modifiersClassNames:K(K({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:K(K({},r.styles),n.styles),toDate:o});return s.jsx(sd.Provider,{value:d,children:e.children})}function ue(){var e=y.useContext(sd);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function rd(e){var t=ue(),n=t.locale,r=t.classNames,a=t.styles,i=t.formatters.formatCaption;return s.jsx("div",{className:r.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:n})})}function B0(e){return s.jsx("svg",K({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:s.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ad(e){var t,n,r=e.onChange,a=e.value,i=e.children,o=e.caption,c=e.className,l=e.style,d=ue(),u=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:B0;return s.jsxs("div",{className:c,style:l,children:[s.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),s.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:a,onChange:r,children:i}),s.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,s.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function q0(e){var t,n=ue(),r=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,c=n.formatters.formatMonthCaption,l=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return s.jsx(s.Fragment,{});if(!a)return s.jsx(s.Fragment,{});var h=[];if(v0(r,a))for(var m=Oe(r),f=r.getMonth();f<=a.getMonth();f++)h.push(qr(m,f));else for(var m=Oe(new Date),f=0;f<=11;f++)h.push(qr(m,f));var p=function(g){var v=Number(g.target.value),T=qr(Oe(e.displayMonth),v);e.onChange(T)},x=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:ad;return s.jsx(x,{name:"months","aria-label":u(),className:l.dropdown_month,style:i.dropdown_month,onChange:p,value:e.displayMonth.getMonth(),caption:c(e.displayMonth,{locale:o}),children:h.map(function(g){return s.jsx("option",{value:g.getMonth(),children:c(g,{locale:o})},g.getMonth())})})}function $0(e){var t,n=e.displayMonth,r=ue(),a=r.fromDate,i=r.toDate,o=r.locale,c=r.styles,l=r.classNames,d=r.components,u=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,m=[];if(!a)return s.jsx(s.Fragment,{});if(!i)return s.jsx(s.Fragment,{});for(var f=a.getFullYear(),p=i.getFullYear(),x=f;x<=p;x++)m.push(Fc(Gu(new Date),x));var g=function(T){var b=Fc(Oe(n),Number(T.target.value));e.onChange(b)},v=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:ad;return s.jsx(v,{name:"years","aria-label":h(),className:l.dropdown_year,style:c.dropdown_year,onChange:g,value:n.getFullYear(),caption:u(n,{locale:o}),children:m.map(function(T){return s.jsx("option",{value:T.getFullYear(),children:u(T,{locale:o})},T.getFullYear())})})}function W0(e,t){var n=y.useState(e),r=n[0],a=n[1],i=t===void 0?r:t;return[i,a]}function U0(e){var t=e.month,n=e.defaultMonth,r=e.today,a=t||n||r||new Date,i=e.toDate,o=e.fromDate,c=e.numberOfMonths,l=c===void 0?1:c;if(i&&Fn(i,a)<0){var d=-1*(l-1);a=He(i,d)}return o&&Fn(a,o)<0&&(a=o),Oe(a)}function K0(){var e=ue(),t=U0(e),n=W0(t,e.month),r=n[0],a=n[1],i=function(o){var c;if(!e.disableNavigation){var l=Oe(o);a(l),(c=e.onMonthChange)===null||c===void 0||c.call(e,l)}};return[r,i]}function Y0(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,a=Oe(e),i=Oe(He(a,r)),o=Fn(i,a),c=[],l=0;l<o;l++){var d=He(a,l);c.push(d)}return n&&(c=c.reverse()),c}function H0(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,c=Oe(e);if(!n)return He(c,o);var l=Fn(n,e);if(!(l<i))return He(c,o)}}function G0(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,a=t.numberOfMonths,i=a===void 0?1:a,o=r?i:1,c=Oe(e);if(!n)return He(c,-o);var l=Fn(c,n);if(!(l<=0))return He(c,-o)}}var id=y.createContext(void 0);function z0(e){var t=ue(),n=K0(),r=n[0],a=n[1],i=Y0(r,t),o=H0(r,t),c=G0(r,t),l=function(h){return i.some(function(m){return mi(h,m)})},d=function(h,m){l(h)||(m&&td(h,m)?a(He(h,1+t.numberOfMonths*-1)):a(h))},u={currentMonth:r,displayMonths:i,goToMonth:a,goToDate:d,previousMonth:c,nextMonth:o,isDateDisplayed:l};return s.jsx(id.Provider,{value:u,children:e.children})}function Qn(){var e=y.useContext(id);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Ic(e){var t,n=ue(),r=n.classNames,a=n.styles,i=n.components,o=Qn().goToMonth,c=function(u){o(He(u,e.displayIndex?-e.displayIndex:0))},l=(t=i==null?void 0:i.CaptionLabel)!==null&&t!==void 0?t:rd,d=s.jsx(l,{id:e.id,displayMonth:e.displayMonth});return s.jsxs("div",{className:r.caption_dropdowns,style:a.caption_dropdowns,children:[s.jsx("div",{className:r.vhidden,children:d}),s.jsx(q0,{onChange:c,displayMonth:e.displayMonth}),s.jsx($0,{onChange:c,displayMonth:e.displayMonth})]})}function X0(e){return s.jsx("svg",K({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Z0(e){return s.jsx("svg",K({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:s.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Ds=y.forwardRef(function(e,t){var n=ue(),r=n.classNames,a=n.styles,i=[r.button_reset,r.button];e.className&&i.push(e.className);var o=i.join(" "),c=K(K({},a.button_reset),a.button);return e.style&&Object.assign(c,e.style),s.jsx("button",K({},e,{ref:t,type:"button",className:o,style:c}))});function Q0(e){var t,n,r=ue(),a=r.dir,i=r.locale,o=r.classNames,c=r.styles,l=r.labels,d=l.labelPrevious,u=l.labelNext,h=r.components;if(!e.nextMonth&&!e.previousMonth)return s.jsx(s.Fragment,{});var m=d(e.previousMonth,{locale:i}),f=[o.nav_button,o.nav_button_previous].join(" "),p=u(e.nextMonth,{locale:i}),x=[o.nav_button,o.nav_button_next].join(" "),g=(t=h==null?void 0:h.IconRight)!==null&&t!==void 0?t:Z0,v=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:X0;return s.jsxs("div",{className:o.nav,style:c.nav,children:[!e.hidePrevious&&s.jsx(Ds,{name:"previous-month","aria-label":m,className:f,style:c.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:a==="rtl"?s.jsx(g,{className:o.nav_icon,style:c.nav_icon}):s.jsx(v,{className:o.nav_icon,style:c.nav_icon})}),!e.hideNext&&s.jsx(Ds,{name:"next-month","aria-label":p,className:x,style:c.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:a==="rtl"?s.jsx(v,{className:o.nav_icon,style:c.nav_icon}):s.jsx(g,{className:o.nav_icon,style:c.nav_icon})})]})}function Vc(e){var t=ue().numberOfMonths,n=Qn(),r=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,c=o.findIndex(function(p){return mi(e.displayMonth,p)}),l=c===0,d=c===o.length-1,u=t>1&&(l||!d),h=t>1&&(d||!l),m=function(){r&&i(r)},f=function(){a&&i(a)};return s.jsx(Q0,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:h,nextMonth:a,previousMonth:r,onPreviousClick:m,onNextClick:f})}function J0(e){var t,n=ue(),r=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,c=n.components,l=(t=c==null?void 0:c.CaptionLabel)!==null&&t!==void 0?t:rd,d;return a?d=s.jsx(l,{id:e.id,displayMonth:e.displayMonth}):o==="dropdown"?d=s.jsx(Ic,{displayMonth:e.displayMonth,id:e.id}):o==="dropdown-buttons"?d=s.jsxs(s.Fragment,{children:[s.jsx(Ic,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),s.jsx(Vc,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=s.jsxs(s.Fragment,{children:[s.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx(Vc,{displayMonth:e.displayMonth,id:e.id})]}),s.jsx("div",{className:r.caption,style:i.caption,children:d})}function ej(e){var t=ue(),n=t.footer,r=t.styles,a=t.classNames.tfoot;return n?s.jsx("tfoot",{className:a,style:r.tfoot,children:s.jsx("tr",{children:s.jsx("td",{colSpan:8,children:n})})}):s.jsx(s.Fragment,{})}function tj(e,t,n){for(var r=n?$t(new Date):nt(new Date,{locale:e,weekStartsOn:t}),a=[],i=0;i<7;i++){var o=Ae(r,i);a.push(o)}return a}function nj(){var e=ue(),t=e.classNames,n=e.styles,r=e.showWeekNumber,a=e.locale,i=e.weekStartsOn,o=e.ISOWeek,c=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,d=tj(a,i,o);return s.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&s.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(u,h){return s.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(u,{locale:a}),children:c(u,{locale:a})},h)})]})}function sj(){var e,t=ue(),n=t.classNames,r=t.styles,a=t.components,i=(e=a==null?void 0:a.HeadRow)!==null&&e!==void 0?e:nj;return s.jsx("thead",{style:r.head,className:n.head,children:s.jsx(i,{})})}function rj(e){var t=ue(),n=t.locale,r=t.formatters.formatDay;return s.jsx(s.Fragment,{children:r(e.date,{locale:n})})}var fi=y.createContext(void 0);function aj(e){if(!Xn(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return s.jsx(fi.Provider,{value:t,children:e.children})}return s.jsx(ij,{initialProps:e.initialProps,children:e.children})}function ij(e){var t=e.initialProps,n=e.children,r=t.selected,a=t.min,i=t.max,o=function(d,u,h){var m,f;(m=t.onDayClick)===null||m===void 0||m.call(t,d,u,h);var p=!!(u.selected&&a&&(r==null?void 0:r.length)===a);if(!p){var x=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!x){var g=r?nd([],r):[];if(u.selected){var v=g.findIndex(function(T){return ke(d,T)});g.splice(v,1)}else g.push(d);(f=t.onSelect)===null||f===void 0||f.call(t,g,d,u,h)}}},c={disabled:[]};r&&c.disabled.push(function(d){var u=i&&r.length>i-1,h=r.some(function(m){return ke(m,d)});return!!(u&&!h)});var l={selected:r,onDayClick:o,modifiers:c};return s.jsx(fi.Provider,{value:l,children:n})}function pi(){var e=y.useContext(fi);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function oj(e,t){var n=t||{},r=n.from,a=n.to;return r&&a?ke(a,e)&&ke(r,e)?void 0:ke(a,e)?{from:a,to:void 0}:ke(r,e)?void 0:ga(r,e)?{from:e,to:a}:{from:r,to:e}:a?ga(e,a)?{from:a,to:e}:{from:e,to:a}:r?td(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var xi=y.createContext(void 0);function cj(e){if(!Zn(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return s.jsx(xi.Provider,{value:t,children:e.children})}return s.jsx(lj,{initialProps:e.initialProps,children:e.children})}function lj(e){var t=e.initialProps,n=e.children,r=t.selected,a=r||{},i=a.from,o=a.to,c=t.min,l=t.max,d=function(f,p,x){var g,v;(g=t.onDayClick)===null||g===void 0||g.call(t,f,p,x);var T=oj(f,r);(v=t.onSelect)===null||v===void 0||v.call(t,T,f,p,x)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],ke(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),c&&(i&&!o&&u.disabled.push({after:Br(i,c-1),before:Ae(i,c-1)}),i&&o&&u.disabled.push({after:i,before:Ae(i,c-1)}),!i&&o&&u.disabled.push({after:Br(o,c-1),before:Ae(o,c-1)})),l){if(i&&!o&&(u.disabled.push({before:Ae(i,-l+1)}),u.disabled.push({after:Ae(i,l-1)})),i&&o){var h=Xe(o,i)+1,m=l-h;u.disabled.push({before:Br(i,m)}),u.disabled.push({after:Ae(o,m)})}!i&&o&&(u.disabled.push({before:Ae(o,-l+1)}),u.disabled.push({after:Ae(o,l-1)}))}return s.jsx(xi.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function gi(){var e=y.useContext(xi);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ys(e){return Array.isArray(e)?nd([],e):e!==void 0?[e]:[]}function uj(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],a=n[1];t[r]=ys(a)}),t}var Ge;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Ge||(Ge={}));var dj=Ge.Selected,rt=Ge.Disabled,hj=Ge.Hidden,mj=Ge.Today,$r=Ge.RangeEnd,Wr=Ge.RangeMiddle,Ur=Ge.RangeStart,fj=Ge.Outside;function pj(e,t,n){var r,a=(r={},r[dj]=ys(e.selected),r[rt]=ys(e.disabled),r[hj]=ys(e.hidden),r[mj]=[e.today],r[$r]=[],r[Wr]=[],r[Ur]=[],r[fj]=[],r);return e.fromDate&&a[rt].push({before:e.fromDate}),e.toDate&&a[rt].push({after:e.toDate}),Xn(e)?a[rt]=a[rt].concat(t.modifiers[rt]):Zn(e)&&(a[rt]=a[rt].concat(n.modifiers[rt]),a[Ur]=n.modifiers[Ur],a[Wr]=n.modifiers[Wr],a[$r]=n.modifiers[$r]),a}var od=y.createContext(void 0);function xj(e){var t=ue(),n=pi(),r=gi(),a=pj(t,n,r),i=uj(t.modifiers),o=K(K({},a),i);return s.jsx(od.Provider,{value:o,children:e.children})}function cd(){var e=y.useContext(od);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function gj(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function yj(e){return!!(e&&typeof e=="object"&&"from"in e)}function vj(e){return!!(e&&typeof e=="object"&&"after"in e)}function jj(e){return!!(e&&typeof e=="object"&&"before"in e)}function bj(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function wj(e,t){var n,r=t.from,a=t.to;if(r&&a){var i=Xe(a,r)<0;i&&(n=[a,r],r=n[0],a=n[1]);var o=Xe(e,r)>=0&&Xe(a,e)>=0;return o}return a?ke(a,e):r?ke(r,e):!1}function Sj(e){return ui(e)}function Nj(e){return Array.isArray(e)&&e.every(ui)}function Cj(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Sj(n))return ke(e,n);if(Nj(n))return n.includes(e);if(yj(n))return wj(e,n);if(bj(n))return n.dayOfWeek.includes(e.getDay());if(gj(n)){var r=Xe(n.before,e),a=Xe(n.after,e),i=r>0,o=a<0,c=ga(n.before,n.after);return c?o&&i:i||o}return vj(n)?Xe(e,n.after)>0:jj(n)?Xe(n.before,e)>0:typeof n=="function"?n(e):!1})}function yi(e,t,n){var r=Object.keys(t).reduce(function(i,o){var c=t[o];return Cj(e,c)&&i.push(o),i},[]),a={};return r.forEach(function(i){return a[i]=!0}),n&&!mi(e,n)&&(a.outside=!0),a}function Tj(e,t){for(var n=Oe(e[0]),r=di(e[e.length-1]),a,i,o=n;o<=r;){var c=yi(o,t),l=!c.disabled&&!c.hidden;if(!l){o=Ae(o,1);continue}if(c.selected)return o;c.today&&!i&&(i=o),a||(a=o),o=Ae(o,1)}return i||a}var Aj=365;function ld(e,t){var n=t.moveBy,r=t.direction,a=t.context,i=t.modifiers,o=t.retry,c=o===void 0?{count:0,lastFocused:e}:o,l=a.weekStartsOn,d=a.fromDate,u=a.toDate,h=a.locale,m={day:Ae,week:xa,month:He,year:pv,startOfWeek:function(g){return a.ISOWeek?$t(g):nt(g,{locale:h,weekStartsOn:l})},endOfWeek:function(g){return a.ISOWeek?zu(g):hi(g,{locale:h,weekStartsOn:l})}},f=m[n](e,r==="after"?1:-1);r==="before"&&d?f=xv([d,f]):r==="after"&&u&&(f=gv([u,f]));var p=!0;if(i){var x=yi(f,i);p=!x.disabled&&!x.hidden}return p?f:c.count>Aj?c.lastFocused:ld(f,{moveBy:n,direction:r,context:a,modifiers:i,retry:K(K({},c),{count:c.count+1})})}var ud=y.createContext(void 0);function _j(e){var t=Qn(),n=cd(),r=y.useState(),a=r[0],i=r[1],o=y.useState(),c=o[0],l=o[1],d=Tj(t.displayMonths,n),u=a??(c&&t.isDateDisplayed(c))?c:d,h=function(){l(a),i(void 0)},m=function(g){i(g)},f=ue(),p=function(g,v){if(a){var T=ld(a,{moveBy:g,direction:v,context:f,modifiers:n});ke(a,T)||(t.goToDate(T,a),m(T))}},x={focusedDay:a,focusTarget:u,blur:h,focus:m,focusDayAfter:function(){return p("day","after")},focusDayBefore:function(){return p("day","before")},focusWeekAfter:function(){return p("week","after")},focusWeekBefore:function(){return p("week","before")},focusMonthBefore:function(){return p("month","before")},focusMonthAfter:function(){return p("month","after")},focusYearBefore:function(){return p("year","before")},focusYearAfter:function(){return p("year","after")},focusStartOfWeek:function(){return p("startOfWeek","before")},focusEndOfWeek:function(){return p("endOfWeek","after")}};return s.jsx(ud.Provider,{value:x,children:e.children})}function vi(){var e=y.useContext(ud);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Mj(e,t){var n=cd(),r=yi(e,n,t);return r}var ji=y.createContext(void 0);function Dj(e){if(!$s(e.initialProps)){var t={selected:void 0};return s.jsx(ji.Provider,{value:t,children:e.children})}return s.jsx(Pj,{initialProps:e.initialProps,children:e.children})}function Pj(e){var t=e.initialProps,n=e.children,r=function(i,o,c){var l,d,u;if((l=t.onDayClick)===null||l===void 0||l.call(t,i,o,c),o.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,i,o,c);return}(u=t.onSelect)===null||u===void 0||u.call(t,i,i,o,c)},a={selected:t.selected,onDayClick:r};return s.jsx(ji.Provider,{value:a,children:n})}function dd(){var e=y.useContext(ji);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function kj(e,t){var n=ue(),r=dd(),a=pi(),i=gi(),o=vi(),c=o.focusDayAfter,l=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,h=o.blur,m=o.focus,f=o.focusMonthBefore,p=o.focusMonthAfter,x=o.focusYearBefore,g=o.focusYearAfter,v=o.focusStartOfWeek,T=o.focusEndOfWeek,b=function(C){var D,te,X,ee;$s(n)?(D=r.onDayClick)===null||D===void 0||D.call(r,e,t,C):Xn(n)?(te=a.onDayClick)===null||te===void 0||te.call(a,e,t,C):Zn(n)?(X=i.onDayClick)===null||X===void 0||X.call(i,e,t,C):(ee=n.onDayClick)===null||ee===void 0||ee.call(n,e,t,C)},_=function(C){var D;m(e),(D=n.onDayFocus)===null||D===void 0||D.call(n,e,t,C)},k=function(C){var D;h(),(D=n.onDayBlur)===null||D===void 0||D.call(n,e,t,C)},S=function(C){var D;(D=n.onDayMouseEnter)===null||D===void 0||D.call(n,e,t,C)},R=function(C){var D;(D=n.onDayMouseLeave)===null||D===void 0||D.call(n,e,t,C)},j=function(C){var D;(D=n.onDayPointerEnter)===null||D===void 0||D.call(n,e,t,C)},N=function(C){var D;(D=n.onDayPointerLeave)===null||D===void 0||D.call(n,e,t,C)},M=function(C){var D;(D=n.onDayTouchCancel)===null||D===void 0||D.call(n,e,t,C)},w=function(C){var D;(D=n.onDayTouchEnd)===null||D===void 0||D.call(n,e,t,C)},A=function(C){var D;(D=n.onDayTouchMove)===null||D===void 0||D.call(n,e,t,C)},O=function(C){var D;(D=n.onDayTouchStart)===null||D===void 0||D.call(n,e,t,C)},W=function(C){var D;(D=n.onDayKeyUp)===null||D===void 0||D.call(n,e,t,C)},P=function(C){var D;switch(C.key){case"ArrowLeft":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowRight":C.preventDefault(),C.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowDown":C.preventDefault(),C.stopPropagation(),d();break;case"ArrowUp":C.preventDefault(),C.stopPropagation(),u();break;case"PageUp":C.preventDefault(),C.stopPropagation(),C.shiftKey?x():f();break;case"PageDown":C.preventDefault(),C.stopPropagation(),C.shiftKey?g():p();break;case"Home":C.preventDefault(),C.stopPropagation(),v();break;case"End":C.preventDefault(),C.stopPropagation(),T();break}(D=n.onDayKeyDown)===null||D===void 0||D.call(n,e,t,C)},q={onClick:b,onFocus:_,onBlur:k,onKeyDown:P,onKeyUp:W,onMouseEnter:S,onMouseLeave:R,onPointerEnter:j,onPointerLeave:N,onTouchCancel:M,onTouchEnd:w,onTouchMove:A,onTouchStart:O};return q}function Rj(){var e=ue(),t=dd(),n=pi(),r=gi(),a=$s(e)?t.selected:Xn(e)?n.selected:Zn(e)?r.selected:void 0;return a}function Oj(e){return Object.values(Ge).includes(e)}function Ej(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var a=e.modifiersClassNames[r];if(a)n.push(a);else if(Oj(r)){var i=e.classNames["day_".concat(r)];i&&n.push(i)}}),n}function Lj(e,t){var n=K({},e.styles.day);return Object.keys(t).forEach(function(r){var a;n=K(K({},n),(a=e.modifiersStyles)===null||a===void 0?void 0:a[r])}),n}function Fj(e,t,n){var r,a,i,o=ue(),c=vi(),l=Mj(e,t),d=kj(e,l),u=Rj(),h=!!(o.onDayClick||o.mode!=="default");y.useEffect(function(){var S;l.outside||c.focusedDay&&h&&ke(c.focusedDay,e)&&((S=n.current)===null||S===void 0||S.focus())},[c.focusedDay,e,n,h,l.outside]);var m=Ej(o,l).join(" "),f=Lj(o,l),p=!!(l.outside&&!o.showOutsideDays||l.hidden),x=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:rj,g=s.jsx(x,{date:e,displayMonth:t,activeModifiers:l}),v={style:f,className:m,children:g,role:"gridcell"},T=c.focusTarget&&ke(c.focusTarget,e)&&!l.outside,b=c.focusedDay&&ke(c.focusedDay,e),_=K(K(K({},v),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||T?0:-1,r)),d),k={isButton:h,isHidden:p,activeModifiers:l,selectedDays:u,buttonProps:_,divProps:v};return k}function Ij(e){var t=y.useRef(null),n=Fj(e.date,e.displayMonth,t);return n.isHidden?s.jsx("div",{role:"gridcell"}):n.isButton?s.jsx(Ds,K({name:"day",ref:t},n.buttonProps)):s.jsx("div",K({},n.divProps))}function Vj(e){var t=e.number,n=e.dates,r=ue(),a=r.onWeekNumberClick,i=r.styles,o=r.classNames,c=r.locale,l=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(t),{locale:c});if(!a)return s.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var h=l(Number(t),{locale:c}),m=function(f){a(t,n,f)};return s.jsx(Ds,{name:"week-number","aria-label":h,className:o.weeknumber,style:i.weeknumber,onClick:m,children:u})}function Bj(e){var t,n,r=ue(),a=r.styles,i=r.classNames,o=r.showWeekNumber,c=r.components,l=(t=c==null?void 0:c.Day)!==null&&t!==void 0?t:Ij,d=(n=c==null?void 0:c.WeekNumber)!==null&&n!==void 0?n:Vj,u;return o&&(u=s.jsx("td",{className:i.cell,style:a.cell,children:s.jsx(d,{number:e.weekNumber,dates:e.dates})})),s.jsxs("tr",{className:i.row,style:a.row,children:[u,e.dates.map(function(h){return s.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:s.jsx(l,{displayMonth:e.displayMonth,date:h})},x0(h))})]})}function Bc(e,t,n){for(var r=n!=null&&n.ISOWeek?zu(t):hi(t,n),a=n!=null&&n.ISOWeek?$t(e):nt(e,n),i=Xe(r,a),o=[],c=0;c<=i;c++)o.push(Ae(a,c));var l=o.reduce(function(d,u){var h=n!=null&&n.ISOWeek?Zu(u):Ju(u,n),m=d.find(function(f){return f.weekNumber===h});return m?(m.dates.push(u),d):(d.push({weekNumber:h,dates:[u]}),d)},[]);return l}function qj(e,t){var n=Bc(Oe(e),di(e),t);if(t!=null&&t.useFixedWeeks){var r=y0(e,t);if(r<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=xa(i,6-r),c=Bc(xa(i,1),o,t);n.push.apply(n,c)}}return n}function $j(e){var t,n,r,a=ue(),i=a.locale,o=a.classNames,c=a.styles,l=a.hideHead,d=a.fixedWeeks,u=a.components,h=a.weekStartsOn,m=a.firstWeekContainsDate,f=a.ISOWeek,p=qj(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:f,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),x=(t=u==null?void 0:u.Head)!==null&&t!==void 0?t:sj,g=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:Bj,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:ej;return s.jsxs("table",{id:e.id,className:o.table,style:c.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&s.jsx(x,{}),s.jsx("tbody",{className:o.tbody,style:c.tbody,children:p.map(function(T){return s.jsx(g,{displayMonth:e.displayMonth,dates:T.dates,weekNumber:T.weekNumber},T.weekNumber)})}),s.jsx(v,{displayMonth:e.displayMonth})]})}function Wj(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Uj=Wj()?y.useLayoutEffect:y.useEffect,Kr=!1,Kj=0;function qc(){return"react-day-picker-".concat(++Kj)}function Yj(e){var t,n=e??(Kr?qc():null),r=y.useState(n),a=r[0],i=r[1];return Uj(function(){a===null&&i(qc())},[]),y.useEffect(function(){Kr===!1&&(Kr=!0)},[]),(t=e??a)!==null&&t!==void 0?t:void 0}function Hj(e){var t,n,r=ue(),a=r.dir,i=r.classNames,o=r.styles,c=r.components,l=Qn().displayMonths,d=Yj(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,h=[i.month],m=o.month,f=e.displayIndex===0,p=e.displayIndex===l.length-1,x=!f&&!p;a==="rtl"&&(t=[f,p],p=t[0],f=t[1]),f&&(h.push(i.caption_start),m=K(K({},m),o.caption_start)),p&&(h.push(i.caption_end),m=K(K({},m),o.caption_end)),x&&(h.push(i.caption_between),m=K(K({},m),o.caption_between));var g=(n=c==null?void 0:c.Caption)!==null&&n!==void 0?n:J0;return s.jsxs("div",{className:h.join(" "),style:m,children:[s.jsx(g,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),s.jsx($j,{id:u,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function Gj(e){var t=ue(),n=t.classNames,r=t.styles;return s.jsx("div",{className:n.months,style:r.months,children:e.children})}function zj(e){var t,n,r=e.initialProps,a=ue(),i=vi(),o=Qn(),c=y.useState(!1),l=c[0],d=c[1];y.useEffect(function(){a.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),d(!0)))},[a.initialFocus,l,i.focus,i.focusTarget,i]);var u=[a.classNames.root,a.className];a.numberOfMonths>1&&u.push(a.classNames.multiple_months),a.showWeekNumber&&u.push(a.classNames.with_weeknumber);var h=K(K({},a.styles.root),a.style),m=Object.keys(r).filter(function(p){return p.startsWith("data-")}).reduce(function(p,x){var g;return K(K({},p),(g={},g[x]=r[x],g))},{}),f=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:Gj;return s.jsx("div",K({className:u.join(" "),style:h,dir:a.dir,id:a.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:s.jsx(f,{children:o.displayMonths.map(function(p,x){return s.jsx(Hj,{displayIndex:x,displayMonth:p},x)})})}))}function Xj(e){var t=e.children,n=j0(e,["children"]);return s.jsx(V0,{initialProps:n,children:s.jsx(z0,{children:s.jsx(Dj,{initialProps:n,children:s.jsx(aj,{initialProps:n,children:s.jsx(cj,{initialProps:n,children:s.jsx(xj,{children:s.jsx(_j,{children:t})})})})})})})}function Zj(e){return s.jsx(Xj,K({},e,{children:s.jsx(zj,{initialProps:e})}))}function hd({className:e,classNames:t,showOutsideDays:n=!0,...r}){return s.jsx(Zj,{showOutsideDays:n,className:Re("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Re(Mi({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Re(Mi({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...a})=>s.jsx(Ph,{className:"h-4 w-4"}),IconRight:({...a})=>s.jsx(ch,{className:"h-4 w-4"})},...r})}hd.displayName="Calendar";function md({className:e,date:t,setDate:n,placeholder:r="Pick a date range",...a}){return s.jsx("div",{className:Re("grid gap-2",e),children:s.jsxs(lh,{children:[s.jsx(uh,{asChild:!0,children:s.jsxs(G,{id:"date",variant:"outline",className:Re("w-[300px] justify-start text-left font-normal",!t&&"text-muted-foreground"),children:[s.jsx(Qt,{className:"mr-2 h-4 w-4"}),t!=null&&t.from?t.to?s.jsxs(s.Fragment,{children:[et(t.from,"LLL dd, y")," -"," ",et(t.to,"LLL dd, y")]}):et(t.from,"LLL dd, y"):s.jsx("span",{children:r})]})}),s.jsx(dh,{className:"w-auto p-0",align:"start",children:s.jsx(hd,{initialFocus:!0,mode:"range",defaultMonth:t==null?void 0:t.from,selected:t,onSelect:n,numberOfMonths:2,...a})})]})})}const ds={DEPOSIT:{label:"Deposit",icon:yh,color:"text-green-500"},WITHDRAWAL:{label:"Withdrawal",icon:tn,color:"text-red-500"},TRANSFER:{label:"Transfer",icon:ll,color:"text-blue-500"},PAYMENT:{label:"Payment",icon:tn,color:"text-orange-500"}},$c={COMPLETED:{label:"Completed",icon:Tt,color:"text-green-500",variant:"success"},PENDING:{label:"Pending",icon:Bt,color:"text-yellow-500",variant:"warning"},FAILED:{label:"Failed",icon:Di,color:"text-red-500",variant:"destructive"},CANCELLED:{label:"Cancelled",icon:Di,color:"text-gray-500",variant:"secondary"}};function Qj(){const[e,t]=y.useState([]),[n,r]=y.useState({totalTransactions:0,totalVolume:0,successRate:0,pendingTransactions:0,dailyAverage:0,peakHour:""}),[a,i]=y.useState(!0),[o,c]=y.useState(""),[l,d]=y.useState("all"),[u,h]=y.useState("all"),[m,f]=y.useState({from:null,to:null}),[p,x]=y.useState([]),[g,v]=y.useState([]),[T,b]=y.useState([]),[_,k]=y.useState(!1);y.useEffect(()=>{R(),j(),N();const P=F.channel("transactions-changes").on("postgres_changes",{event:"*",schema:"public",table:"transactions"},S).subscribe();return()=>{P.unsubscribe()}},[l,u,m]);const S=P=>{console.log("Real-time update:",P),P.eventType==="INSERT"?(t(q=>[P.new,...q]),Ee.success("New transaction received",{description:`Transaction ${P.new.transaction_reference} added`})):P.eventType==="UPDATE"&&t(q=>q.map(C=>C.transaction_id===P.new.transaction_id?P.new:C)),j()},R=async()=>{try{i(!0);let P=F.from(I.TRANSACTIONS).select(`
          *,
          accounts!transactions_account_id_fkey (
            account_number,
            customers (
              first_name,
              last_name
            )
          )
        `).order("transaction_date",{ascending:!1}).limit(100);l!=="all"&&(P=P.eq("transaction_status",l.toUpperCase())),u!=="all"&&(P=P.eq("transaction_type",u.toUpperCase())),m.from&&m.to&&(P=P.gte("transaction_date",m.from.toISOString()).lte("transaction_date",m.to.toISOString()));const{data:q,error:C}=await P;if(C)throw C;t(q||[])}catch(P){console.error("Error fetching transactions:",P),Ee.error("Failed to load transactions")}finally{i(!1)}},j=async()=>{try{const{count:P}=await F.from(I.TRANSACTIONS).select("*",{count:"exact",head:!0}),{count:q}=await F.from(I.TRANSACTIONS).select("*",{count:"exact",head:!0}).eq("transaction_status","COMPLETED"),{count:C}=await F.from(I.TRANSACTIONS).select("*",{count:"exact",head:!0}).eq("transaction_status","PENDING"),{data:D}=await F.from(I.TRANSACTIONS).select("amount").eq("transaction_status","COMPLETED"),te=(D==null?void 0:D.reduce((J,ge)=>J+parseFloat(ge.amount||0),0))||0,X=P>0?(q/P*100).toFixed(1):0,{data:ee}=await F.from(I.TRANSACTIONS).select("transaction_date").eq("transaction_status","COMPLETED").gte("transaction_date",new Date(Date.now()-24*60*60*1e3).toISOString()),Se={};ee==null||ee.forEach(J=>{const ge=new Date(J.transaction_date).getHours();Se[ge]=(Se[ge]||0)+1});const ze=Object.entries(Se).reduce((J,ge)=>ge[1]>J[1]?ge:J,["0",0])[0],_t=Math.round(P/30),{data:st}=await F.from(I.TRANSACTIONS).select("transaction_type").eq("transaction_status","COMPLETED"),fn=st==null?void 0:st.reduce((J,ge)=>(J[ge.transaction_type]=(J[ge.transaction_type]||0)+1,J),{}),pn=Object.entries(fn||{}).map(([J,ge])=>{var Jn,es;return{name:((Jn=ds[J])==null?void 0:Jn.label)||J,value:ge,color:((es=ds[J])==null?void 0:es.color)||"text-gray-500"}});b(pn);const ve=Array.from({length:24},(J,ge)=>({hour:`${ge}:00`,transactions:Se[ge]||0}));v(ve),r({totalTransactions:P||0,totalVolume:te,successRate:X,pendingTransactions:C||0,dailyAverage:_t,peakHour:`${ze}:00`})}catch(P){console.error("Error fetching transaction stats:",P),Ee.error("Failed to load transaction statistics")}},N=async()=>{try{const P=[],q=new Date;for(let C=6;C>=0;C--){const D=new Date(q);D.setDate(q.getDate()-C);const te=new Date(D);te.setDate(D.getDate()+1);const{count:X,data:ee}=await F.from(I.TRANSACTIONS).select("amount",{count:"exact"}).gte("transaction_date",D.toISOString()).lt("transaction_date",te.toISOString()).eq("transaction_status","COMPLETED"),Se=(ee==null?void 0:ee.reduce((ze,_t)=>ze+parseFloat(_t.amount||0),0))||0;P.push({date:D.toLocaleDateString("en-US",{weekday:"short"}),transactions:X||0,volume:Se/1e3})}x(P)}catch(P){console.error("Error fetching transaction trends:",P)}},M=async()=>{k(!0),await Promise.all([R(),j(),N()]),k(!1),Ee.success("Data refreshed")},w=e.filter(P=>{var te,X,ee,Se,ze;const q=P.accounts,C=q==null?void 0:q.customers,D=o.toLowerCase();return((te=P.transaction_reference)==null?void 0:te.toLowerCase().includes(D))||((X=q==null?void 0:q.account_number)==null?void 0:X.toLowerCase().includes(D))||((ee=C==null?void 0:C.first_name)==null?void 0:ee.toLowerCase().includes(D))||((Se=C==null?void 0:C.last_name)==null?void 0:Se.toLowerCase().includes(D))||((ze=P.description)==null?void 0:ze.toLowerCase().includes(D))}),A={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},O={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},W=({title:P,value:q,icon:C,trend:D,color:te,subtitle:X})=>s.jsx($.div,{variants:O,whileHover:{scale:1.02},children:s.jsxs(E,{className:"relative overflow-hidden",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:P}),s.jsx(C,{className:`h-4 w-4 ${te}`})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:q}),X&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:X}),D!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{className:D>0?"text-green-500":"text-red-500",children:[D>0?s.jsx(Ue,{className:"inline h-3 w-3"}):s.jsx(Wn,{className:"inline h-3 w-3"}),Math.abs(D),"%"]})," ","from yesterday"]})]}),s.jsx($.div,{className:`absolute top-0 right-0 w-32 h-32 ${te} opacity-10 rounded-full -mr-16 -mt-16`,animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}})]})});return s.jsxs($.div,{variants:A,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Transaction Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor and manage all banking transactions"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{variant:"outline",size:"sm",onClick:M,disabled:_,children:[s.jsx(at,{className:`h-4 w-4 mr-2 ${_?"animate-spin":""}`}),"Refresh"]}),s.jsxs(G,{className:"gap-2",children:[s.jsx(tt,{className:"h-4 w-4"}),"Export"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(W,{title:"Total Transactions",value:n.totalTransactions.toLocaleString(),icon:ll,color:"text-blue-500",trend:8,subtitle:`~${n.dailyAverage} daily avg`}),s.jsx(W,{title:"Transaction Volume",value:`SAR ${(n.totalVolume/1e6).toFixed(1)}M`,icon:Ue,color:"text-green-500",trend:15}),s.jsx(W,{title:"Success Rate",value:`${n.successRate}%`,icon:Tt,color:"text-emerald-500",subtitle:"Completed transactions"}),s.jsx(W,{title:"Pending",value:n.pendingTransactions.toLocaleString(),icon:Bt,color:"text-yellow-500",subtitle:`Peak hour: ${n.peakHour}`})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx($.div,{variants:O,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Transaction Trends"}),s.jsx(z,{children:"Daily transaction volume and count"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Rs,{data:p,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"date"}),s.jsx(ye,{yAxisId:"left"}),s.jsx(ye,{yAxisId:"right",orientation:"right"}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Vt,{yAxisId:"left",type:"monotone",dataKey:"transactions",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6,name:"Count"}),s.jsx(Ke,{yAxisId:"right",type:"monotone",dataKey:"volume",stroke:"#82ca9d",name:"Volume (K SAR)"})]})})})]})}),s.jsx($.div,{variants:O,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Hourly Distribution"}),s.jsx(z,{children:"Transaction activity by hour"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Jt,{data:g,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"hour"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Ve,{dataKey:"transactions",fill:"#8884d8"})]})})})]})})]}),s.jsx($.div,{variants:O,children:s.jsx(qs,{title:"Transaction Performance Comparison",data:{monthlyComparison:{current_month:{revenue:n.totalVolume,transactions:n.totalTransactions,customers:Math.round(n.totalTransactions/3)},previous_month:{revenue:n.totalVolume*.85,transactions:Math.round(n.totalTransactions*.85),customers:Math.round(n.totalTransactions/3*.85)}}},comparisonType:"month"})}),s.jsx($.div,{variants:O,children:s.jsxs(In,{defaultValue:"all",className:"space-y-4",children:[s.jsxs(Vn,{className:"grid w-full grid-cols-5",children:[s.jsx(Be,{value:"all",children:"All Types"}),Object.entries(ds).map(([P,q])=>s.jsxs(Be,{value:P.toLowerCase(),children:[s.jsx(q.icon,{className:"h-4 w-4 mr-2"}),q.label]},P))]}),s.jsx(Ye,{value:"all",className:"space-y-4",children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsx("div",{className:"flex justify-between items-center",children:s.jsxs("div",{children:[s.jsx(B,{children:"Recent Transactions"}),s.jsx(z,{children:"Real-time transaction monitoring"})]})})}),s.jsxs(L,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ps,{placeholder:"Search by reference, account, or description...",value:o,onChange:P=>c(P.target.value),className:"pl-10"})]})}),s.jsxs(yt,{value:l,onValueChange:d,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Filter by status"})}),s.jsxs(bt,{children:[s.jsx(de,{value:"all",children:"All Status"}),Object.entries($c).map(([P,q])=>s.jsx(de,{value:P.toLowerCase(),children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(q.icon,{className:`h-4 w-4 ${q.color}`}),q.label]})},P))]})]}),s.jsx(md,{date:m,setDate:f})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsxs(we,{children:[s.jsx(H,{children:"Reference"}),s.jsx(H,{children:"Type"}),s.jsx(H,{children:"Account"}),s.jsx(H,{children:"Amount"}),s.jsx(H,{children:"Status"}),s.jsx(H,{children:"Date & Time"}),s.jsx(H,{className:"text-right",children:"Actions"})]})}),s.jsx(cn,{children:s.jsx(bp,{children:a?s.jsx(we,{children:s.jsx(Y,{colSpan:7,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Loading transactions..."]})})}):w.length===0?s.jsx(we,{children:s.jsx(Y,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No transactions found"})}):w.map(P=>{var D,te,X,ee,Se;const q=ds[P.transaction_type],C=$c[P.transaction_status];return s.jsxs($.tr,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(Y,{className:"font-medium",children:P.transaction_reference}),s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[q&&s.jsx(q.icon,{className:`h-4 w-4 ${q.color}`}),s.jsx("span",{children:(q==null?void 0:q.label)||P.transaction_type})]})}),s.jsx(Y,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:(D=P.accounts)==null?void 0:D.account_number}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[(X=(te=P.accounts)==null?void 0:te.customers)==null?void 0:X.first_name," ",(Se=(ee=P.accounts)==null?void 0:ee.customers)==null?void 0:Se.last_name]})]})}),s.jsx(Y,{children:s.jsxs("div",{className:P.transaction_type==="DEPOSIT"?"text-green-600":"text-red-600",children:[P.transaction_type==="DEPOSIT"?"+":"-","SAR ",parseFloat(P.amount).toLocaleString()]})}),s.jsx(Y,{children:s.jsxs(ie,{variant:(C==null?void 0:C.variant)||"default",children:[C&&s.jsx(C.icon,{className:"h-3 w-3 mr-1"}),(C==null?void 0:C.label)||P.transaction_status]})}),s.jsx(Y,{children:s.jsxs("div",{children:[s.jsx("div",{children:new Date(P.transaction_date).toLocaleDateString()}),s.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(P.transaction_date).toLocaleTimeString()})]})}),s.jsx(Y,{className:"text-right",children:s.jsx(G,{variant:"ghost",size:"sm",children:"View Details"})})]},P.transaction_id)})})})]})})]})]})})]})})]})}const Wc=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],Uc={PENDING:{label:"Pending",color:"text-yellow-500",variant:"warning"},APPROVED:{label:"Approved",color:"text-blue-500",variant:"default"},DISBURSED:{label:"Disbursed",color:"text-green-500",variant:"success"},ACTIVE:{label:"Active",color:"text-emerald-500",variant:"success"},OVERDUE:{label:"Overdue",color:"text-red-500",variant:"destructive"},CLOSED:{label:"Closed",color:"text-gray-500",variant:"secondary"},DEFAULTED:{label:"Defaulted",color:"text-red-700",variant:"destructive"}},Yr={PERSONAL:{label:"Personal Loan",icon:gt},MORTGAGE:{label:"Mortgage",icon:Ot},AUTO:{label:"Auto Loan",icon:Ot},BUSINESS:{label:"Business Loan",icon:Ot},EDUCATION:{label:"Education Loan",icon:Ot}};function Jj(){const[e,t]=y.useState([]),[n,r]=y.useState({totalLoans:0,activeLoans:0,totalPortfolio:0,overdueLoans:0,disbursedThisMonth:0,averageInterestRate:0,collectionRate:0,nplRatio:0}),[a,i]=y.useState(!0),[o,c]=y.useState(""),[l,d]=y.useState("all"),[u,h]=y.useState("all"),[m,f]=y.useState([]),[p,x]=y.useState([]),[g,v]=y.useState([]),[T,b]=y.useState([]);y.useEffect(()=>{_(),k(),S(),R()},[l,u]);const _=async()=>{try{i(!0);let A=F.from(I.LOAN_ACCOUNTS).select(`
          *,
          customers (
            customer_id,
            first_name,
            last_name,
            email,
            phone_number,
            credit_score
          )
        `).order("created_at",{ascending:!1});l!=="all"&&(A=A.eq("loan_status",l.toUpperCase())),u!=="all"&&(A=A.eq("loan_type",u.toUpperCase()));const{data:O,error:W}=await A;if(W)throw W;t(O||[])}catch(A){console.error("Error fetching loans:",A),Ee.error("Failed to load loans")}finally{i(!1)}},k=async()=>{try{const{count:A}=await F.from(I.LOAN_ACCOUNTS).select("*",{count:"exact",head:!0}),{count:O}=await F.from(I.LOAN_ACCOUNTS).select("*",{count:"exact",head:!0}).in("loan_status",["ACTIVE","DISBURSED"]),{count:W}=await F.from(I.LOAN_ACCOUNTS).select("*",{count:"exact",head:!0}).eq("loan_status","OVERDUE"),{data:P}=await F.from(I.LOAN_ACCOUNTS).select("outstanding_balance").in("loan_status",["ACTIVE","DISBURSED","OVERDUE"]),q=(P==null?void 0:P.reduce((ve,J)=>ve+parseFloat(J.outstanding_balance||0),0))||0,C=new Date;C.setDate(1),C.setHours(0,0,0,0);const{data:D}=await F.from(I.LOAN_ACCOUNTS).select("loan_amount").eq("loan_status","DISBURSED").gte("disbursement_date",C.toISOString()),te=(D==null?void 0:D.reduce((ve,J)=>ve+parseFloat(J.loan_amount||0),0))||0,{data:X}=await F.from(I.LOAN_ACCOUNTS).select("interest_rate").in("loan_status",["ACTIVE","DISBURSED"]),ee=(X==null?void 0:X.length)>0?X.reduce((ve,J)=>ve+parseFloat(J.interest_rate||0),0)/X.length:0,{count:Se}=await F.from(I.LOAN_ACCOUNTS).select("*",{count:"exact",head:!0}).in("loan_status",["OVERDUE","DEFAULTED"]),ze=O>0?(Se/O*100).toFixed(2):0,_t=85+Math.random()*10,{data:st}=await F.from(I.LOAN_ACCOUNTS).select("loan_type, outstanding_balance").in("loan_status",["ACTIVE","DISBURSED"]),fn=st==null?void 0:st.reduce((ve,J)=>(ve[J.loan_type]||(ve[J.loan_type]={count:0,value:0}),ve[J.loan_type].count+=1,ve[J.loan_type].value+=parseFloat(J.outstanding_balance||0),ve),{}),pn=Object.entries(fn||{}).map(([ve,J])=>{var ge;return{name:((ge=Yr[ve])==null?void 0:ge.label)||ve,value:J.value,count:J.count}});x(pn),r({totalLoans:A||0,activeLoans:O||0,totalPortfolio:q,overdueLoans:W||0,disbursedThisMonth:te,averageInterestRate:ee.toFixed(2),collectionRate:_t.toFixed(1),nplRatio:ze})}catch(A){console.error("Error fetching loan stats:",A),Ee.error("Failed to load loan statistics")}},S=async()=>{try{const A=[],O=new Date;for(let W=5;W>=0;W--){const P=new Date(O.getFullYear(),O.getMonth()-W,1),q=new Date(O.getFullYear(),O.getMonth()-W+1,1),{data:C}=await F.from(I.LOAN_ACCOUNTS).select("loan_amount").gte("disbursement_date",P.toISOString()).lt("disbursement_date",q.toISOString()),D=(C==null?void 0:C.reduce((X,ee)=>X+parseFloat(ee.loan_amount||0),0))||0,{count:te}=await F.from(I.LOAN_ACCOUNTS).select("*",{count:"exact",head:!0}).gte("created_at",P.toISOString()).lt("created_at",q.toISOString());A.push({month:P.toLocaleDateString("en-US",{month:"short"}),disbursed:D/1e6,applications:te||0})}f(A)}catch(A){console.error("Error fetching loan trends:",A)}},R=async()=>{try{b([{name:"Performing",value:85,fill:"#00C49F"},{name:"Watch List",value:10,fill:"#FFBB28"},{name:"Non-Performing",value:5,fill:"#FF8042"}])}catch(A){console.error("Error fetching portfolio health:",A)}},j=e.filter(A=>{var P,q,C,D;const O=A.customers,W=o.toLowerCase();return((P=A.loan_account_number)==null?void 0:P.toLowerCase().includes(W))||((q=O==null?void 0:O.first_name)==null?void 0:q.toLowerCase().includes(W))||((C=O==null?void 0:O.last_name)==null?void 0:C.toLowerCase().includes(W))||((D=O==null?void 0:O.email)==null?void 0:D.toLowerCase().includes(W))}),N={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},M={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},w=({title:A,value:O,icon:W,trend:P,color:q,subtitle:C})=>s.jsx($.div,{variants:M,whileHover:{scale:1.02},children:s.jsxs(E,{className:"relative overflow-hidden",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:A}),s.jsx(W,{className:`h-4 w-4 ${q}`})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:O}),C&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:C}),P!==void 0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{className:P>0?"text-green-500":"text-red-500",children:[P>0?s.jsx(Ue,{className:"inline h-3 w-3"}):s.jsx(Wn,{className:"inline h-3 w-3"}),Math.abs(P),"%"]})," ","from last month"]})]}),s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${q} opacity-10 rounded-full -mr-16 -mt-16`})]})});return s.jsxs($.div,{variants:N,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Loan Management"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor loan portfolio and applications"})]}),s.jsxs(G,{className:"gap-2",children:[s.jsx(ya,{className:"h-4 w-4"}),"New Loan Application"]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(w,{title:"Total Portfolio",value:`SAR ${(n.totalPortfolio/1e6).toFixed(1)}M`,icon:St,color:"text-blue-500",trend:12}),s.jsx(w,{title:"Active Loans",value:n.activeLoans.toLocaleString(),icon:Zh,color:"text-green-500",subtitle:`${n.totalLoans} total loans`,trend:8}),s.jsx(w,{title:"Collection Rate",value:`${n.collectionRate}%`,icon:Tt,color:"text-emerald-500",subtitle:"This month"}),s.jsx(w,{title:"NPL Ratio",value:`${n.nplRatio}%`,icon:Es,color:"text-red-500",subtitle:`${n.overdueLoans} overdue`,trend:-2})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsx($.div,{variants:M,children:s.jsxs(E,{children:[s.jsx(V,{className:"pb-2",children:s.jsx(B,{className:"text-sm font-medium",children:"Disbursed This Month"})}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["SAR ",(n.disbursedThisMonth/1e6).toFixed(2),"M"]}),s.jsx(en,{value:75,className:"mt-2"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"75% of monthly target"})]})]})}),s.jsx($.div,{variants:M,children:s.jsxs(E,{children:[s.jsx(V,{className:"pb-2",children:s.jsx(B,{className:"text-sm font-medium",children:"Average Interest Rate"})}),s.jsxs(L,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[n.averageInterestRate,"%"]}),s.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[s.jsx(zh,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Across all loan types"})]})]})]})}),s.jsx($.div,{variants:M,children:s.jsxs(E,{children:[s.jsx(V,{className:"pb-2",children:s.jsx(B,{className:"text-sm font-medium",children:"Portfolio Health"})}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:80,children:s.jsxs(hh,{cx:"50%",cy:"50%",innerRadius:"30%",outerRadius:"90%",data:T,children:[s.jsx(mh,{dataKey:"value",cornerRadius:10,fill:"#00C49F"}),s.jsx(oe,{})]})})})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx($.div,{variants:M,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Loan Disbursement Trends"}),s.jsx(z,{children:"Monthly disbursements and applications"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Rs,{data:m,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"month"}),s.jsx(ye,{yAxisId:"left"}),s.jsx(ye,{yAxisId:"right",orientation:"right"}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Vt,{yAxisId:"left",type:"monotone",dataKey:"disbursed",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6,name:"Disbursed (SAR M)"}),s.jsx(Ke,{yAxisId:"right",type:"monotone",dataKey:"applications",stroke:"#82ca9d",name:"Applications"})]})})})]})}),s.jsx($.div,{variants:M,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Loan Type Distribution"}),s.jsx(z,{children:"Portfolio breakdown by loan type"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Bn,{children:[s.jsx(qn,{data:p,cx:"50%",cy:"50%",labelLine:!1,label:({name:A,percent:O})=>`${A} ${(O*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:p.map((A,O)=>s.jsx($n,{fill:Wc[O%Wc.length]},`cell-${O}`))}),s.jsx(oe,{formatter:A=>`SAR ${(A/1e6).toFixed(1)}M`})]})})})]})})]}),s.jsx($.div,{variants:M,children:s.jsx(qs,{title:"Loan Portfolio Comparison",data:{monthlyComparison:{current_month:{revenue:n.totalPortfolio,transactions:n.activeLoans,customers:n.activeLoans,deposits:n.disbursedThisMonth},previous_month:{revenue:n.totalPortfolio*.9,transactions:Math.round(n.activeLoans*.92),customers:Math.round(n.activeLoans*.92),deposits:n.disbursedThisMonth*.85}}},comparisonType:"month"})}),s.jsx($.div,{variants:M,children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Loan Applications"}),s.jsx(z,{children:"Recent loan applications and active loans"})]}),s.jsx("div",{className:"flex gap-2",children:s.jsxs(G,{variant:"outline",size:"sm",children:[s.jsx(tt,{className:"h-4 w-4 mr-2"}),"Export"]})})]})}),s.jsxs(L,{children:[s.jsxs("div",{className:"flex gap-4 mb-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ls,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(Ps,{placeholder:"Search by loan number, customer name, or email...",value:o,onChange:A=>c(A.target.value),className:"pl-10"})]})}),s.jsxs(yt,{value:l,onValueChange:d,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Filter by status"})}),s.jsxs(bt,{children:[s.jsx(de,{value:"all",children:"All Status"}),Object.entries(Uc).map(([A,O])=>s.jsx(de,{value:A.toLowerCase(),children:O.label},A))]})]}),s.jsxs(yt,{value:u,onValueChange:h,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Filter by type"})}),s.jsxs(bt,{children:[s.jsx(de,{value:"all",children:"All Types"}),Object.entries(Yr).map(([A,O])=>s.jsx(de,{value:A.toLowerCase(),children:O.label},A))]})]})]}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsxs(we,{children:[s.jsx(H,{children:"Loan Number"}),s.jsx(H,{children:"Customer"}),s.jsx(H,{children:"Type"}),s.jsx(H,{children:"Amount"}),s.jsx(H,{children:"Outstanding"}),s.jsx(H,{children:"Interest Rate"}),s.jsx(H,{children:"Status"}),s.jsx(H,{children:"Next Payment"}),s.jsx(H,{className:"text-right",children:"Actions"})]})}),s.jsx(cn,{children:a?s.jsx(we,{children:s.jsx(Y,{colSpan:9,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"Loading loans..."]})})}):j.length===0?s.jsx(we,{children:s.jsx(Y,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No loans found"})}):j.map(A=>{var q,C;const O=Uc[A.loan_status],W=A.next_payment_date?new Date(A.next_payment_date):null,P=W&&W<new Date;return s.jsxs(we,{className:"cursor-pointer hover:bg-muted/50",children:[s.jsx(Y,{className:"font-medium",children:A.loan_account_number}),s.jsx(Y,{children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:A.customers?`${A.customers.first_name} ${A.customers.last_name}`:"N/A"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Score: ",((q=A.customers)==null?void 0:q.credit_score)||"N/A"]})]})}),s.jsx(Y,{children:s.jsx(ie,{variant:"outline",children:((C=Yr[A.loan_type])==null?void 0:C.label)||A.loan_type})}),s.jsxs(Y,{children:["SAR ",parseFloat(A.loan_amount).toLocaleString()]}),s.jsx(Y,{children:s.jsxs("div",{children:[s.jsxs("div",{children:["SAR ",parseFloat(A.outstanding_balance).toLocaleString()]}),s.jsx(en,{value:(A.loan_amount-A.outstanding_balance)/A.loan_amount*100,className:"w-20 h-2 mt-1"})]})}),s.jsxs(Y,{children:[A.interest_rate,"%"]}),s.jsx(Y,{children:s.jsx(ie,{variant:(O==null?void 0:O.variant)||"default",children:(O==null?void 0:O.label)||A.loan_status})}),s.jsx(Y,{children:W?s.jsxs("div",{className:P?"text-red-500":"",children:[s.jsx("div",{children:W.toLocaleDateString()}),s.jsxs("div",{className:"text-sm",children:["SAR ",parseFloat(A.monthly_payment||0).toLocaleString()]})]}):"N/A"}),s.jsx(Y,{className:"text-right",children:s.jsx(G,{variant:"ghost",size:"sm",children:"View Details"})})]},A.loan_account_id)})})]})})]})]})})]})}const hs=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FFC658","#8DD1E1"];function eb(){const[e,t]=y.useState("7d"),[n,r]=y.useState({from:null,to:null}),[a,i]=y.useState(!0),[o,c]=y.useState(!1),[l,d]=y.useState({kpis:{revenue:0,customers:0,transactions:0,avgTransactionValue:0,customerAcquisitionCost:0,churnRate:0,netPromoterScore:0,operationalEfficiency:0},trends:[],customerSegments:[],productPerformance:[],channelAnalytics:[],predictiveInsights:[],riskMetrics:[]});y.useEffect(()=>{u()},[e,n]);const u=async()=>{try{i(!0);const S=await h(),[R,j,N,M,w,A]=await Promise.all([m(),f(),p(),x(),g(),v()]);d({kpis:S,trends:R,customerSegments:j,productPerformance:N,channelAnalytics:M,predictiveInsights:w,riskMetrics:A})}catch(S){console.error("Error fetching analytics data:",S),Ee.error("Failed to load analytics data")}finally{i(!1)}},h=async()=>({revenue:125e6,revenueGrowth:15.2,customers:45678,customerGrowth:8.5,transactions:234567,transactionGrowth:12.3,avgTransactionValue:532,avgTransactionGrowth:3.2,customerAcquisitionCost:125,cacChange:-5.4,churnRate:2.8,churnChange:-.3,netPromoterScore:72,npsChange:4,operationalEfficiency:87,efficiencyChange:2.1}),m=async()=>{const S=[],R=e==="7d"?7:e==="30d"?30:90;for(let j=R-1;j>=0;j--){const N=new Date;N.setDate(N.getDate()-j),S.push({date:N.toLocaleDateString("en-US",{month:"short",day:"numeric"}),revenue:Math.floor(Math.random()*2e6)+3e6,transactions:Math.floor(Math.random()*5e3)+7e3,newCustomers:Math.floor(Math.random()*100)+50,avgValue:Math.floor(Math.random()*100)+450})}return S},f=async()=>[{name:"Premium",value:15234,growth:12.5,revenue:45e6},{name:"Regular",value:25432,growth:8.2,revenue:35e6},{name:"Basic",value:5012,growth:-2.1,revenue:1e7},{name:"VIP",value:234,growth:25.3,revenue:35e6}],p=async()=>[{product:"Savings Account",users:23456,revenue:12e6,growth:15.2},{product:"Current Account",users:18234,revenue:85e5,growth:8.7},{product:"Fixed Deposit",users:8765,revenue:25e6,growth:22.1},{product:"Personal Loan",users:5432,revenue:35e6,growth:18.9},{product:"Credit Card",users:12345,revenue:18e6,growth:12.4},{product:"Mortgage",users:2345,revenue:45e6,growth:9.8}],x=async()=>[{channel:"Mobile App",sessions:145678,conversions:12.5,revenue:45e6},{channel:"Web Portal",sessions:98765,conversions:10.2,revenue:32e6},{channel:"Branch",sessions:45678,conversions:25.3,revenue:38e6},{channel:"ATM",sessions:234567,conversions:5.2,revenue:1e7}],g=async()=>[{metric:"Revenue Forecast",current:125e6,predicted:145e6,confidence:85,trend:"up"},{metric:"Customer Growth",current:45678,predicted:52e3,confidence:78,trend:"up"},{metric:"Churn Risk",current:2.8,predicted:3.2,confidence:72,trend:"down"},{metric:"Transaction Volume",current:234567,predicted:265e3,confidence:82,trend:"up"}],v=async()=>[{category:"Credit Risk",score:72,trend:"stable"},{category:"Operational Risk",score:85,trend:"improving"},{category:"Market Risk",score:68,trend:"declining"},{category:"Liquidity Risk",score:92,trend:"improving"},{category:"Compliance Risk",score:88,trend:"stable"}],T=async()=>{c(!0),await u(),c(!1),Ee.success("Analytics data refreshed")},b={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},_={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},k=({title:S,value:R,change:j,icon:N,color:M,format:w="number"})=>{const A=w==="currency"?`SAR ${(R/1e6).toFixed(1)}M`:w==="percent"?`${R}%`:R.toLocaleString();return s.jsx($.div,{variants:_,whileHover:{scale:1.02},children:s.jsxs(E,{className:"relative overflow-hidden",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:S}),s.jsx(N,{className:`h-4 w-4 ${M}`})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:A}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s.jsxs("span",{className:j>0?"text-green-500":"text-red-500",children:[j>0?s.jsx(Ch,{className:"inline h-3 w-3"}):s.jsx(bh,{className:"inline h-3 w-3"}),Math.abs(j),"%"]})," ","vs last period"]})]}),s.jsx($.div,{className:`absolute top-0 right-0 w-32 h-32 ${M} opacity-10 rounded-full -mr-16 -mt-16`,animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"}})]})})};return s.jsxs($.div,{variants:b,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Advanced insights and business intelligence"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(yt,{value:e,onValueChange:t,children:[s.jsx(vt,{className:"w-[120px]",children:s.jsx(jt,{})}),s.jsxs(bt,{children:[s.jsx(de,{value:"7d",children:"Last 7 days"}),s.jsx(de,{value:"30d",children:"Last 30 days"}),s.jsx(de,{value:"90d",children:"Last 90 days"}),s.jsx(de,{value:"custom",children:"Custom range"})]})]}),e==="custom"&&s.jsx(md,{date:n,setDate:r}),s.jsx(G,{variant:"outline",size:"icon",onClick:T,disabled:o,children:s.jsx(at,{className:`h-4 w-4 ${o?"animate-spin":""}`})}),s.jsxs(G,{className:"gap-2",children:[s.jsx(tt,{className:"h-4 w-4"}),"Export Report"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(k,{title:"Total Revenue",value:l.kpis.revenue,change:l.kpis.revenueGrowth,icon:St,color:"text-green-500",format:"currency"}),s.jsx(k,{title:"Total Customers",value:l.kpis.customers,change:l.kpis.customerGrowth,icon:gt,color:"text-blue-500"}),s.jsx(k,{title:"Net Promoter Score",value:l.kpis.netPromoterScore,change:l.kpis.npsChange,icon:am,color:"text-purple-500"}),s.jsx(k,{title:"Operational Efficiency",value:l.kpis.operationalEfficiency,change:l.kpis.efficiencyChange,icon:dl,color:"text-orange-500",format:"percent"})]}),s.jsx($.div,{variants:_,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Performance Trends"}),s.jsx(z,{children:"Key metrics over time"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:400,children:s.jsxs(uv,{data:l.trends,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"date"}),s.jsx(ye,{yAxisId:"left"}),s.jsx(ye,{yAxisId:"right",orientation:"right"}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Vt,{yAxisId:"left",type:"monotone",dataKey:"revenue",fill:"#8884d8",stroke:"#8884d8",fillOpacity:.6,name:"Revenue"}),s.jsx(Ve,{yAxisId:"right",dataKey:"transactions",fill:"#82ca9d",name:"Transactions"}),s.jsx(Ke,{yAxisId:"right",type:"monotone",dataKey:"newCustomers",stroke:"#ffc658",name:"New Customers"})]})})})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx($.div,{variants:_,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Customer Segments"}),s.jsx(z,{children:"Distribution and performance by segment"})]}),s.jsxs(L,{children:[s.jsx(he,{width:"100%",height:300,children:s.jsxs(Bn,{children:[s.jsx(qn,{data:l.customerSegments,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:S,percent:R})=>`${S} ${(R*100).toFixed(0)}%`,children:l.customerSegments.map((S,R)=>s.jsx($n,{fill:hs[R%hs.length]},`cell-${R}`))}),s.jsx(oe,{})]})}),s.jsx("div",{className:"mt-4 space-y-2",children:l.customerSegments.map((S,R)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:hs[R%hs.length]}}),s.jsx("span",{className:"text-sm",children:S.name})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("span",{className:"text-sm font-medium",children:S.value.toLocaleString()}),s.jsxs(ie,{variant:S.growth>0?"success":"destructive",children:[S.growth>0?"+":"",S.growth,"%"]})]})]},S.name))})]})]})}),s.jsx($.div,{variants:_,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Product Performance"}),s.jsx(z,{children:"Revenue by product category"})]}),s.jsxs(L,{children:[s.jsx(he,{width:"100%",height:300,children:s.jsx(ci,{data:l.productPerformance,dataKey:"revenue",aspectRatio:4/3,stroke:"#fff",fill:"#8884d8",children:s.jsx(oe,{formatter:S=>`SAR ${(S/1e6).toFixed(1)}M`})})}),s.jsx("div",{className:"mt-4 grid grid-cols-2 gap-2",children:l.productPerformance.slice(0,4).map(S=>s.jsxs("div",{className:"flex justify-between items-center p-2 rounded-lg bg-muted/50",children:[s.jsx("span",{className:"text-sm",children:S.product}),s.jsxs(ie,{variant:"outline",children:[S.growth,"%"]})]},S.product))})]})]})})]}),s.jsx($.div,{variants:_,children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Predictive Insights"}),s.jsx(z,{children:"AI-powered forecasts and predictions"})]}),s.jsx(Ah,{className:"h-5 w-5 text-muted-foreground"})]})}),s.jsx(L,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:l.predictiveInsights.map(S=>s.jsxs(E,{className:"border-dashed",children:[s.jsx(V,{className:"pb-2",children:s.jsx(B,{className:"text-sm font-medium",children:S.metric})}),s.jsx(L,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-baseline",children:[s.jsx("span",{className:"text-2xl font-bold",children:S.metric.includes("Revenue")?`SAR ${(S.predicted/1e6).toFixed(0)}M`:S.metric.includes("%")||S.metric.includes("Risk")?`${S.predicted}%`:S.predicted.toLocaleString()}),s.jsx("span",{className:`text-sm ${S.trend==="up"?"text-green-500":"text-red-500"}`,children:S.trend==="up"?s.jsx(Ue,{className:"h-4 w-4"}):s.jsx(Wn,{className:"h-4 w-4"})})]}),s.jsx(en,{value:S.confidence,className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[S.confidence,"% confidence"]})]})})]},S.metric))})})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx($.div,{variants:_,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Channel Performance"}),s.jsx(z,{children:"User engagement by channel"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(al,{data:l.channelAnalytics,children:[s.jsx(ai,{}),s.jsx(il,{dataKey:"channel"}),s.jsx(ol,{angle:90,domain:[0,100]}),s.jsx(cl,{name:"Conversion Rate",dataKey:"conversions",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),s.jsx(oe,{})]})})})]})}),s.jsx($.div,{variants:_,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Risk Assessment"}),s.jsx(z,{children:"Current risk levels by category"})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:l.riskMetrics.map(S=>s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium",children:S.category}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm font-bold",children:[S.score,"/100"]}),s.jsx(ie,{variant:S.trend==="improving"?"success":S.trend==="declining"?"destructive":"secondary",children:S.trend})]})]}),s.jsx(en,{value:S.score,className:`h-2 ${S.score>80?"[&>div]:bg-green-500":S.score>60?"[&>div]:bg-yellow-500":"[&>div]:bg-red-500"}`})]},S.category))})})]})})]}),s.jsx($.div,{variants:_,children:s.jsx(qs,{title:"Period-over-Period Analysis",data:{monthlyComparison:{current_month:{revenue:l.kpis.revenue,transactions:l.kpis.transactions,customers:l.kpis.customers,deposits:l.kpis.revenue*.7},previous_month:{revenue:l.kpis.revenue*.85,transactions:Math.round(l.kpis.transactions*.88),customers:Math.round(l.kpis.customers*.92),deposits:l.kpis.revenue*.6}}},comparisonType:"month"})})]})}const ms={financial:{title:"Financial Reports",icon:St,color:"text-green-500",reports:[{id:"income_statement",name:"Income Statement",frequency:"Monthly"},{id:"balance_sheet",name:"Balance Sheet",frequency:"Quarterly"},{id:"cash_flow",name:"Cash Flow Statement",frequency:"Monthly"},{id:"profit_loss",name:"Profit & Loss",frequency:"Monthly"},{id:"budget_variance",name:"Budget Variance Analysis",frequency:"Monthly"}]},regulatory:{title:"Regulatory Reports",icon:Sa,color:"text-blue-500",reports:[{id:"sama_monthly",name:"SAMA Monthly Report",frequency:"Monthly"},{id:"basel_iii",name:"Basel III Compliance",frequency:"Quarterly"},{id:"aml_report",name:"AML/CFT Report",frequency:"Monthly"},{id:"liquidity_coverage",name:"Liquidity Coverage Ratio",frequency:"Daily"},{id:"capital_adequacy",name:"Capital Adequacy Report",frequency:"Quarterly"}]},customer:{title:"Customer Reports",icon:gt,color:"text-purple-500",reports:[{id:"customer_acquisition",name:"Customer Acquisition",frequency:"Weekly"},{id:"customer_segmentation",name:"Customer Segmentation",frequency:"Monthly"},{id:"customer_satisfaction",name:"Customer Satisfaction",frequency:"Quarterly"},{id:"dormant_accounts",name:"Dormant Accounts",frequency:"Monthly"},{id:"kyc_compliance",name:"KYC Compliance Status",frequency:"Weekly"}]},risk:{title:"Risk Reports",icon:Es,color:"text-red-500",reports:[{id:"credit_risk",name:"Credit Risk Assessment",frequency:"Daily"},{id:"operational_risk",name:"Operational Risk",frequency:"Monthly"},{id:"market_risk",name:"Market Risk Analysis",frequency:"Daily"},{id:"fraud_detection",name:"Fraud Detection Report",frequency:"Daily"},{id:"npl_analysis",name:"NPL Analysis",frequency:"Weekly"}]}};function tb(){const[e,t]=y.useState("financial"),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,c]=y.useState({totalGenerated:0,pendingReports:0,scheduledReports:0,failedReports:0}),[l,d]=y.useState(!0),[u,h]=y.useState({from:null,to:null}),[m,f]=y.useState({}),[p,x]=y.useState(null);y.useEffect(()=>{g(),v(),T(),b()},[]);const g=async()=>{try{const j=[{id:1,name:"Monthly Financial Statement",category:"financial",generated_at:new Date().toISOString(),generated_by:"System",status:"completed",size:"2.4 MB",format:"PDF"},{id:2,name:"SAMA Compliance Report",category:"regulatory",generated_at:new Date(Date.now()-864e5).toISOString(),generated_by:"Admin User",status:"completed",size:"1.8 MB",format:"Excel"},{id:3,name:"Customer Segmentation Analysis",category:"customer",generated_at:new Date(Date.now()-1728e5).toISOString(),generated_by:"Analytics Team",status:"completed",size:"3.1 MB",format:"PDF"},{id:4,name:"Daily Risk Assessment",category:"risk",generated_at:new Date(Date.now()-36e5).toISOString(),generated_by:"Risk Management",status:"processing",size:"-",format:"PDF"}];r(j)}catch(j){console.error("Error fetching recent reports:",j),Ee.error("Failed to load recent reports")}},v=async()=>{try{const j=[{id:1,name:"Weekly Customer Acquisition Report",category:"customer",schedule:"Every Monday at 9:00 AM",next_run:new Date(Date.now()+2592e5).toISOString(),recipients:["management@bank.com","analytics@bank.com"]},{id:2,name:"Daily Liquidity Coverage Ratio",category:"regulatory",schedule:"Daily at 6:00 PM",next_run:new Date(Date.now()+288e5).toISOString(),recipients:["compliance@bank.com","risk@bank.com"]},{id:3,name:"Monthly Income Statement",category:"financial",schedule:"First day of month at 8:00 AM",next_run:new Date(Date.now()+6048e5).toISOString(),recipients:["cfo@bank.com","finance@bank.com"]}];i(j)}catch(j){console.error("Error fetching scheduled reports:",j)}},T=async()=>{try{c({totalGenerated:156,pendingReports:3,scheduledReports:12,failedReports:2})}catch(j){console.error("Error fetching report stats:",j)}finally{d(!1)}},b=async()=>{try{const j=[];for(let M=11;M>=0;M--){const w=new Date;w.setMonth(w.getMonth()-M),j.push({month:w.toLocaleDateString("en-US",{month:"short"}),revenue:Math.floor(Math.random()*5e7)+1e8,expenses:Math.floor(Math.random()*3e7)+7e7,profit:Math.floor(Math.random()*2e7)+2e7})}const N=[];for(let M=6;M>=0;M--){const w=new Date;w.setDate(w.getDate()-M),N.push({date:w.toLocaleDateString("en-US",{weekday:"short"}),new:Math.floor(Math.random()*100)+50,churned:Math.floor(Math.random()*30)+10,total:Math.floor(Math.random()*1e3)+5e3})}f({financial:j,customer:N})}catch(j){console.error("Error generating report data:",j)}},_=async(j,N)=>{x(j),await new Promise(M=>setTimeout(M,2e3)),Ee.success(`${N} generated successfully`,{description:"The report is ready for download"}),x(null),g()},k={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},S={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},R=({title:j,value:N,icon:M,color:w,subtitle:A})=>s.jsx($.div,{variants:S,whileHover:{scale:1.02},children:s.jsxs(E,{className:"relative overflow-hidden",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:j}),s.jsx(M,{className:`h-4 w-4 ${w}`})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:N}),A&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:A})]}),s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${w} opacity-10 rounded-full -mr-16 -mt-16`})]})});return s.jsxs($.div,{variants:k,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Reports Center"}),s.jsx("p",{className:"text-muted-foreground",children:"Generate, schedule, and manage all banking reports"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{variant:"outline",className:"gap-2",children:[s.jsx(Qt,{className:"h-4 w-4"}),"Schedule Report"]}),s.jsxs(G,{className:"gap-2",children:[s.jsx(Ot,{className:"h-4 w-4"}),"Create Custom Report"]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx(R,{title:"Total Reports Generated",value:o.totalGenerated,icon:Ot,color:"text-blue-500",subtitle:"This month"}),s.jsx(R,{title:"Pending Reports",value:o.pendingReports,icon:Bt,color:"text-yellow-500",subtitle:"In queue"}),s.jsx(R,{title:"Scheduled Reports",value:o.scheduledReports,icon:Qt,color:"text-green-500",subtitle:"Active schedules"}),s.jsx(R,{title:"Failed Reports",value:o.failedReports,icon:Es,color:"text-red-500",subtitle:"Require attention"})]}),s.jsx($.div,{variants:S,children:s.jsxs(In,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsx(Vn,{className:"grid w-full grid-cols-4",children:Object.entries(ms).map(([j,N])=>s.jsxs(Be,{value:j,className:"gap-2",children:[s.jsx(N.icon,{className:"h-4 w-4"}),N.title]},j))}),Object.entries(ms).map(([j,N])=>s.jsx(Ye,{value:j,className:"space-y-4",children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:N.title}),s.jsxs(z,{children:["Generate and manage ",N.title.toLowerCase()]})]}),s.jsx(L,{children:s.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:N.reports.map(M=>s.jsx($.div,{variants:S,whileHover:{scale:1.02},children:s.jsxs(E,{className:"cursor-pointer hover:shadow-md transition-shadow",children:[s.jsx(V,{className:"pb-3",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{children:[s.jsx(B,{className:"text-base",children:M.name}),s.jsxs(z,{className:"text-sm",children:[M.frequency," Report"]})]}),s.jsx(ie,{variant:"outline",children:M.frequency})]})}),s.jsx(L,{children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx(G,{size:"sm",onClick:()=>_(M.id,M.name),disabled:p===M.id,children:p===M.id?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-2"}),"Generating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(tt,{className:"h-3 w-3 mr-2"}),"Generate"]})}),s.jsxs(G,{size:"sm",variant:"outline",children:[s.jsx(Qt,{className:"h-3 w-3 mr-2"}),"Schedule"]}),s.jsxs(G,{size:"sm",variant:"outline",children:[s.jsx(Pi,{className:"h-3 w-3 mr-2"}),"Email"]})]})})]})},M.id))})})]})},j))]})}),e==="financial"&&m.financial&&s.jsx($.div,{variants:S,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Financial Overview"}),s.jsx(z,{children:"Revenue, expenses, and profit trends"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Rs,{data:m.financial,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"month"}),s.jsx(ye,{}),s.jsx(oe,{formatter:j=>`SAR ${(j/1e6).toFixed(1)}M`}),s.jsx(wt,{}),s.jsx(Vt,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),s.jsx(Vt,{type:"monotone",dataKey:"profit",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]})})})]})}),s.jsx($.div,{variants:S,children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Recent Reports"}),s.jsx(z,{children:"Recently generated reports"})]}),s.jsx(G,{variant:"outline",size:"sm",children:"View All"})]})}),s.jsx(L,{children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsxs(we,{children:[s.jsx(H,{children:"Report Name"}),s.jsx(H,{children:"Category"}),s.jsx(H,{children:"Generated"}),s.jsx(H,{children:"Generated By"}),s.jsx(H,{children:"Status"}),s.jsx(H,{children:"Size"}),s.jsx(H,{className:"text-right",children:"Actions"})]})}),s.jsx(cn,{children:n.map(j=>{var M;const N=(M=Object.entries(ms).find(([w])=>w===j.category))==null?void 0:M[1];return s.jsxs(we,{children:[s.jsx(Y,{className:"font-medium",children:j.name}),s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[N&&s.jsx(N.icon,{className:`h-4 w-4 ${N.color}`}),s.jsx("span",{children:(N==null?void 0:N.title)||j.category})]})}),s.jsx(Y,{children:new Date(j.generated_at).toLocaleString()}),s.jsx(Y,{children:j.generated_by}),s.jsx(Y,{children:s.jsxs(ie,{variant:j.status==="completed"?"success":j.status==="processing"?"warning":"destructive",children:[j.status==="completed"&&s.jsx(Tt,{className:"h-3 w-3 mr-1"}),j.status==="processing"&&s.jsx(Bt,{className:"h-3 w-3 mr-1"}),j.status]})}),s.jsx(Y,{children:j.size}),s.jsx(Y,{className:"text-right",children:s.jsx("div",{className:"flex justify-end gap-2",children:j.status==="completed"&&s.jsxs(s.Fragment,{children:[s.jsx(G,{size:"sm",variant:"ghost",children:s.jsx(tt,{className:"h-4 w-4"})}),s.jsx(G,{size:"sm",variant:"ghost",children:s.jsx(Jh,{className:"h-4 w-4"})}),s.jsx(G,{size:"sm",variant:"ghost",children:s.jsx(Pi,{className:"h-4 w-4"})})]})})})]},j.id)})})]})})]})}),s.jsx($.div,{variants:S,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Scheduled Reports"}),s.jsx(z,{children:"Automated report generation schedules"})]}),s.jsx(L,{children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsxs(we,{children:[s.jsx(H,{children:"Report Name"}),s.jsx(H,{children:"Category"}),s.jsx(H,{children:"Schedule"}),s.jsx(H,{children:"Next Run"}),s.jsx(H,{children:"Recipients"}),s.jsx(H,{className:"text-right",children:"Actions"})]})}),s.jsx(cn,{children:a.map(j=>{var M;const N=(M=Object.entries(ms).find(([w])=>w===j.category))==null?void 0:M[1];return s.jsxs(we,{children:[s.jsx(Y,{className:"font-medium",children:j.name}),s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[N&&s.jsx(N.icon,{className:`h-4 w-4 ${N.color}`}),s.jsx("span",{children:(N==null?void 0:N.title)||j.category})]})}),s.jsx(Y,{children:j.schedule}),s.jsx(Y,{children:new Date(j.next_run).toLocaleString()}),s.jsx(Y,{children:s.jsxs("div",{className:"flex gap-1",children:[j.recipients.slice(0,2).map((w,A)=>s.jsx(ie,{variant:"outline",className:"text-xs",children:w.split("@")[0]},A)),j.recipients.length>2&&s.jsxs(ie,{variant:"outline",className:"text-xs",children:["+",j.recipients.length-2]})]})}),s.jsx(Y,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(G,{size:"sm",variant:"ghost",children:"Edit"}),s.jsx(G,{size:"sm",variant:"ghost",children:"Pause"})]})})]},j.id)})})]})})]})})]})}const Kc={aml:{label:"AML/CFT",icon:bs,color:"text-blue-500"},kyc:{label:"KYC",icon:ul,color:"text-green-500"},regulatory:{label:"Regulatory",icon:Sa,color:"text-purple-500"},data:{label:"Data Privacy",icon:wa,color:"text-orange-500"},financial:{label:"Financial",icon:Ot,color:"text-indigo-500"}},Hr={low:{label:"Low Risk",color:"text-green-500",bgColor:"bg-green-100"},medium:{label:"Medium Risk",color:"text-yellow-500",bgColor:"bg-yellow-100"},high:{label:"High Risk",color:"text-red-500",bgColor:"bg-red-100"},critical:{label:"Critical",color:"text-red-700",bgColor:"bg-red-200"}};function nb(){var M;const[e,t]=y.useState({overallScore:0,amlScore:0,kycScore:0,regulatoryScore:0,dataPrivacyScore:0,pendingReviews:0,flaggedTransactions:0,openIssues:0,resolvedIssues:0}),[n,r]=y.useState([]),[a,i]=y.useState([]),[o,c]=y.useState([]),[l,d]=y.useState([]),[u,h]=y.useState({verified:0,pending:0,expired:0,rejected:0}),[m,f]=y.useState(!0),[p,x]=y.useState("all"),[g,v]=y.useState("");y.useEffect(()=>{T(),b(),_(),k()},[p]);const T=async()=>{try{f(!0);const w={overallScore:88,amlScore:92,kycScore:85,regulatoryScore:90,dataPrivacyScore:87,pendingReviews:23,flaggedTransactions:7,openIssues:12,resolvedIssues:145},A={verified:42567,pending:1234,expired:567,rejected:89},O=[];for(let W=11;W>=0;W--){const P=new Date;P.setMonth(P.getMonth()-W),O.push({month:P.toLocaleDateString("en-US",{month:"short"}),overallScore:85+Math.random()*10,amlScore:88+Math.random()*10,kycScore:82+Math.random()*10,issues:Math.floor(Math.random()*20)+5})}t(w),h(A),d(O)}catch(w){console.error("Error fetching compliance data:",w),Ee.error("Failed to load compliance data")}finally{f(!1)}},b=async()=>{try{const w=[{id:1,type:"aml",severity:"high",title:"Suspicious Transaction Pattern Detected",description:"Multiple high-value transactions from account ACC-2345 within 24 hours",timestamp:new Date().toISOString(),status:"open"},{id:2,type:"kyc",severity:"medium",title:"KYC Documents Expiring Soon",description:"45 customer KYC documents will expire within the next 30 days",timestamp:new Date(Date.now()-36e5).toISOString(),status:"open"},{id:3,type:"regulatory",severity:"critical",title:"SAMA Reporting Deadline Approaching",description:"Monthly SAMA compliance report due in 2 days",timestamp:new Date(Date.now()-72e5).toISOString(),status:"acknowledged"},{id:4,type:"data",severity:"low",title:"Data Retention Policy Review",description:"Quarterly review of data retention policies is due",timestamp:new Date(Date.now()-864e5).toISOString(),status:"resolved"}];r(w)}catch(w){console.error("Error fetching alerts:",w)}},_=async()=>{try{const w=[{id:1,action:"KYC Verification Completed",user:"Compliance Officer",timestamp:new Date().toISOString(),details:"Customer ID: CUST-12345",status:"success"},{id:2,action:"AML Alert Reviewed",user:"Risk Analyst",timestamp:new Date(Date.now()-18e5).toISOString(),details:"Alert ID: AML-789, Status: False Positive",status:"info"},{id:3,action:"Regulatory Report Submitted",user:"System",timestamp:new Date(Date.now()-36e5).toISOString(),details:"SAMA Monthly Report - November 2024",status:"success"},{id:4,action:"High Risk Transaction Flagged",user:"AML System",timestamp:new Date(Date.now()-72e5).toISOString(),details:"Transaction ID: TXN-45678, Amount: SAR 250,000",status:"warning"}];i(w)}catch(w){console.error("Error fetching audit trail:",w)}},k=async()=>{try{c([{customer:"ABC Corporation",riskLevel:"high",score:78,lastAssessment:"2024-01-15"},{customer:"XYZ Trading",riskLevel:"medium",score:45,lastAssessment:"2024-01-10"},{customer:"Global Imports Ltd",riskLevel:"low",score:22,lastAssessment:"2024-01-08"},{customer:"Tech Solutions Inc",riskLevel:"medium",score:52,lastAssessment:"2024-01-05"},{customer:"Finance Partners",riskLevel:"critical",score:92,lastAssessment:"2024-01-03"}])}catch(w){console.error("Error fetching risk assessments:",w)}},S={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},R={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},j=({title:w,score:A,icon:O,color:W,subtitle:P})=>{const q=C=>C>=90?"text-green-500":C>=80?"text-blue-500":C>=70?"text-yellow-500":"text-red-500";return s.jsx($.div,{variants:R,whileHover:{scale:1.02},children:s.jsxs(E,{className:"relative overflow-hidden",children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:w}),s.jsx(O,{className:`h-4 w-4 ${W}`})]}),s.jsxs(L,{children:[s.jsxs("div",{className:`text-2xl font-bold ${q(A)}`,children:[A,"%"]}),P&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:P}),s.jsx(en,{value:A,className:"mt-2"})]}),s.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 ${W} opacity-10 rounded-full -mr-16 -mt-16`})]})})},N=n.filter(w=>p==="all"||w.type===p);return s.jsxs($.div,{variants:S,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Compliance Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Monitor regulatory compliance and risk management"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(G,{variant:"outline",size:"sm",children:[s.jsx(at,{className:"h-4 w-4 mr-2"}),"Refresh"]}),s.jsxs(G,{className:"gap-2",children:[s.jsx(tt,{className:"h-4 w-4"}),"Export Report"]})]})]}),n.filter(w=>w.severity==="critical"&&w.status==="open").length>0&&s.jsx($.div,{variants:R,children:s.jsxs(fh,{variant:"destructive",children:[s.jsx(qt,{className:"h-4 w-4"}),s.jsx(ph,{children:"Critical Compliance Alert"}),s.jsx(xh,{children:(M=n.find(w=>w.severity==="critical"&&w.status==="open"))==null?void 0:M.description})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-5",children:[s.jsx(j,{title:"Overall Compliance",score:e.overallScore,icon:bs,color:"text-blue-500",subtitle:"Across all areas"}),s.jsx(j,{title:"AML/CFT",score:e.amlScore,icon:bs,color:"text-green-500",subtitle:"Anti-money laundering"}),s.jsx(j,{title:"KYC Compliance",score:e.kycScore,icon:ul,color:"text-purple-500",subtitle:"Know your customer"}),s.jsx(j,{title:"Regulatory",score:e.regulatoryScore,icon:Sa,color:"text-orange-500",subtitle:"SAMA compliance"}),s.jsx(j,{title:"Data Privacy",score:e.dataPrivacyScore,icon:wa,color:"text-indigo-500",subtitle:"GDPR & local laws"})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Pending Reviews"}),s.jsx(qh,{className:"h-4 w-4 text-yellow-500"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.pendingReviews}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Require attention"})]})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Flagged Transactions"}),s.jsx(Es,{className:"h-4 w-4 text-red-500"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.flaggedTransactions}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Under investigation"})]})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Open Issues"}),s.jsx(qt,{className:"h-4 w-4 text-orange-500"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.openIssues}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Active cases"})]})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:"Resolved Issues"}),s.jsx(Tt,{className:"h-4 w-4 text-green-500"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e.resolvedIssues}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"This month"})]})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Compliance Score Trends"}),s.jsx(z,{children:"Monthly compliance performance"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(ks,{data:l,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"month"}),s.jsx(ye,{domain:[70,100]}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Ke,{type:"monotone",dataKey:"overallScore",stroke:"#8884d8",name:"Overall",strokeWidth:2}),s.jsx(Ke,{type:"monotone",dataKey:"amlScore",stroke:"#82ca9d",name:"AML",strokeWidth:2}),s.jsx(Ke,{type:"monotone",dataKey:"kycScore",stroke:"#ffc658",name:"KYC",strokeWidth:2})]})})})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"KYC Status Distribution"}),s.jsx(z,{children:"Customer verification status"})]}),s.jsxs(L,{children:[s.jsx(he,{width:"100%",height:300,children:s.jsxs(Bn,{children:[s.jsx(qn,{data:[{name:"Verified",value:u.verified,color:"#00C49F"},{name:"Pending",value:u.pending,color:"#FFBB28"},{name:"Expired",value:u.expired,color:"#FF8042"},{name:"Rejected",value:u.rejected,color:"#FF0000"}],cx:"50%",cy:"50%",labelLine:!1,label:({name:w,percent:A})=>`${w} ${(A*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Verified",value:u.verified,color:"#00C49F"},{name:"Pending",value:u.pending,color:"#FFBB28"},{name:"Expired",value:u.expired,color:"#FF8042"},{name:"Rejected",value:u.rejected,color:"#FF0000"}].map((w,A)=>s.jsx($n,{fill:w.color},`cell-${A}`))}),s.jsx(oe,{})]})}),s.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Verified"}),s.jsx(ie,{variant:"success",children:u.verified.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Pending"}),s.jsx(ie,{variant:"warning",children:u.pending.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Expired"}),s.jsx(ie,{variant:"destructive",children:u.expired.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm",children:"Rejected"}),s.jsx(ie,{variant:"destructive",children:u.rejected.toLocaleString()})]})]})]})]})})]}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Compliance Alerts"}),s.jsx(z,{children:"Recent compliance notifications and warnings"})]}),s.jsxs(yt,{value:p,onValueChange:x,children:[s.jsx(vt,{className:"w-[180px]",children:s.jsx(jt,{placeholder:"Filter by area"})}),s.jsxs(bt,{children:[s.jsx(de,{value:"all",children:"All Areas"}),Object.entries(Kc).map(([w,A])=>s.jsx(de,{value:w,children:A.label},w))]})]})]})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:N.map(w=>{const A=Kc[w.type];return s.jsxs($.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-start gap-4 p-4 rounded-lg border",children:[s.jsx("div",{className:`p-2 rounded-full ${w.severity==="critical"?"bg-red-100":w.severity==="high"?"bg-orange-100":w.severity==="medium"?"bg-yellow-100":"bg-blue-100"}`,children:s.jsx(A.icon,{className:`h-4 w-4 ${A.color}`})}),s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:w.title}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:w.description}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsx(ie,{variant:w.severity==="critical"||w.severity==="high"?"destructive":w.severity==="medium"?"warning":"secondary",children:w.severity}),s.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(w.timestamp).toLocaleString()})]})]}),s.jsx(ie,{variant:w.status==="open"?"destructive":w.status==="acknowledged"?"warning":"success",children:w.status})]})})]},w.id)})})})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"High Risk Assessments"}),s.jsx(z,{children:"Customers requiring enhanced due diligence"})]}),s.jsx(L,{children:s.jsxs(an,{children:[s.jsx(on,{children:s.jsxs(we,{children:[s.jsx(H,{children:"Customer"}),s.jsx(H,{children:"Risk Level"}),s.jsx(H,{children:"Risk Score"}),s.jsx(H,{children:"Last Assessment"}),s.jsx(H,{className:"text-right",children:"Actions"})]})}),s.jsx(cn,{children:o.filter(w=>w.riskLevel==="high"||w.riskLevel==="critical").map(w=>s.jsxs(we,{children:[s.jsx(Y,{className:"font-medium",children:w.customer}),s.jsx(Y,{children:s.jsx(ie,{className:Hr[w.riskLevel].bgColor,variant:"outline",children:s.jsx("span",{className:Hr[w.riskLevel].color,children:Hr[w.riskLevel].label})})}),s.jsx(Y,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"font-medium",children:[w.score,"/100"]}),s.jsx(en,{value:w.score,className:"w-20"})]})}),s.jsx(Y,{children:new Date(w.lastAssessment).toLocaleDateString()}),s.jsx(Y,{className:"text-right",children:s.jsx(G,{variant:"ghost",size:"sm",children:"Review"})})]},w.customer))})]})})]})}),s.jsx($.div,{variants:R,children:s.jsxs(E,{children:[s.jsx(V,{children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx(B,{children:"Audit Trail"}),s.jsx(z,{children:"Recent compliance activities and actions"})]}),s.jsx(G,{variant:"outline",size:"sm",children:"View Full Log"})]})}),s.jsx(L,{children:s.jsx("div",{className:"space-y-4",children:a.map(w=>s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${w.status==="success"?"bg-green-500":w.status==="warning"?"bg-yellow-500":w.status==="error"?"bg-red-500":"bg-blue-500"}`}),s.jsx("div",{className:"flex-1",children:s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:w.action}),s.jsx("p",{className:"text-sm text-muted-foreground",children:w.details}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["By ",w.user," • ",new Date(w.timestamp).toLocaleString()]})]})})})]},w.id))})})]})})]})}const Fe={totalAssets:158e8,netIncome:45e7,roa:2.85,roe:18.2,nim:3.4,costIncomeRatio:42.5,nplRatio:1.8,capitalAdequacyRatio:16.8,totalCustomers:125e3,activeCustomers:98500,newCustomersThisMonth:2850,customerGrowthRate:12.5},sb=[{month:"Jul 2024",revenue:380,profit:85,customers:118e3},{month:"Aug 2024",revenue:420,profit:95,customers:120500},{month:"Sep 2024",revenue:390,profit:88,customers:121800},{month:"Oct 2024",revenue:450,profit:102,customers:123200},{month:"Nov 2024",revenue:480,profit:115,customers:124100},{month:"Dec 2024",revenue:520,profit:125,customers:125e3},{month:"Jan 2025",revenue:450,profit:108,customers:125e3}],Yc=[{segment:"Retail Banking",value:65e3,percentage:52},{segment:"Premium Banking",value:35e3,percentage:28},{segment:"Private Banking",value:15e3,percentage:12},{segment:"Corporate Banking",value:1e4,percentage:8}],rb=[{product:"Savings Accounts",revenue:125,growth:8.5},{product:"Current Accounts",revenue:95,growth:12.3},{product:"Personal Loans",revenue:180,growth:15.2},{product:"Home Loans",revenue:220,growth:6.8},{product:"Credit Cards",revenue:85,growth:22.1},{product:"Investment Products",revenue:145,growth:18.7}],ab=[{category:"Credit Risk",score:85,status:"Good",trend:"stable"},{category:"Market Risk",score:78,status:"Moderate",trend:"improving"},{category:"Operational Risk",score:92,status:"Excellent",trend:"stable"},{category:"Liquidity Risk",score:88,status:"Good",trend:"improving"}],Hc=["#E6B800","#4A5568","#68D391","#63B3ED","#F687B3","#9F7AEA"];function ib(e,t="SAR"){return e>=1e9?`${t} ${(e/1e9).toFixed(1)}B`:e>=1e6?`${t} ${(e/1e6).toFixed(1)}M`:e>=1e3?`${t} ${(e/1e3).toFixed(1)}K`:`${t} ${e.toLocaleString()}`}function mt({title:e,value:t,change:n,trend:r,icon:a,description:i,format:o="number"}){const c=o==="currency"?ib(t):o==="percentage"?`${t}%`:typeof t=="number"?t.toLocaleString():t;return s.jsxs(E,{children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:e}),s.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:c}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:i}),n&&s.jsxs("div",{className:"flex items-center",children:[r==="up"?s.jsx(tn,{className:"h-3 w-3 text-green-500"}):s.jsx(Os,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:r==="up"?"text-green-500":"text-red-500",children:n})]})]})]})]})}function ob({category:e,score:t,status:n,trend:r}){const a=i=>{switch(i){case"Excellent":return"text-green-600 bg-green-50";case"Good":return"text-blue-600 bg-blue-50";case"Moderate":return"text-yellow-600 bg-yellow-50";case"Poor":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return s.jsx(E,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:e}),s.jsxs("p",{className:"text-2xl font-bold",children:[t,"/100"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsx(ie,{className:a(n),children:n}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r==="improving"?"↗️":r==="declining"?"↘️":"→"," ",r]})]})]})})})}function cb(){const[e,t]=y.useState("monthly"),[n,r]=y.useState(new Date),a=()=>{r(new Date)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Executive Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Strategic overview of banking operations and key performance indicators"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ie,{variant:"outline",className:"text-xs",children:["Last updated: ",n.toLocaleTimeString()]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),"Refresh"]}),s.jsxs(G,{variant:"outline",size:"sm",children:[s.jsx(tt,{className:"mr-2 h-4 w-4"}),"Export Report"]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Financial Performance"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(mt,{title:"Total Assets",value:Fe.totalAssets,change:"+8.5%",trend:"up",icon:Ue,description:"Total bank assets",format:"currency"}),s.jsx(mt,{title:"Net Income",value:Fe.netIncome,change:"+12.3%",trend:"up",icon:St,description:"Annual net income",format:"currency"}),s.jsx(mt,{title:"Return on Assets",value:Fe.roa,change:"+0.3%",trend:"up",icon:Ue,description:"ROA percentage",format:"percentage"}),s.jsx(mt,{title:"Cost-Income Ratio",value:Fe.costIncomeRatio,change:"-2.1%",trend:"up",icon:Wn,description:"Efficiency ratio",format:"percentage"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Metrics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(mt,{title:"Total Customers",value:Fe.totalCustomers,change:"+12.5%",trend:"up",icon:gt,description:"All customers"}),s.jsx(mt,{title:"Active Customers",value:Fe.activeCustomers,change:"+8.2%",trend:"up",icon:Tt,description:"Active this month"}),s.jsx(mt,{title:"New Customers",value:Fe.newCustomersThisMonth,change:"+15.7%",trend:"up",icon:gt,description:"This month"}),s.jsx(mt,{title:"Customer Growth",value:Fe.customerGrowthRate,change:"+2.3%",trend:"up",icon:Ue,description:"YoY growth rate",format:"percentage"})]})]}),s.jsxs(In,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(Vn,{children:[s.jsx(Be,{value:"monthly",children:"Monthly View"}),s.jsx(Be,{value:"quarterly",children:"Quarterly View"}),s.jsx(Be,{value:"yearly",children:"Yearly View"})]}),s.jsxs(Ye,{value:"monthly",className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Revenue & Profit Trend"}),s.jsx(z,{children:"Monthly performance over the last 7 months"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(ks,{data:sb,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"month"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Ke,{type:"monotone",dataKey:"revenue",stroke:"#E6B800",strokeWidth:2,name:"Revenue (SAR M)"}),s.jsx(Ke,{type:"monotone",dataKey:"profit",stroke:"#4A5568",strokeWidth:2,name:"Profit (SAR M)"})]})})})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Customer Segments"}),s.jsx(z,{children:"Distribution by banking segment"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Bn,{children:[s.jsx(qn,{data:Yc,cx:"50%",cy:"50%",labelLine:!1,label:({segment:i,percentage:o})=>`${i}: ${o}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:Yc.map((i,o)=>s.jsx($n,{fill:Hc[o%Hc.length]},`cell-${o}`))}),s.jsx(oe,{})]})})})]})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Product Performance"}),s.jsx(z,{children:"Revenue and growth by product category"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Jt,{data:rb,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"product"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Ve,{dataKey:"revenue",fill:"#E6B800",name:"Revenue (SAR M)"}),s.jsx(Ve,{dataKey:"growth",fill:"#4A5568",name:"Growth %"})]})})})]})]}),s.jsx(Ye,{value:"quarterly",className:"space-y-4",children:s.jsx(E,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Qt,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{children:"Quarterly view coming soon..."})]})})})}),s.jsx(Ye,{value:"yearly",className:"space-y-4",children:s.jsx(E,{children:s.jsx(L,{className:"pt-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Qt,{className:"h-12 w-12 mx-auto mb-4"}),s.jsx("p",{children:"Yearly view coming soon..."})]})})})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Risk Management"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:ab.map((i,o)=>s.jsx(ob,{...i},o))})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Key Banking Ratios"}),s.jsx(z,{children:"Important financial and operational ratios"})]}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[Fe.nim,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Net Interest Margin"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[Fe.roe,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Return on Equity"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[Fe.nplRatio,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"NPL Ratio"})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[Fe.capitalAdequacyRatio,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Capital Adequacy"})]})]})})]})]})}const ft={dailyTransactions:45678,transactionVolume:125e6,systemUptime:99.97,avgProcessingTime:2.3,failedTransactions:23,pendingApprovals:156,activeUsers:8547,atmAvailability:98.5},lb=[{hour:"00:00",count:245,volume:85e4},{hour:"01:00",count:189,volume:62e4},{hour:"02:00",count:156,volume:48e4},{hour:"03:00",count:134,volume:39e4},{hour:"04:00",count:167,volume:52e4},{hour:"05:00",count:298,volume:89e4},{hour:"06:00",count:567,volume:165e4},{hour:"07:00",count:1234,volume:32e5},{hour:"08:00",count:2890,volume:78e5},{hour:"09:00",count:4567,volume:125e5},{hour:"10:00",count:5234,volume:152e5},{hour:"11:00",count:4890,volume:141e5},{hour:"12:00",count:5678,volume:168e5},{hour:"13:00",count:4234,volume:129e5},{hour:"14:00",count:3890,volume:112e5},{hour:"15:00",count:3456,volume:98e5},{hour:"16:00",count:2890,volume:81e5},{hour:"17:00",count:2345,volume:67e5},{hour:"18:00",count:1890,volume:52e5},{hour:"19:00",count:1456,volume:39e5},{hour:"20:00",count:1123,volume:28e5},{hour:"21:00",count:890,volume:21e5},{hour:"22:00",count:678,volume:16e5},{hour:"23:00",count:456,volume:12e5}],ub=[{channel:"Mobile App",transactions:18500,percentage:40.5,status:"operational"},{channel:"Internet Banking",transactions:12300,percentage:27,status:"operational"},{channel:"ATM",transactions:8900,percentage:19.5,status:"operational"},{channel:"Branch",transactions:4200,percentage:9.2,status:"operational"},{channel:"Call Center",transactions:1778,percentage:3.8,status:"maintenance"}],db=[{system:"Core Banking",status:"operational",uptime:99.98,response:1.2},{system:"Payment Gateway",status:"operational",uptime:99.95,response:.8},{system:"Mobile App Backend",status:"operational",uptime:99.92,response:1.5},{system:"ATM Network",status:"warning",uptime:98.5,response:2.1},{system:"Card Processing",status:"operational",uptime:99.97,response:.9}],hb=[{id:1,type:"warning",message:"ATM #ATM-045 low cash alert",time:"10 minutes ago",severity:"medium"},{id:2,type:"info",message:"Scheduled maintenance completed",time:"25 minutes ago",severity:"low"},{id:3,type:"error",message:"Failed transaction spike detected",time:"1 hour ago",severity:"high"},{id:4,type:"warning",message:"High call center volume",time:"2 hours ago",severity:"medium"}],mb=[{branch:"Riyadh Main",transactions:1250,customers:340,efficiency:92},{branch:"Jeddah Central",transactions:980,customers:280,efficiency:88},{branch:"Dammam Branch",transactions:750,customers:210,efficiency:85},{branch:"Mecca Branch",transactions:680,customers:190,efficiency:90},{branch:"Medina Branch",transactions:520,customers:150,efficiency:87}];function fb(e,t="SAR"){return e>=1e6?`${t} ${(e/1e6).toFixed(1)}M`:e>=1e3?`${t} ${(e/1e3).toFixed(1)}K`:`${t} ${e.toLocaleString()}`}function pt({title:e,value:t,change:n,trend:r,icon:a,description:i,format:o="number",status:c}){const l=o==="currency"?fb(t):o==="percentage"?`${t}%`:o==="time"?`${t}s`:typeof t=="number"?t.toLocaleString():t,d=()=>c==="critical"?"border-red-500 bg-red-50":c==="warning"?"border-yellow-500 bg-yellow-50":c==="good"?"border-green-500 bg-green-50":"";return s.jsxs(E,{className:d(),children:[s.jsxs(V,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(B,{className:"text-sm font-medium",children:e}),s.jsx(a,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(L,{children:[s.jsx("div",{className:"text-2xl font-bold",children:l}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:i}),n&&s.jsxs("div",{className:"flex items-center",children:[r==="up"?s.jsx(tn,{className:"h-3 w-3 text-green-500"}):s.jsx(Os,{className:"h-3 w-3 text-red-500"}),s.jsx("span",{className:r==="up"?"text-green-500":"text-red-500",children:n})]})]})]})]})}function pb({system:e,status:t,uptime:n,response:r}){const a=()=>{switch(t){case"operational":return s.jsx(Tt,{className:"h-4 w-4 text-green-500"});case"warning":return s.jsx(qt,{className:"h-4 w-4 text-yellow-500"});case"error":return s.jsx(qt,{className:"h-4 w-4 text-red-500"});default:return s.jsx(Bt,{className:"h-4 w-4 text-gray-500"})}},i=()=>{switch(t){case"operational":return"text-green-600 bg-green-50";case"warning":return"text-yellow-600 bg-yellow-50";case"error":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}};return s.jsx(E,{children:s.jsxs(L,{className:"pt-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[a(),s.jsx("span",{className:"font-medium",children:e})]}),s.jsx(ie,{className:i(),children:t})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Uptime"}),s.jsxs("p",{className:"font-semibold",children:[n,"%"]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Response"}),s.jsxs("p",{className:"font-semibold",children:[r,"s"]})]})]})]})})}function xb({alert:e}){const t=()=>{switch(e.type){case"error":return s.jsx(qt,{className:"h-4 w-4 text-red-500"});case"warning":return s.jsx(qt,{className:"h-4 w-4 text-yellow-500"});case"info":return s.jsx(Tt,{className:"h-4 w-4 text-blue-500"});default:return s.jsx(Bt,{className:"h-4 w-4 text-gray-500"})}},n=()=>{switch(e.severity){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-blue-500";default:return"border-l-gray-500"}};return s.jsx(E,{className:`border-l-4 ${n()}`,children:s.jsx(L,{className:"pt-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[t(),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium",children:e.message}),s.jsx("p",{className:"text-xs text-muted-foreground",children:e.time})]})]})})})}function gb(){const[e,t]=y.useState("realtime"),[n,r]=y.useState(new Date),a=()=>{r(new Date)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Operations Dashboard"}),s.jsx("p",{className:"text-muted-foreground",children:"Real-time monitoring of banking operations and system performance"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(ie,{variant:"outline",className:"text-xs",children:["Live • Updated ",n.toLocaleTimeString()]}),s.jsxs(G,{variant:"outline",size:"sm",onClick:a,children:[s.jsx(at,{className:"mr-2 h-4 w-4"}),"Refresh"]}),s.jsxs(G,{variant:"outline",size:"sm",children:[s.jsx(Gc,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Real-time Operations"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(pt,{title:"Daily Transactions",value:ft.dailyTransactions,change:"+8.5%",trend:"up",icon:js,description:"Today's total",status:"good"}),s.jsx(pt,{title:"Transaction Volume",value:ft.transactionVolume,change:"+12.3%",trend:"up",icon:St,description:"Today's volume",format:"currency",status:"good"}),s.jsx(pt,{title:"System Uptime",value:ft.systemUptime,change:"+0.02%",trend:"up",icon:nm,description:"Current uptime",format:"percentage",status:"good"}),s.jsx(pt,{title:"Failed Transactions",value:ft.failedTransactions,change:"-15%",trend:"up",icon:qt,description:"Today's failures",status:"warning"})]})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Performance Metrics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(pt,{title:"Avg Processing Time",value:ft.avgProcessingTime,change:"-0.3s",trend:"up",icon:dl,description:"Response time",format:"time",status:"good"}),s.jsx(pt,{title:"Active Users",value:ft.activeUsers,change:"+5.2%",trend:"up",icon:gt,description:"Currently online",status:"good"}),s.jsx(pt,{title:"Pending Approvals",value:ft.pendingApprovals,change:"+12",trend:"down",icon:Bt,description:"Awaiting approval",status:"warning"}),s.jsx(pt,{title:"ATM Availability",value:ft.atmAvailability,change:"-1.5%",trend:"down",icon:vs,description:"Network status",format:"percentage",status:"warning"})]})]}),s.jsxs(In,{value:e,onValueChange:t,className:"space-y-4",children:[s.jsxs(Vn,{children:[s.jsx(Be,{value:"realtime",children:"Real-time"}),s.jsx(Be,{value:"channels",children:"Channels"}),s.jsx(Be,{value:"branches",children:"Branches"})]}),s.jsx(Ye,{value:"realtime",className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Hourly Transaction Pattern"}),s.jsx(z,{children:"Transaction count and volume by hour"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Rs,{data:lb,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"hour"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Vt,{type:"monotone",dataKey:"count",stroke:"#E6B800",fill:"#E6B800",fillOpacity:.3,name:"Transaction Count"})]})})})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"System Health"}),s.jsx(z,{children:"Current status of critical systems"})]}),s.jsx(L,{children:s.jsx("div",{className:"space-y-3",children:db.map((i,o)=>s.jsx(pb,{...i},o))})})]})]})}),s.jsx(Ye,{value:"channels",className:"space-y-4",children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Channel Performance"}),s.jsx(z,{children:"Transaction distribution across channels"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Jt,{data:ub,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"channel"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(Ve,{dataKey:"transactions",fill:"#E6B800",name:"Transactions"}),s.jsx(Ve,{dataKey:"percentage",fill:"#4A5568",name:"Percentage %"})]})})})]})}),s.jsx(Ye,{value:"branches",className:"space-y-4",children:s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Branch Performance"}),s.jsx(z,{children:"Daily metrics by branch location"})]}),s.jsx(L,{children:s.jsx(he,{width:"100%",height:300,children:s.jsxs(Jt,{data:mb,children:[s.jsx(Me,{strokeDasharray:"3 3"}),s.jsx(Te,{dataKey:"branch"}),s.jsx(ye,{}),s.jsx(oe,{}),s.jsx(wt,{}),s.jsx(Ve,{dataKey:"transactions",fill:"#E6B800",name:"Transactions"}),s.jsx(Ve,{dataKey:"customers",fill:"#4A5568",name:"Customers"}),s.jsx(Ve,{dataKey:"efficiency",fill:"#68D391",name:"Efficiency %"})]})})})]})})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recent Alerts"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:hb.map(i=>s.jsx(xb,{alert:i},i.id))})]}),s.jsxs(E,{children:[s.jsxs(V,{children:[s.jsx(B,{children:"Quick Actions"}),s.jsx(z,{children:"Common operational tasks"})]}),s.jsx(L,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(G,{variant:"outline",className:"h-20 flex-col",children:[s.jsx(bs,{className:"h-6 w-6 mb-2"}),"Security Center"]}),s.jsxs(G,{variant:"outline",className:"h-20 flex-col",children:[s.jsx(Fh,{className:"h-6 w-6 mb-2"}),"System Maintenance"]}),s.jsxs(G,{variant:"outline",className:"h-20 flex-col",children:[s.jsx(tt,{className:"h-6 w-6 mb-2"}),"Export Reports"]})]})})]})]})}const bb=()=>s.jsxs(jd,{children:[s.jsx($e,{path:"/",element:s.jsx(xm,{})}),s.jsx($e,{path:"/customers",element:s.jsx(vm,{})}),s.jsx($e,{path:"/accounts",element:s.jsx(dv,{})}),s.jsx($e,{path:"/transactions",element:s.jsx(Qj,{})}),s.jsx($e,{path:"/loans",element:s.jsx(Jj,{})}),s.jsx($e,{path:"/analytics",element:s.jsx(eb,{})}),s.jsx($e,{path:"/reports",element:s.jsx(tb,{})}),s.jsx($e,{path:"/compliance",element:s.jsx(nb,{})}),s.jsx($e,{path:"/executive",element:s.jsx(cb,{})}),s.jsx($e,{path:"/operations",element:s.jsx(gb,{})}),s.jsx($e,{path:"*",element:s.jsx(bd,{to:"/",replace:!0})})]});export{bb as default};
